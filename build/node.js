"use strict";/* eslint-disable */
var ju=Object.defineProperty;var oE=(c,e,t)=>e in c?ju(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var n=(c,e)=>ju(c,"name",{value:e,configurable:!0});var g=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports);var se=(c,e,t)=>(oE(c,typeof e!="symbol"?e+"":e,t),t),El=(c,e,t)=>{if(!e.has(c))throw TypeError("Cannot "+t)};var d=(c,e,t)=>(El(c,e,"read from private field"),t?t.call(c):e.get(c)),T=(c,e,t)=>{if(e.has(c))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(c):e.set(c,t)},C=(c,e,t,s)=>(El(c,e,"write to private field"),s?s.call(c,t):e.set(c,t),t);var A=(c,e,t)=>(El(c,e,"access private method"),t);var X=g((WL,eh)=>{"use strict";eh.exports={URLS:{YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",API:{BASE:"https://youtubei.googleapis.com",PRODUCTION:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}},OAUTH:{SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:{accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"},REGEX:{AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:/.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},/}},CLIENTS:{WEB:{NAME:"WEB"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"17.17.32"}},STREAM_HEADERS:{accept:"*/*",connection:"keep-alive",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},INNERTUBE_HEADERS_BASE:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},METADATA_KEYS:["embed","view_count","average_rating","allow_ratings","length_seconds","channel_id","channel_url","external_channel_id","is_live_content","is_family_safe","is_unlisted","is_private","has_ypc_metadata","category","owner_channel_name","publish_date","upload_date","keywords","available_countries","owner_profile_url"],BLACKLISTED_KEYS:["is_owner_viewing","is_unplugged_corpus","is_crawlable","author"],ACCOUNT_SETTINGS:{SUBSCRIPTIONS:"NOTIFICATION_SUBSCRIPTION_NOTIFICATIONS",RECOMMENDED_VIDEOS:"NOTIFICATION_RECOMMENDATION_WEB_CONTROL",CHANNEL_ACTIVITY:"NOTIFICATION_COMMENT_WEB_CONTROL",COMMENT_REPLIES:"NOTIFICATION_COMMENT_REPLY_OTHER_WEB_CONTROL",USER_MENTION:"NOTIFICATION_USER_MENTION_WEB_CONTROL",SHARED_CONTENT:"NOTIFICATION_RETUBING_WEB_CONTROL",PLAYLISTS_PRIVACY:"PRIVACY_DISCOVERABLE_SAVED_PLAYLISTS",SUBSCRIPTIONS_PRIVACY:"PRIVACY_DISCOVERABLE_SUBSCRIPTIONS"},BASE64_DIALECT:{NORMAL:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),REVERSE:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("")},SIG_REGEX:{ACTIONS:/;.{2}\.(?<name>.{2})\(.*?,(?<param>.*?)\)/g,FUNCTIONS:/(?<name>.{2}):function\(.*?\){(.*?)}/g},NTOKEN_REGEX:{CALLS:/c\[(.*?)\]\((.+?)\)/g,PLACEHOLDERS:/c\[(.*?)\]=c/g,FUNCTIONS:/d\.push\(e\)|d\.reverse\(\)|d\[0\]\)\[0\]\)|f=d\[0];d\[0\]|d\.length;d\.splice\(e,1\)|function\(\){for\(var|function\(d,e,f\){var|function\(d\){for\(var|reverse\(\)\.forEach|unshift\(d\.pop\(\)\)|function\(d,e\){for\(var f/},FUNCS:{PUSH:"d.push(e)",REVERSE_1:"d.reverse()",REVERSE_2:"function(d){for(var",SPLICE:"d.length;d.splice(e,1)",SWAP0_1:"d[0])[0])",SWAP0_2:"f=d[0];d[0]",ROTATE_1:"reverse().forEach",ROTATE_2:"unshift(d.pop())",BASE64_DIA:"function(){for(var",TRANSLATE_1:"function(d,e){for(var f",TRANSLATE_2:"function(d,e,f){var"}}});var zn=g((HL,cE)=>{cE.exports={name:"youtubei.js",version:"2.0.0",description:"A full-featured wrapper around YouTube's private API. Allows you to retrieve info about any video, subscribe, unsubscribe, like, dislike, comment, search, download videos/music and much more!",author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)"],funding:"https://ko-fi.com/luanrt",license:"MIT",scripts:{test:"npx jest --verbose","test:node":"npm run build:node:prod && npx jest node","test:browser":"npm run build:browser:prod && npx jest browser",lint:"npx eslint ./lib","lint:fix":"npx eslint --fix ./lib","build:types":"npx tsc","build:parser-map":"node ./scripts/build-parser-json.js","build:general":'npm run build:parser-map && npx esbuild ./lib/Innertube.js --banner:js="/* eslint-disable */" --bundle --target=node12 --keep-names --format=cjs --sourcemap',"build:node":"npm run build:general -- --outfile=./build/node.js --platform=node --external:./node_modules/* --define:BROWSER=false","build:node:prod":"npm run build:node -- --minify","build:browser":"npm run build:general -- --outfile=./build/browser.js --platform=browser --define:BROWSER=true","build:browser:prod":"npm run build:browser -- --minify"},types:"./typings/lib/Innertube.d.ts",main:"./build/node.js",browser:"./build/browser.js",directories:{test:"./test",typings:"./typings",examples:"./examples",lib:"./lib"},dependencies:{axios:"^0.21.4",buffer:"^6.0.3",events:"^3.3.0",flat:"^5.0.2",idb:"^7.0.2","node-forge":"^1.3.1","protocol-buffers-encodings":"^1.1.1","stream-browserify":"^3.0.0","user-agents":"^1.0.778",uuid:"^8.3.2"},devDependencies:{"@types/node":"^17.0.31",esbuild:"^0.14.48",eslint:"^8.15.0","eslint-plugin-jsdoc":"^39.3.2","fake-dom":"^1.0.4","fake-indexeddb":"^4.0.0",jest:"^28.1.0",typescript:"^4.6.4",xhr2:"^0.2.1","xmlhttprequest-ssl":"^2.0.0"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","innertube","innertubeapi","unofficial","downloader","livechat","ytmusic","dislike","search","comment","music","like","api"]}});var B=g((zL,ih)=>{"use strict";var aE=require("crypto"),th=require("../node_modules/user-agents/dist/index.js"),lE=require("../node_modules/flat/index.js"),ve=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=zn().version}};n(ve,"InnertubeError");var nn=class extends ve{};n(nn,"ParsingError");var Kn=class extends ve{};n(Kn,"DownloadError");var sn=class extends ve{};n(sn,"MissingParamError");var Qn=class extends ve{};n(Qn,"UnavailableContentError");var Jn=class extends ve{};n(Jn,"NoStreamingDataError");var Xn=class extends ve{};n(Xn,"OAuthError");function uE(c,e,t,s,a=!0){let i=lE(c,{safe:a,maxDepth:s||2}),r=Object.keys(i).find(o=>o.includes(e)&&JSON.stringify(i[o]||"{}").includes(t));if(!r)throw new nn(`Expected to find "${e}" with content "${t}" but got ${r}`,{key:e,target:t,data_snippet:`${JSON.stringify(i,null,4).slice(0,300)}..`});return i[r]}n(uE,"findNode");function hE(c){return new Proxy(c,{get(e,t){return t=="get"?(s,a)=>e.find((i,r)=>{let o=nh(s,i);return o&&a&&e.splice(r,1),o}):t=="findAll"?(s,a)=>e.filter((i,r)=>{let o=nh(s,i);return o&&a&&e.splice(r,1),o}):t=="remove"?s=>e.splice(s,1):Reflect.get(...arguments)}})}n(hE,"observe");function nh(c,e){return Reflect.ownKeys(c).some(s=>{var i;let a=((i=e[s])==null?void 0:i.constructor.name)==="Text";return!a&&typeof e[s]=="object"?JSON.stringify(c[s])===JSON.stringify(e[s]):c[s]===(a?e[s].toString():e[s])})}n(nh,"deepCompare");function dE(){let c=process.env,e=process.platform==="win32",t=e?/[^:]\\$/:/.\/$/,s;return e?s=c.TEMP||c.TMP||`${c.SystemRoot||c.windir}\\temp`:s=c.TMPDIR||c.TMP||c.TEMP||"/tmp",t.test(s)&&(s=s.slice(0,-1)),s}n(dE,"getTmpdir");function pE(c,e,t){let s=new RegExp(`${sh(e)}(.*?)${sh(t)}`,"s"),a=c.match(s);return a?a[1]:void 0}n(pE,"getStringBetweenStrings");function sh(c){return c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(sh,"escapeStringRegexp");function mE(c){switch(c){case"mobile":return new th(/Android/).data;case"desktop":return new th({deviceCategory:"desktop"}).data;default:}}n(mE,"getRandomUserAgent");function gE(c){let e="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),s=[t,c,e].join(" "),a;return a=aE.createHash("sha1").update(s,"utf-8").digest("hex"),["SAPISIDHASH",[t,a].join("_")].join(" ")}n(gE,"generateSidAuth");function _E(c){let e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<c;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}n(_E,"generateRandomString");function yE(c){let e=c.split(":");switch(e.length){case 1:return parseInt(+e[0]);case 2:return parseInt(+e[0]*60+ +e[1]);case 3:return parseInt(+e[0]*3600+ +e[1]*60+ +e[2]);default:break}}n(yE,"timeToSeconds");function wE(c){return c[0].toLowerCase()+c.slice(1,c.length).replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(wE,"camelToSnake");function vE(c){return["YOUTUBE","YTMUSIC"].includes(c)}n(vE,"isValidClient");function bE(c){for(let[e,t]of Object.entries(c))if(!t)throw new sn(`${e} is missing`)}n(bE,"throwIfMissing");function xE(c){return c.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}n(xE,"refineNTokenData");var TE={InnertubeError:ve,UnavailableContentError:Qn,ParsingError:nn,DownloadError:Kn,MissingParamError:sn,NoStreamingDataError:Jn,OAuthError:Xn},EE={findNode:uE,observe:hE,getTmpdir:dE,getRandomUserAgent:mE,generateSidAuth:gE,generateRandomString:_E,getStringBetweenStrings:pE,camelToSnake:wE,isValidClient:vE,throwIfMissing:bE,timeToSeconds:yE,refineNTokenData:xE};ih.exports={...EE,...TE}});var ah=g((KL,ch)=>{"use strict";var qE=require("../node_modules/uuid/dist/index.js"),he=X(),{OAuthError:rn}=B(),be,Ue,ie,on,de,cn,ql,fn,rh,jn,oh,an,Rl,Zn=class{constructor(e,t){T(this,cn);T(this,fn);T(this,jn);T(this,an);T(this,be,void 0);T(this,Ue,void 0);T(this,ie,{});T(this,on,5);T(this,de,null);C(this,de,e),C(this,be,t)}init(e){C(this,ie,e),e.access_token||A(this,cn,ql).call(this)}async checkAccessTokenValidity(){let e=new Date(d(this,ie).expires).getTime();new Date().getTime()>e&&await A(this,jn,oh).call(this)}revokeCredentials(){return d(this,be).call(this,{url:"/o/oauth2/revoke",baseURL:he.URLS.YT_BASE,params:{token:this.getAccessToken()},method:"post"})}get credentials(){return d(this,ie)}validateCredentials(){return d(this,ie).hasOwnProperty("access_token")&&d(this,ie).hasOwnProperty("refresh_token")&&d(this,ie).hasOwnProperty("expires")}};n(Zn,"OAuth"),be=new WeakMap,Ue=new WeakMap,ie=new WeakMap,on=new WeakMap,de=new WeakMap,cn=new WeakSet,ql=n(async function(){C(this,Ue,await A(this,an,Rl).call(this));let e={client_id:d(this,Ue).client_id,scope:he.OAUTH.SCOPE,device_id:qE.v4(),model_name:he.OAUTH.MODEL_NAME},t=await d(this,be).call(this,{data:e,url:"/o/oauth2/device/code",baseURL:he.URLS.YT_BASE,method:"post"}).catch(s=>s);if(t instanceof Error)return d(this,de).emit("auth",new rn("Could not obtain user code.",t.message));d(this,de).emit("auth",{...t.data,status:"AUTHORIZATION_PENDING"}),C(this,on,t.data.interval),A(this,fn,rh).call(this,t.data.device_code)},"#getUserCode"),fn=new WeakSet,rh=n(function(e){let t=setInterval(async()=>{let s={...d(this,Ue),code:e,grant_type:he.OAUTH.GRANT_TYPE},a=await d(this,be).call(this,{data:s,url:"/o/oauth2/token",baseURL:he.URLS.YT_BASE,method:"post"}).catch(r=>r);if(a instanceof Error)return d(this,de).emit("auth",new rn("Could not obtain user code.",{status:"FAILED",message:a.message}));if(a.data.error){switch(a.data.error){case"access_denied":d(this,de).emit("auth",new rn("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,de).emit("auth",new rn("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),A(this,cn,ql).call(this);break;default:break}return}let i=new Date(new Date().getTime()+a.data.expires_in*1e3);C(this,ie,{access_token:a.data.access_token,refresh_token:a.data.refresh_token,expires:i}),d(this,de).emit("auth",{credentials:d(this,ie),status:"SUCCESS"}),clearInterval(t)},d(this,on)*1e3)},"#startPolling"),jn=new WeakSet,oh=n(async function(){C(this,Ue,await A(this,an,Rl).call(this));let e={...d(this,Ue),refresh_token:d(this,ie).refresh_token,grant_type:"refresh_token"},t=await d(this,be).call(this,{data:e,url:"/o/oauth2/token",baseURL:he.URLS.YT_BASE,method:"post"}).catch(a=>a);if(t instanceof Error)return d(this,de).emit("update-credentials",new rn("Could not refresh access token.",{status:"FAILED"}));let s=new Date(new Date().getTime()+t.data.expires_in*1e3);C(this,ie,{access_token:t.data.access_token,refresh_token:t.data.refresh_token||this.credentials.refresh_token,expires:s}),d(this,de).emit("update-credentials",{credentials:d(this,ie),status:"SUCCESS"})},"#refreshAccessToken"),an=new WeakSet,Rl=n(async function(){let e=await d(this,be).call(this,{url:"/tv",baseURL:he.URLS.YT_BASE,headers:he.OAUTH.HEADERS}),t=he.OAUTH.REGEX.AUTH_SCRIPT.exec(e.data)[1];return(await d(this,be).call(this,{url:t,baseURL:he.URLS.YT_BASE})).data.replace(/\n/g,"").match(he.OAUTH.REGEX.CLIENT_IDENTITY).groups},"#getClientIdentity");ch.exports=Zn});var lh=g(oe=>{var m=require("../node_modules/protocol-buffers-encodings/index.js"),x=m.varint,V=m.skip,Il=oe.VisitorData={buffer:!0,encodingLength:null,encode:null,decode:null},es=oe.ChannelAnalytics={buffer:!0,encodingLength:null,encode:null,decode:null},ts=oe.InnertubePayload={buffer:!0,encodingLength:null,encode:null,decode:null},ns=oe.SoundInfoParams={buffer:!0,encodingLength:null,encode:null,decode:null},ss=oe.NotificationPreferences={buffer:!0,encodingLength:null,encode:null,decode:null},is=oe.LiveMessageParams={buffer:!0,encodingLength:null,encode:null,decode:null},ln=oe.GetCommentsSectionParams={buffer:!0,encodingLength:null,encode:null,decode:null},rs=oe.CreateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null},os=oe.CreateCommentReplyParams={buffer:!0,encodingLength:null,encode:null,decode:null},cs=oe.PeformCommentActionParams={buffer:!0,encodingLength:null,encode:null,decode:null},as=oe.MusicSearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null},ls=oe.SearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null};RE();IE();SE();CE();LE();kE();AE();PE();NE();OE();UE();DE();function RE(){Il.encodingLength=c,Il.encode=e,Il.decode=t;function c(s){var a=0;if(E(s.id)){var i=m.string.encodingLength(s.id);a+=1+i}if(E(s.timestamp)){var i=m.int32.encodingLength(s.timestamp);a+=1+i}return a}n(c,"encodingLength");function e(s,a,i){i||(i=0),a||(a=Buffer.allocUnsafe(c(s)));var r=i;return E(s.id)&&(a[i++]=10,m.string.encode(s.id,a,i),i+=m.string.encode.bytes),E(s.timestamp)&&(a[i++]=40,m.int32.encode(s.timestamp,a,i),i+=m.int32.encode.bytes),e.bytes=i-r,a}n(e,"encode");function t(s,a,i){if(a||(a=0),i||(i=s.length),!(i<=s.length&&a<=s.length))throw new Error("Decoded message is not valid");for(var r=a,o={id:"",timestamp:0};;){if(i<=a)return t.bytes=a-r,o;var h=x.decode(s,a);a+=x.decode.bytes;var l=h>>3;switch(l){case 1:o.id=m.string.decode(s,a),a+=m.string.decode.bytes;break;case 5:o.timestamp=m.int32.decode(s,a),a+=m.int32.decode.bytes;break;default:a=V(h&7,s,a)}}}n(t,"decode")}n(RE,"defineVisitorData");function IE(){var c=es.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=i,c.encode=r,c.decode=o;function i(h){var l=0;if(E(h.channel_id)){var u=m.string.encodingLength(h.channel_id);l+=2+u}return l}n(i,"encodingLength");function r(h,l,u){u||(u=0),l||(l=Buffer.allocUnsafe(i(h)));var p=u;return E(h.channel_id)&&(l[u++]=202,l[u++]=62,m.string.encode(h.channel_id,l,u),u+=m.string.encode.bytes),r.bytes=u-p,l}n(r,"encode");function o(h,l,u){if(l||(l=0),u||(u=h.length),!(u<=h.length&&l<=h.length))throw new Error("Decoded message is not valid");for(var p=l,y={channel_id:""};;){if(u<=l)return o.bytes=l-p,y;var b=x.decode(h,l);l+=x.decode.bytes;var w=b>>3;switch(w){case 1001:y.channel_id=m.string.decode(h,l),l+=m.string.decode.bytes;break;default:l=V(b&7,h,l)}}}n(o,"decode")}n(e,"defineParams"),es.encodingLength=t,es.encode=s,es.decode=a;function t(i){var r=0;if(E(i.params)){var o=c.encodingLength(i.params);r+=x.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.params)&&(r[o++]=130,r[o++]=2,x.encode(c.encodingLength(i.params),r,o),o+=x.encode.bytes,c.encode(i.params,r,o),o+=c.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={params:null};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 32:var y=x.decode(i,r);r+=x.decode.bytes,l.params=c.decode(i,r,r+y),r+=c.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(IE,"defineChannelAnalytics");function SE(){var c=ts.Context={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var i=c.Client={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){i.encodingLength=u,i.encode=p,i.decode=y;function u(b){var w=0;if(E(b.unkparam)){var _=m.int32.encodingLength(b.unkparam);w+=2+_}if(E(b.client_version)){var _=m.string.encodingLength(b.client_version);w+=2+_}if(E(b.client_name)){var _=m.string.encodingLength(b.client_name);w+=2+_}return w}n(u,"encodingLength");function p(b,w,_){_||(_=0),w||(w=Buffer.allocUnsafe(u(b)));var v=_;return E(b.unkparam)&&(w[_++]=128,w[_++]=1,m.int32.encode(b.unkparam,w,_),_+=m.int32.encode.bytes),E(b.client_version)&&(w[_++]=138,w[_++]=1,m.string.encode(b.client_version,w,_),_+=m.string.encode.bytes),E(b.client_name)&&(w[_++]=146,w[_++]=1,m.string.encode(b.client_name,w,_),_+=m.string.encode.bytes),p.bytes=_-v,w}n(p,"encode");function y(b,w,_){if(w||(w=0),_||(_=b.length),!(_<=b.length&&w<=b.length))throw new Error("Decoded message is not valid");for(var v=w,I={unkparam:0,client_version:"",client_name:""};;){if(_<=w)return y.bytes=w-v,I;var L=x.decode(b,w);w+=x.decode.bytes;var q=L>>3;switch(q){case 16:I.unkparam=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 17:I.client_version=m.string.decode(b,w),w+=m.string.decode.bytes;break;case 18:I.client_name=m.string.decode(b,w),w+=m.string.decode.bytes;break;default:w=V(L&7,b,w)}}}n(y,"decode")}n(r,"defineClient"),c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.client)){var y=i.encodingLength(u.client);p+=x.encodingLength(y),p+=1+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.client)&&(p[y++]=10,x.encode(i.encodingLength(u.client),p,y),y+=x.encode.bytes,i.encode(u.client,p,y),y+=i.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={client:null};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 1:var I=x.decode(u,p);p+=x.decode.bytes,w.client=i.decode(u,p,p+I),p+=i.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(e,"defineContext"),ts.encodingLength=t,ts.encode=s,ts.decode=a;function t(i){var r=0;if(E(i.context)){var o=c.encodingLength(i.context);r+=x.encodingLength(o),r+=1+o}if(E(i.target)){var o=m.string.encodingLength(i.target);r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.context)&&(r[o++]=10,x.encode(c.encodingLength(i.context),r,o),o+=x.encode.bytes,c.encode(i.context,r,o),o+=c.encode.bytes),E(i.target)&&(r[o++]=18,m.string.encode(i.target,r,o),o+=m.string.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={context:null,target:""};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 1:var y=x.decode(i,r);r+=x.decode.bytes,l.context=c.decode(i,r,r+y),r+=c.decode.bytes;break;case 2:l.target=m.string.decode(i,r),r+=m.string.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(SE,"defineInnertubePayload");function CE(){var c=ns.Sound={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var i=c.Params={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){var u=i.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};p();function p(){u.encodingLength=_,u.encode=v,u.decode=I;function _(L){var q=0;if(E(L.id_1)){var S=m.string.encodingLength(L.id_1);q+=1+S}if(E(L.id_2)){var S=m.string.encodingLength(L.id_2);q+=1+S}if(E(L.id_3)){var S=m.string.encodingLength(L.id_3);q+=1+S}return q}n(_,"encodingLength");function v(L,q,S){S||(S=0),q||(q=Buffer.allocUnsafe(_(L)));var P=S;return E(L.id_1)&&(q[S++]=10,m.string.encode(L.id_1,q,S),S+=m.string.encode.bytes),E(L.id_2)&&(q[S++]=18,m.string.encode(L.id_2,q,S),S+=m.string.encode.bytes),E(L.id_3)&&(q[S++]=26,m.string.encode(L.id_3,q,S),S+=m.string.encode.bytes),v.bytes=S-P,q}n(v,"encode");function I(L,q,S){if(q||(q=0),S||(S=L.length),!(S<=L.length&&q<=L.length))throw new Error("Decoded message is not valid");for(var P=q,D={id_1:"",id_2:"",id_3:""};;){if(S<=q)return I.bytes=q-P,D;var U=x.decode(L,q);q+=x.decode.bytes;var F=U>>3;switch(F){case 1:D.id_1=m.string.decode(L,q),q+=m.string.decode.bytes;break;case 2:D.id_2=m.string.decode(L,q),q+=m.string.decode.bytes;break;case 3:D.id_3=m.string.decode(L,q),q+=m.string.decode.bytes;break;default:q=V(U&7,L,q)}}}n(I,"decode")}n(p,"defineIds"),i.encodingLength=y,i.encode=b,i.decode=w;function y(_){var v=0;if(E(_.ids)){var I=u.encodingLength(_.ids);v+=x.encodingLength(I),v+=1+I}return v}n(y,"encodingLength");function b(_,v,I){I||(I=0),v||(v=Buffer.allocUnsafe(y(_)));var L=I;return E(_.ids)&&(v[I++]=18,x.encode(u.encodingLength(_.ids),v,I),I+=x.encode.bytes,u.encode(_.ids,v,I),I+=u.encode.bytes),b.bytes=I-L,v}n(b,"encode");function w(_,v,I){if(v||(v=0),I||(I=_.length),!(I<=_.length&&v<=_.length))throw new Error("Decoded message is not valid");for(var L=v,q={ids:null};;){if(I<=v)return w.bytes=v-L,q;var S=x.decode(_,v);v+=x.decode.bytes;var P=S>>3;switch(P){case 2:var D=x.decode(_,v);v+=x.decode.bytes,q.ids=u.decode(_,v,v+D),v+=u.decode.bytes;break;default:v=V(S&7,_,v)}}}n(w,"decode")}n(r,"defineParams"),c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.params)){var y=i.encodingLength(u.params);p+=x.encodingLength(y),p+=1+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.params)&&(p[y++]=10,x.encode(i.encodingLength(u.params),p,y),y+=x.encode.bytes,i.encode(u.params,p,y),y+=i.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={params:null};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 1:var I=x.decode(u,p);p+=x.decode.bytes,w.params=i.decode(u,p,p+I),p+=i.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(e,"defineSound"),ns.encodingLength=t,ns.encode=s,ns.decode=a;function t(i){var r=0;if(E(i.sound)){var o=c.encodingLength(i.sound);r+=x.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.sound)&&(r[o++]=242,r[o++]=5,x.encode(c.encodingLength(i.sound),r,o),o+=x.encode.bytes,c.encode(i.sound,r,o),o+=c.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={sound:null};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 94:var y=x.decode(i,r);r+=x.decode.bytes,l.sound=c.decode(i,r,r+y),r+=c.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(CE,"defineSoundInfoParams");function LE(){var c=ss.Preference={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=i,c.encode=r,c.decode=o;function i(h){var l=0;if(E(h.index)){var u=m.int32.encodingLength(h.index);l+=1+u}return l}n(i,"encodingLength");function r(h,l,u){u||(u=0),l||(l=Buffer.allocUnsafe(i(h)));var p=u;return E(h.index)&&(l[u++]=8,m.int32.encode(h.index,l,u),u+=m.int32.encode.bytes),r.bytes=u-p,l}n(r,"encode");function o(h,l,u){if(l||(l=0),u||(u=h.length),!(u<=h.length&&l<=h.length))throw new Error("Decoded message is not valid");for(var p=l,y={index:0};;){if(u<=l)return o.bytes=l-p,y;var b=x.decode(h,l);l+=x.decode.bytes;var w=b>>3;switch(w){case 1:y.index=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;default:l=V(b&7,h,l)}}}n(o,"decode")}n(e,"definePreference"),ss.encodingLength=t,ss.encode=s,ss.decode=a;function t(i){var r=0;if(E(i.channel_id)){var o=m.string.encodingLength(i.channel_id);r+=1+o}if(E(i.pref_id)){var o=c.encodingLength(i.pref_id);r+=x.encodingLength(o),r+=1+o}if(E(i.number_0)){var o=m.int32.encodingLength(i.number_0);r+=1+o}if(E(i.number_1)){var o=m.int32.encodingLength(i.number_1);r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.channel_id)&&(r[o++]=10,m.string.encode(i.channel_id,r,o),o+=m.string.encode.bytes),E(i.pref_id)&&(r[o++]=18,x.encode(c.encodingLength(i.pref_id),r,o),o+=x.encode.bytes,c.encode(i.pref_id,r,o),o+=c.encode.bytes),E(i.number_0)&&(r[o++]=24,m.int32.encode(i.number_0,r,o),o+=m.int32.encode.bytes),E(i.number_1)&&(r[o++]=32,m.int32.encode(i.number_1,r,o),o+=m.int32.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={channel_id:"",pref_id:null,number_0:0,number_1:0};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 1:l.channel_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 2:var y=x.decode(i,r);r+=x.decode.bytes,l.pref_id=c.decode(i,r,r+y),r+=c.decode.bytes;break;case 3:l.number_0=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 4:l.number_1=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(LE,"defineNotificationPreferences");function kE(){var c=is.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var i=c.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){i.encodingLength=u,i.encode=p,i.decode=y;function u(b){var w=0;if(E(b.channel_id)){var _=m.string.encodingLength(b.channel_id);w+=1+_}if(E(b.video_id)){var _=m.string.encodingLength(b.video_id);w+=1+_}return w}n(u,"encodingLength");function p(b,w,_){_||(_=0),w||(w=Buffer.allocUnsafe(u(b)));var v=_;return E(b.channel_id)&&(w[_++]=10,m.string.encode(b.channel_id,w,_),_+=m.string.encode.bytes),E(b.video_id)&&(w[_++]=18,m.string.encode(b.video_id,w,_),_+=m.string.encode.bytes),p.bytes=_-v,w}n(p,"encode");function y(b,w,_){if(w||(w=0),_||(_=b.length),!(_<=b.length&&w<=b.length))throw new Error("Decoded message is not valid");for(var v=w,I={channel_id:"",video_id:""};;){if(_<=w)return y.bytes=w-v,I;var L=x.decode(b,w);w+=x.decode.bytes;var q=L>>3;switch(q){case 1:I.channel_id=m.string.decode(b,w),w+=m.string.decode.bytes;break;case 2:I.video_id=m.string.decode(b,w),w+=m.string.decode.bytes;break;default:w=V(L&7,b,w)}}}n(y,"decode")}n(r,"defineIds"),c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.ids)){var y=i.encodingLength(u.ids);p+=x.encodingLength(y),p+=1+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.ids)&&(p[y++]=42,x.encode(i.encodingLength(u.ids),p,y),y+=x.encode.bytes,i.encode(u.ids,p,y),y+=i.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={ids:null};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 5:var I=x.decode(u,p);p+=x.decode.bytes,w.ids=i.decode(u,p,p+I),p+=i.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(e,"defineParams"),is.encodingLength=t,is.encode=s,is.decode=a;function t(i){var r=0;if(E(i.params)){var o=c.encodingLength(i.params);r+=x.encodingLength(o),r+=1+o}if(E(i.number_0)){var o=m.int32.encodingLength(i.number_0);r+=1+o}if(E(i.number_1)){var o=m.int32.encodingLength(i.number_1);r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.params)&&(r[o++]=10,x.encode(c.encodingLength(i.params),r,o),o+=x.encode.bytes,c.encode(i.params,r,o),o+=c.encode.bytes),E(i.number_0)&&(r[o++]=16,m.int32.encode(i.number_0,r,o),o+=m.int32.encode.bytes),E(i.number_1)&&(r[o++]=24,m.int32.encode(i.number_1,r,o),o+=m.int32.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={params:null,number_0:0,number_1:0};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 1:var y=x.decode(i,r);r+=x.decode.bytes,l.params=c.decode(i,r,r+y),r+=c.decode.bytes;break;case 2:l.number_0=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 3:l.number_1=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(kE,"defineLiveMessageParams");function AE(){var c=ln.Context={buffer:!0,encodingLength:null,encode:null,decode:null},e=ln.Params={buffer:!0,encodingLength:null,encode:null,decode:null};t(),s();function t(){c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.video_id)){var y=m.string.encodingLength(u.video_id);p+=1+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.video_id)&&(p[y++]=18,m.string.encode(u.video_id,p,y),y+=m.string.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={video_id:""};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 2:w.video_id=m.string.decode(u,p),p+=m.string.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(t,"defineContext");function s(){var o=e.Options={buffer:!0,encodingLength:null,encode:null,decode:null},h=e.RepliesOptions={buffer:!0,encodingLength:null,encode:null,decode:null};l(),u();function l(){o.encodingLength=w,o.encode=_,o.decode=v;function w(I){var L=0;if(E(I.video_id)){var q=m.string.encodingLength(I.video_id);L+=1+q}if(E(I.sort_by)){var q=m.int32.encodingLength(I.sort_by);L+=1+q}if(E(I.type)){var q=m.int32.encodingLength(I.type);L+=1+q}return L}n(w,"encodingLength");function _(I,L,q){q||(q=0),L||(L=Buffer.allocUnsafe(w(I)));var S=q;return E(I.video_id)&&(L[q++]=34,m.string.encode(I.video_id,L,q),q+=m.string.encode.bytes),E(I.sort_by)&&(L[q++]=48,m.int32.encode(I.sort_by,L,q),q+=m.int32.encode.bytes),E(I.type)&&(L[q++]=120,m.int32.encode(I.type,L,q),q+=m.int32.encode.bytes),_.bytes=q-S,L}n(_,"encode");function v(I,L,q){if(L||(L=0),q||(q=I.length),!(q<=I.length&&L<=I.length))throw new Error("Decoded message is not valid");for(var S=L,P={video_id:"",sort_by:0,type:0};;){if(q<=L)return v.bytes=L-S,P;var D=x.decode(I,L);L+=x.decode.bytes;var U=D>>3;switch(U){case 4:P.video_id=m.string.decode(I,L),L+=m.string.decode.bytes;break;case 6:P.sort_by=m.int32.decode(I,L),L+=m.int32.decode.bytes;break;case 15:P.type=m.int32.decode(I,L),L+=m.int32.decode.bytes;break;default:L=V(D&7,I,L)}}}n(v,"decode")}n(l,"defineOptions");function u(){var w=h.UnkOpts={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){w.encodingLength=q,w.encode=S,w.decode=P;function q(D){var U=0;if(E(D.unk_param)){var F=m.int32.encodingLength(D.unk_param);U+=1+F}return U}n(q,"encodingLength");function S(D,U,F){F||(F=0),U||(U=Buffer.allocUnsafe(q(D)));var J=F;return E(D.unk_param)&&(U[F++]=8,m.int32.encode(D.unk_param,U,F),F+=m.int32.encode.bytes),S.bytes=F-J,U}n(S,"encode");function P(D,U,F){if(U||(U=0),F||(F=D.length),!(F<=D.length&&U<=D.length))throw new Error("Decoded message is not valid");for(var J=U,W={unk_param:0};;){if(F<=U)return P.bytes=U-J,W;var Ne=x.decode(D,U);U+=x.decode.bytes;var He=Ne>>3;switch(He){case 1:W.unk_param=m.int32.decode(D,U),U+=m.int32.decode.bytes;break;default:U=V(Ne&7,D,U)}}}n(P,"decode")}n(_,"defineUnkOpts"),h.encodingLength=v,h.encode=I,h.decode=L;function v(q){var S=0;if(E(q.comment_id)){var P=m.string.encodingLength(q.comment_id);S+=1+P}if(E(q.unkopts)){var P=w.encodingLength(q.unkopts);S+=x.encodingLength(P),S+=1+P}if(E(q.channel_id)){var P=m.string.encodingLength(q.channel_id);S+=1+P}if(E(q.video_id)){var P=m.string.encodingLength(q.video_id);S+=1+P}if(E(q.unk_param_1)){var P=m.int32.encodingLength(q.unk_param_1);S+=1+P}if(E(q.unk_param_2)){var P=m.int32.encodingLength(q.unk_param_2);S+=1+P}return S}n(v,"encodingLength");function I(q,S,P){P||(P=0),S||(S=Buffer.allocUnsafe(v(q)));var D=P;return E(q.comment_id)&&(S[P++]=18,m.string.encode(q.comment_id,S,P),P+=m.string.encode.bytes),E(q.unkopts)&&(S[P++]=34,x.encode(w.encodingLength(q.unkopts),S,P),P+=x.encode.bytes,w.encode(q.unkopts,S,P),P+=w.encode.bytes),E(q.channel_id)&&(S[P++]=42,m.string.encode(q.channel_id,S,P),P+=m.string.encode.bytes),E(q.video_id)&&(S[P++]=50,m.string.encode(q.video_id,S,P),P+=m.string.encode.bytes),E(q.unk_param_1)&&(S[P++]=64,m.int32.encode(q.unk_param_1,S,P),P+=m.int32.encode.bytes),E(q.unk_param_2)&&(S[P++]=72,m.int32.encode(q.unk_param_2,S,P),P+=m.int32.encode.bytes),I.bytes=P-D,S}n(I,"encode");function L(q,S,P){if(S||(S=0),P||(P=q.length),!(P<=q.length&&S<=q.length))throw new Error("Decoded message is not valid");for(var D=S,U={comment_id:"",unkopts:null,channel_id:"",video_id:"",unk_param_1:0,unk_param_2:0};;){if(P<=S)return L.bytes=S-D,U;var F=x.decode(q,S);S+=x.decode.bytes;var J=F>>3;switch(J){case 2:U.comment_id=m.string.decode(q,S),S+=m.string.decode.bytes;break;case 4:var W=x.decode(q,S);S+=x.decode.bytes,U.unkopts=w.decode(q,S,S+W),S+=w.decode.bytes;break;case 5:U.channel_id=m.string.decode(q,S),S+=m.string.decode.bytes;break;case 6:U.video_id=m.string.decode(q,S),S+=m.string.decode.bytes;break;case 8:U.unk_param_1=m.int32.decode(q,S),S+=m.int32.decode.bytes;break;case 9:U.unk_param_2=m.int32.decode(q,S),S+=m.int32.decode.bytes;break;default:S=V(F&7,q,S)}}}n(L,"decode")}n(u,"defineRepliesOptions"),e.encodingLength=p,e.encode=y,e.decode=b;function p(w){var _=0;if(E(w.unk_token)){var v=m.string.encodingLength(w.unk_token);_+=1+v}if(E(w.opts)){var v=o.encodingLength(w.opts);_+=x.encodingLength(v),_+=1+v}if(E(w.replies_opts)){var v=h.encodingLength(w.replies_opts);_+=x.encodingLength(v),_+=1+v}if(E(w.page)){var v=m.int32.encodingLength(w.page);_+=1+v}if(E(w.target)){var v=m.string.encodingLength(w.target);_+=1+v}return _}n(p,"encodingLength");function y(w,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(p(w)));var I=v;return E(w.unk_token)&&(_[v++]=10,m.string.encode(w.unk_token,_,v),v+=m.string.encode.bytes),E(w.opts)&&(_[v++]=34,x.encode(o.encodingLength(w.opts),_,v),v+=x.encode.bytes,o.encode(w.opts,_,v),v+=o.encode.bytes),E(w.replies_opts)&&(_[v++]=26,x.encode(h.encodingLength(w.replies_opts),_,v),v+=x.encode.bytes,h.encode(w.replies_opts,_,v),v+=h.encode.bytes),E(w.page)&&(_[v++]=40,m.int32.encode(w.page,_,v),v+=m.int32.encode.bytes),E(w.target)&&(_[v++]=66,m.string.encode(w.target,_,v),v+=m.string.encode.bytes),y.bytes=v-I,_}n(y,"encode");function b(w,_,v){if(_||(_=0),v||(v=w.length),!(v<=w.length&&_<=w.length))throw new Error("Decoded message is not valid");for(var I=_,L={unk_token:"",opts:null,replies_opts:null,page:0,target:""};;){if(v<=_)return b.bytes=_-I,L;var q=x.decode(w,_);_+=x.decode.bytes;var S=q>>3;switch(S){case 1:L.unk_token=m.string.decode(w,_),_+=m.string.decode.bytes;break;case 4:var P=x.decode(w,_);_+=x.decode.bytes,L.opts=o.decode(w,_,_+P),_+=o.decode.bytes;break;case 3:var P=x.decode(w,_);_+=x.decode.bytes,L.replies_opts=h.decode(w,_,_+P),_+=h.decode.bytes;break;case 5:L.page=m.int32.decode(w,_),_+=m.int32.decode.bytes;break;case 8:L.target=m.string.decode(w,_),_+=m.string.decode.bytes;break;default:_=V(q&7,w,_)}}}n(b,"decode")}n(s,"defineParams"),ln.encodingLength=a,ln.encode=i,ln.decode=r;function a(o){var h=0;if(E(o.ctx)){var l=c.encodingLength(o.ctx);h+=x.encodingLength(l),h+=1+l}if(E(o.unk_param)){var l=m.int32.encodingLength(o.unk_param);h+=1+l}if(E(o.params)){var l=e.encodingLength(o.params);h+=x.encodingLength(l),h+=1+l}return h}n(a,"encodingLength");function i(o,h,l){l||(l=0),h||(h=Buffer.allocUnsafe(a(o)));var u=l;return E(o.ctx)&&(h[l++]=18,x.encode(c.encodingLength(o.ctx),h,l),l+=x.encode.bytes,c.encode(o.ctx,h,l),l+=c.encode.bytes),E(o.unk_param)&&(h[l++]=24,m.int32.encode(o.unk_param,h,l),l+=m.int32.encode.bytes),E(o.params)&&(h[l++]=50,x.encode(e.encodingLength(o.params),h,l),l+=x.encode.bytes,e.encode(o.params,h,l),l+=e.encode.bytes),i.bytes=l-u,h}n(i,"encode");function r(o,h,l){if(h||(h=0),l||(l=o.length),!(l<=o.length&&h<=o.length))throw new Error("Decoded message is not valid");for(var u=h,p={ctx:null,unk_param:0,params:null};;){if(l<=h)return r.bytes=h-u,p;var y=x.decode(o,h);h+=x.decode.bytes;var b=y>>3;switch(b){case 2:var w=x.decode(o,h);h+=x.decode.bytes,p.ctx=c.decode(o,h,h+w),h+=c.decode.bytes;break;case 3:p.unk_param=m.int32.decode(o,h),h+=m.int32.decode.bytes;break;case 6:var w=x.decode(o,h);h+=x.decode.bytes,p.params=e.decode(o,h,h+w),h+=e.decode.bytes;break;default:h=V(y&7,o,h)}}}n(r,"decode")}n(AE,"defineGetCommentsSectionParams");function PE(){var c=rs.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=i,c.encode=r,c.decode=o;function i(h){var l=0;if(E(h.index)){var u=m.int32.encodingLength(h.index);l+=1+u}return l}n(i,"encodingLength");function r(h,l,u){u||(u=0),l||(l=Buffer.allocUnsafe(i(h)));var p=u;return E(h.index)&&(l[u++]=8,m.int32.encode(h.index,l,u),u+=m.int32.encode.bytes),r.bytes=u-p,l}n(r,"encode");function o(h,l,u){if(l||(l=0),u||(u=h.length),!(u<=h.length&&l<=h.length))throw new Error("Decoded message is not valid");for(var p=l,y={index:0};;){if(u<=l)return o.bytes=l-p,y;var b=x.decode(h,l);l+=x.decode.bytes;var w=b>>3;switch(w){case 1:y.index=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;default:l=V(b&7,h,l)}}}n(o,"decode")}n(e,"defineParams"),rs.encodingLength=t,rs.encode=s,rs.decode=a;function t(i){var r=0;if(E(i.video_id)){var o=m.string.encodingLength(i.video_id);r+=1+o}if(E(i.params)){var o=c.encodingLength(i.params);r+=x.encodingLength(o),r+=1+o}if(E(i.number)){var o=m.int32.encodingLength(i.number);r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.video_id)&&(r[o++]=18,m.string.encode(i.video_id,r,o),o+=m.string.encode.bytes),E(i.params)&&(r[o++]=42,x.encode(c.encodingLength(i.params),r,o),o+=x.encode.bytes,c.encode(i.params,r,o),o+=c.encode.bytes),E(i.number)&&(r[o++]=80,m.int32.encode(i.number,r,o),o+=m.int32.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={video_id:"",params:null,number:0};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 2:l.video_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 5:var y=x.decode(i,r);r+=x.decode.bytes,l.params=c.decode(i,r,r+y),r+=c.decode.bytes;break;case 10:l.number=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(PE,"defineCreateCommentParams");function NE(){var c=os.UnknownParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=i,c.encode=r,c.decode=o;function i(h){var l=0;if(E(h.unk_num)){var u=m.int32.encodingLength(h.unk_num);l+=1+u}return l}n(i,"encodingLength");function r(h,l,u){u||(u=0),l||(l=Buffer.allocUnsafe(i(h)));var p=u;return E(h.unk_num)&&(l[u++]=8,m.int32.encode(h.unk_num,l,u),u+=m.int32.encode.bytes),r.bytes=u-p,l}n(r,"encode");function o(h,l,u){if(l||(l=0),u||(u=h.length),!(u<=h.length&&l<=h.length))throw new Error("Decoded message is not valid");for(var p=l,y={unk_num:0};;){if(u<=l)return o.bytes=l-p,y;var b=x.decode(h,l);l+=x.decode.bytes;var w=b>>3;switch(w){case 1:y.unk_num=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;default:l=V(b&7,h,l)}}}n(o,"decode")}n(e,"defineUnknownParams"),os.encodingLength=t,os.encode=s,os.decode=a;function t(i){var r=0;if(E(i.video_id)){var o=m.string.encodingLength(i.video_id);r+=1+o}if(E(i.comment_id)){var o=m.string.encodingLength(i.comment_id);r+=1+o}if(E(i.params)){var o=c.encodingLength(i.params);r+=x.encodingLength(o),r+=1+o}if(E(i.unk_num)){var o=m.int32.encodingLength(i.unk_num);r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.video_id)&&(r[o++]=18,m.string.encode(i.video_id,r,o),o+=m.string.encode.bytes),E(i.comment_id)&&(r[o++]=34,m.string.encode(i.comment_id,r,o),o+=m.string.encode.bytes),E(i.params)&&(r[o++]=42,x.encode(c.encodingLength(i.params),r,o),o+=x.encode.bytes,c.encode(i.params,r,o),o+=c.encode.bytes),E(i.unk_num)&&(r[o++]=80,m.int32.encode(i.unk_num,r,o),o+=m.int32.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={video_id:"",comment_id:"",params:null,unk_num:0};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 2:l.video_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 4:l.comment_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 5:var y=x.decode(i,r);r+=x.decode.bytes,l.params=c.decode(i,r,r+y),r+=c.decode.bytes;break;case 10:l.unk_num=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(NE,"defineCreateCommentReplyParams");function OE(){var c=cs.TranslateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var i=c.Params={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){var u=i.Comment={buffer:!0,encodingLength:null,encode:null,decode:null};p();function p(){u.encodingLength=_,u.encode=v,u.decode=I;function _(L){var q=0;if(E(L.text)){var S=m.string.encodingLength(L.text);q+=1+S}return q}n(_,"encodingLength");function v(L,q,S){S||(S=0),q||(q=Buffer.allocUnsafe(_(L)));var P=S;return E(L.text)&&(q[S++]=10,m.string.encode(L.text,q,S),S+=m.string.encode.bytes),v.bytes=S-P,q}n(v,"encode");function I(L,q,S){if(q||(q=0),S||(S=L.length),!(S<=L.length&&q<=L.length))throw new Error("Decoded message is not valid");for(var P=q,D={text:""};;){if(S<=q)return I.bytes=q-P,D;var U=x.decode(L,q);q+=x.decode.bytes;var F=U>>3;switch(F){case 1:D.text=m.string.decode(L,q),q+=m.string.decode.bytes;break;default:q=V(U&7,L,q)}}}n(I,"decode")}n(p,"defineComment"),i.encodingLength=y,i.encode=b,i.decode=w;function y(_){var v=0;if(E(_.comment)){var I=u.encodingLength(_.comment);v+=x.encodingLength(I),v+=1+I}return v}n(y,"encodingLength");function b(_,v,I){I||(I=0),v||(v=Buffer.allocUnsafe(y(_)));var L=I;return E(_.comment)&&(v[I++]=10,x.encode(u.encodingLength(_.comment),v,I),I+=x.encode.bytes,u.encode(_.comment,v,I),I+=u.encode.bytes),b.bytes=I-L,v}n(b,"encode");function w(_,v,I){if(v||(v=0),I||(I=_.length),!(I<=_.length&&v<=_.length))throw new Error("Decoded message is not valid");for(var L=v,q={comment:null};;){if(I<=v)return w.bytes=v-L,q;var S=x.decode(_,v);v+=x.decode.bytes;var P=S>>3;switch(P){case 1:var D=x.decode(_,v);v+=x.decode.bytes,q.comment=u.decode(_,v,v+D),v+=u.decode.bytes;break;default:v=V(S&7,_,v)}}}n(w,"decode")}n(r,"defineParams"),c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.params)){var y=i.encodingLength(u.params);p+=x.encodingLength(y),p+=1+y}if(E(u.comment_id)){var y=m.string.encodingLength(u.comment_id);p+=1+y}if(E(u.target_language)){var y=m.string.encodingLength(u.target_language);p+=1+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.params)&&(p[y++]=26,x.encode(i.encodingLength(u.params),p,y),y+=x.encode.bytes,i.encode(u.params,p,y),y+=i.encode.bytes),E(u.comment_id)&&(p[y++]=18,m.string.encode(u.comment_id,p,y),y+=m.string.encode.bytes),E(u.target_language)&&(p[y++]=34,m.string.encode(u.target_language,p,y),y+=m.string.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={params:null,comment_id:"",target_language:""};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 3:var I=x.decode(u,p);p+=x.decode.bytes,w.params=i.decode(u,p,p+I),p+=i.decode.bytes;break;case 2:w.comment_id=m.string.decode(u,p),p+=m.string.decode.bytes;break;case 4:w.target_language=m.string.decode(u,p),p+=m.string.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(e,"defineTranslateCommentParams"),cs.encodingLength=t,cs.encode=s,cs.decode=a;function t(i){var r=0;if(E(i.type)){var o=m.int32.encodingLength(i.type);r+=1+o}if(E(i.comment_id)){var o=m.string.encodingLength(i.comment_id);r+=1+o}if(E(i.video_id)){var o=m.string.encodingLength(i.video_id);r+=1+o}if(E(i.unk_num)){var o=m.int32.encodingLength(i.unk_num);r+=1+o}if(E(i.channel_id)){var o=m.string.encodingLength(i.channel_id);r+=2+o}if(E(i.translate_comment_params)){var o=c.encodingLength(i.translate_comment_params);r+=x.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.type)&&(r[o++]=8,m.int32.encode(i.type,r,o),o+=m.int32.encode.bytes),E(i.comment_id)&&(r[o++]=26,m.string.encode(i.comment_id,r,o),o+=m.string.encode.bytes),E(i.video_id)&&(r[o++]=42,m.string.encode(i.video_id,r,o),o+=m.string.encode.bytes),E(i.unk_num)&&(r[o++]=16,m.int32.encode(i.unk_num,r,o),o+=m.int32.encode.bytes),E(i.channel_id)&&(r[o++]=186,r[o++]=1,m.string.encode(i.channel_id,r,o),o+=m.string.encode.bytes),E(i.translate_comment_params)&&(r[o++]=250,r[o++]=1,x.encode(c.encodingLength(i.translate_comment_params),r,o),o+=x.encode.bytes,c.encode(i.translate_comment_params,r,o),o+=c.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={type:0,comment_id:"",video_id:"",unk_num:0,channel_id:"",translate_comment_params:null};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 1:l.type=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 3:l.comment_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 5:l.video_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 2:l.unk_num=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 23:l.channel_id=m.string.decode(i,r),r+=m.string.decode.bytes;break;case 31:var y=x.decode(i,r);r+=x.decode.bytes,l.translate_comment_params=c.decode(i,r,r+y),r+=c.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(OE,"definePeformCommentActionParams");function UE(){var c=as.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var i=c.Type={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){i.encodingLength=u,i.encode=p,i.decode=y;function u(b){var w=0;if(E(b.all)){var _=m.int32.encodingLength(b.all);w+=1+_}if(E(b.song)){var _=m.int32.encodingLength(b.song);w+=1+_}if(E(b.video)){var _=m.int32.encodingLength(b.video);w+=1+_}if(E(b.album)){var _=m.int32.encodingLength(b.album);w+=1+_}if(E(b.artist)){var _=m.int32.encodingLength(b.artist);w+=1+_}if(E(b.playlist)){var _=m.int32.encodingLength(b.playlist);w+=1+_}return w}n(u,"encodingLength");function p(b,w,_){_||(_=0),w||(w=Buffer.allocUnsafe(u(b)));var v=_;return E(b.all)&&(w[_++]=0,m.int32.encode(b.all,w,_),_+=m.int32.encode.bytes),E(b.song)&&(w[_++]=8,m.int32.encode(b.song,w,_),_+=m.int32.encode.bytes),E(b.video)&&(w[_++]=16,m.int32.encode(b.video,w,_),_+=m.int32.encode.bytes),E(b.album)&&(w[_++]=24,m.int32.encode(b.album,w,_),_+=m.int32.encode.bytes),E(b.artist)&&(w[_++]=32,m.int32.encode(b.artist,w,_),_+=m.int32.encode.bytes),E(b.playlist)&&(w[_++]=40,m.int32.encode(b.playlist,w,_),_+=m.int32.encode.bytes),p.bytes=_-v,w}n(p,"encode");function y(b,w,_){if(w||(w=0),_||(_=b.length),!(_<=b.length&&w<=b.length))throw new Error("Decoded message is not valid");for(var v=w,I={all:0,song:0,video:0,album:0,artist:0,playlist:0};;){if(_<=w)return y.bytes=w-v,I;var L=x.decode(b,w);w+=x.decode.bytes;var q=L>>3;switch(q){case 0:I.all=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 1:I.song=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 2:I.video=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 3:I.album=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 4:I.artist=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;case 5:I.playlist=m.int32.decode(b,w),w+=m.int32.decode.bytes;break;default:w=V(L&7,b,w)}}}n(y,"decode")}n(r,"defineType"),c.encodingLength=o,c.encode=h,c.decode=l;function o(u){var p=0;if(E(u.type)){var y=i.encodingLength(u.type);p+=x.encodingLength(y),p+=2+y}return p}n(o,"encodingLength");function h(u,p,y){y||(y=0),p||(p=Buffer.allocUnsafe(o(u)));var b=y;return E(u.type)&&(p[y++]=138,p[y++]=1,x.encode(i.encodingLength(u.type),p,y),y+=x.encode.bytes,i.encode(u.type,p,y),y+=i.encode.bytes),h.bytes=y-b,p}n(h,"encode");function l(u,p,y){if(p||(p=0),y||(y=u.length),!(y<=u.length&&p<=u.length))throw new Error("Decoded message is not valid");for(var b=p,w={type:null};;){if(y<=p)return l.bytes=p-b,w;var _=x.decode(u,p);p+=x.decode.bytes;var v=_>>3;switch(v){case 17:var I=x.decode(u,p);p+=x.decode.bytes,w.type=i.decode(u,p,p+I),p+=i.decode.bytes;break;default:p=V(_&7,u,p)}}}n(l,"decode")}n(e,"defineFilters"),as.encodingLength=t,as.encode=s,as.decode=a;function t(i){var r=0;if(E(i.filters)){var o=c.encodingLength(i.filters);r+=x.encodingLength(o),r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.filters)&&(r[o++]=18,x.encode(c.encodingLength(i.filters),r,o),o+=x.encode.bytes,c.encode(i.filters,r,o),o+=c.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={filters:null};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 2:var y=x.decode(i,r);r+=x.decode.bytes,l.filters=c.decode(i,r,r+y),r+=c.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(UE,"defineMusicSearchFilter");function DE(){var c=ls.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=i,c.encode=r,c.decode=o;function i(h){var l=0;if(E(h.upload_date)){var u=m.int32.encodingLength(h.upload_date);l+=1+u}if(E(h.type)){var u=m.int32.encodingLength(h.type);l+=1+u}if(E(h.duration)){var u=m.int32.encodingLength(h.duration);l+=1+u}return l}n(i,"encodingLength");function r(h,l,u){u||(u=0),l||(l=Buffer.allocUnsafe(i(h)));var p=u;return E(h.upload_date)&&(l[u++]=8,m.int32.encode(h.upload_date,l,u),u+=m.int32.encode.bytes),E(h.type)&&(l[u++]=16,m.int32.encode(h.type,l,u),u+=m.int32.encode.bytes),E(h.duration)&&(l[u++]=24,m.int32.encode(h.duration,l,u),u+=m.int32.encode.bytes),r.bytes=u-p,l}n(r,"encode");function o(h,l,u){if(l||(l=0),u||(u=h.length),!(u<=h.length&&l<=h.length))throw new Error("Decoded message is not valid");for(var p=l,y={upload_date:0,type:0,duration:0};;){if(u<=l)return o.bytes=l-p,y;var b=x.decode(h,l);l+=x.decode.bytes;var w=b>>3;switch(w){case 1:y.upload_date=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;case 2:y.type=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;case 3:y.duration=m.int32.decode(h,l),l+=m.int32.decode.bytes;break;default:l=V(b&7,h,l)}}}n(o,"decode")}n(e,"defineFilters"),ls.encodingLength=t,ls.encode=s,ls.decode=a;function t(i){var r=0;if(E(i.sort_by)){var o=m.int32.encodingLength(i.sort_by);r+=1+o}if(E(i.no_filter)){var o=m.int32.encodingLength(i.no_filter);r+=2+o}if(E(i.filters)){var o=c.encodingLength(i.filters);r+=x.encodingLength(o),r+=1+o}return r}n(t,"encodingLength");function s(i,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(i)));var h=o;return E(i.sort_by)&&(r[o++]=8,m.int32.encode(i.sort_by,r,o),o+=m.int32.encode.bytes),E(i.no_filter)&&(r[o++]=152,r[o++]=1,m.int32.encode(i.no_filter,r,o),o+=m.int32.encode.bytes),E(i.filters)&&(r[o++]=18,x.encode(c.encodingLength(i.filters),r,o),o+=x.encode.bytes,c.encode(i.filters,r,o),o+=c.encode.bytes),s.bytes=o-h,r}n(s,"encode");function a(i,r,o){if(r||(r=0),o||(o=i.length),!(o<=i.length&&r<=i.length))throw new Error("Decoded message is not valid");for(var h=r,l={sort_by:0,no_filter:0,filters:null};;){if(o<=r)return a.bytes=r-h,l;var u=x.decode(i,r);r+=x.decode.bytes;var p=u>>3;switch(p){case 1:l.sort_by=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 19:l.no_filter=m.int32.decode(i,r),r+=m.int32.decode.bytes;break;case 2:var y=x.decode(i,r);r+=x.decode.bytes,l.filters=c.decode(i,r,r+y),r+=c.decode.bytes;break;default:r=V(u&7,i,r)}}}n(a,"decode")}n(DE,"defineSearchFilter");function E(c){return c!=null&&(typeof c!="number"||!isNaN(c))}n(E,"defined")});var ze=g((JL,uh)=>{"use strict";var pe=lh(),us=class{static encodeVisitorData(e,t){let s=pe.VisitorData.encode({id:e,timestamp:t});return encodeURIComponent(Buffer.from(s).toString("base64").replace(/\/|\+/g,"_"))}static encodeChannelAnalyticsParams(e){let t=pe.ChannelAnalytics.encode({params:{channel_id:e}});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeSearchFilters(e){let t={all:null,hour:1,today:2,week:3,month:4,year:5},s={all:null,video:1,channel:2,playlist:3,movie:4},a={all:null,short:1,long:2,medium:3},i={relevance:null,rating:1,upload_date:2,view_count:3},r={};if(e?r.filters={}:r.no_filter=0,e){if(e.upload_date&&e.type!=="video")throw new Error(`Upload date filter cannot be used with type ${e.type}`);e.upload_date&&(r.filters.upload_date=t[e.upload_date]),e.type&&(r.filters.type=s[e.type]),e.duration&&(r.filters.duration=a[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(r.sort_by=i[e.sort_by])}let o=pe.SearchFilter.encode(r);return encodeURIComponent(Buffer.from(o).toString("base64"))}static encodeMusicSearchFilters(e={}){let t={filters:{type:{}}};t.filters.type[e.type||"all"]=1;let s=pe.MusicSearchFilter.encode(t);return encodeURIComponent(Buffer.from(s).toString("base64"))}static encodeMessageParams(e,t){let s=pe.LiveMessageParams.encode({params:{ids:{channel_id:e,video_id:t}},number_0:1,number_1:4});return Buffer.from(encodeURIComponent(Buffer.from(s).toString("base64"))).toString("base64")}static encodeCommentsSectionParams(e,t={}){let s={TOP_COMMENTS:0,NEWEST_FIRST:1},a=pe.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{opts:{video_id:e,sort_by:s[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}});return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeCommentRepliesParams(e,t){let s=pe.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{replies_opts:{video_id:e,comment_id:t,unkopts:{unk_param:0},unk_param_1:1,unk_param_2:10,channel_id:" "},target:`comment-replies-item-${t}`}});return encodeURIComponent(Buffer.from(s).toString("base64"))}static encodeCommentParams(e){let t=pe.CreateCommentParams.encode({video_id:e,params:{index:0},number:7});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeCommentReplyParams(e,t){let s=pe.CreateCommentReplyParams.encode({video_id:t,comment_id:e,params:{unk_num:0},unk_num:7});return encodeURIComponent(Buffer.from(s).toString("base64"))}static encodeCommentActionParams(e,t={}){let s={};s.type=e,s.video_id=t.video_id||"",s.comment_id=t.comment_id||"",s.unk_num=2,t.hasOwnProperty("text")&&(t.comment_id&&delete s.unk_num,s.translate_comment_params={params:{comment:{text:t.text}},comment_id:t.comment_id||"",target_language:t.target_language});let a=pe.PeformCommentActionParams.encode(s);return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeNotificationPref(e,t){let s=pe.NotificationPreferences.encode({channel_id:e,pref_id:{index:t},number_0:0,number_1:4});return encodeURIComponent(Buffer.from(s).toString("base64"))}static encodeSoundInfoParams(e){let t={sound:{params:{ids:{id_1:e,id_2:e,id_3:e}}}},s=pe.SoundInfoParams.encode(t);return encodeURIComponent(Buffer.from(s).toString("base64"))}};n(us,"Proto");uh.exports=us});var Sl=g((XL,hh)=>{"use strict";var hs=class{constructor(e){this.itag=e.itag,this.mime_type=e.mimeType,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width||null,this.height=e.height||null,this.init_range=e.initRange&&{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)},this.index_range=e.indexRange&&{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)},this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel||null,this.fps=e.fps||null,this.url=e.url||null,this.cipher=e.cipher||null,this.signature_cipher=e.signatureCipher||null,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel}decipher(e){return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(hs,"Format");hh.exports=hs});var O=g((ZL,dh)=>{"use strict";var pt=class{url;width;height;constructor({url:e,width:t,height:s}){this.url=e,this.width=t,this.height=s}static fromResponse(e){if(!(!e||!e.thumbnails))return e.thumbnails.map(t=>new pt(t)).sort((t,s)=>s.width-t.width)}};n(pt,"Thumbnail");dh.exports=pt});var Cl=g((fL,ph)=>{"use strict";var BE=O(),ds=class{id;channel_id;title;keywords;short_description;author;constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=BE.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live_content=!!e.isLiveContent,this.is_crawlable=!!e.isCrawlable}};n(ds,"VideoDetails");ph.exports=ds});var Ll=g((jL,mh)=>{"use strict";var ps=class{type="DataModelSection";constructor(e){this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator,this.series_configuration={line_series:{lines_data:e.seriesConfiguration.lineSeries.linesData,domain_axis:e.seriesConfiguration.lineSeries.domainAxis,measure_axis:e.seriesConfiguration.lineSeries.measureAxis}}}};n(ps,"DataModelSection");mh.exports=ps});var _h=g((ek,gh)=>{"use strict";var ME=Ll(),ms=class{type="AnalyticsMainAppKeyMetrics";constructor(e){this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(s=>new ME(s))}};n(ms,"AnalyticsMainAppKeyMetrics");gh.exports=ms});var kl=g((tk,yh)=>{"use strict";var VE=O(),gs=class{type="AnalyticsVideo";constructor(e){this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:VE.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(gs,"AnalyticsVideo");yh.exports=gs});var vh=g((nk,wh)=>{"use strict";var FE=kl(),_s=class{type="AnalyticsVodCarouselCard";constructor(e){this.title=e.title,this.videos=e.videoCarouselData.videos.map(t=>new FE(t))}};n(_s,"AnalyticsVodCarouselCard");wh.exports=_s});var N=g((sk,bh)=>{"use strict";var Ke=R(),ys=class{type="NavigationEndpoint";constructor(e){var s,a,i,r,o,h,l,u,p,y,b,w,_,v,I,L,q,S,P,D,U,F,J;let t=Object.keys(e||{}).find(W=>W.endsWith("Endpoint")||W.endsWith("Command"));if(this.payload=(e==null?void 0:e[t])||{},Reflect.has(this.payload,"dialog")&&(this.dialog=Ke.parse(this.payload.dialog)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(a=(s=e==null?void 0:e.commandMetadata)==null?void 0:s.webCommandMetadata)!=null&&a.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(r=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(h=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&h.apiUrl&&(this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/","")),(u=(l=e==null?void 0:e.commandMetadata)==null?void 0:l.webCommandMetadata)!=null&&u.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.browseEndpoint){let W=(y=(p=e==null?void 0:e.browseEndpoint)==null?void 0:p.browseEndpointContextSupportedConfigs)==null?void 0:y.browseEndpointContextMusicConfig;this.browse={id:((b=e==null?void 0:e.browseEndpoint)==null?void 0:b.browseId)||null,params:(e==null?void 0:e.browseEndpoint.params)||null,base_url:((w=e==null?void 0:e.browseEndpoint)==null?void 0:w.canonicalBaseUrl)||null,page_type:(W==null?void 0:W.pageType)||null}}if(e!=null&&e.watchEndpoint){let W=(v=(_=e==null?void 0:e.watchEndpoint)==null?void 0:_.watchEndpointMusicSupportedConfigs)==null?void 0:v.watchEndpointMusicConfig;this.watch={video_id:(I=e==null?void 0:e.watchEndpoint)==null?void 0:I.videoId,playlist_id:(e==null?void 0:e.watchEndpoint.playlistId)||null,params:(e==null?void 0:e.watchEndpoint.params)||null,index:(e==null?void 0:e.watchEndpoint.index)||null,supported_onesie_config:(L=e==null?void 0:e.watchEndpoint)==null?void 0:L.watchEndpointSupportedOnesieConfig,music_video_type:(W==null?void 0:W.musicVideoType)||null}}e!=null&&e.searchEndpoint&&(this.search={query:e.searchEndpoint.query,params:e.searchEndpoint.params}),e!=null&&e.subscribeEndpoint&&(this.subscribe={channel_ids:e.subscribeEndpoint.channelIds,params:e.subscribeEndpoint.params}),e!=null&&e.unsubscribeEndpoint&&(this.unsubscribe={channel_ids:e.unsubscribeEndpoint.channelIds,params:e.unsubscribeEndpoint.params}),e!=null&&e.likeEndpoint&&(this.like={status:e.likeEndpoint.status,target:{video_id:e.likeEndpoint.target.videoId,playlist_id:e.likeEndpoint.target.playlistId},params:((q=e.likeEndpoint)==null?void 0:q.removeLikeParams)||((S=e.likeEndpoint)==null?void 0:S.likeParams)||((P=e.likeEndpoint)==null?void 0:P.dislikeParams)}),e!=null&&e.performCommentActionEndpoint&&(this.perform_comment_action={action:e==null?void 0:e.performCommentActionEndpoint.action}),e!=null&&e.offlineVideoEndpoint&&(this.offline_video={video_id:e.offlineVideoEndpoint.videoId,on_add_command:{get_download_action:{video_id:e.offlineVideoEndpoint.videoId,params:e.offlineVideoEndpoint.onAddCommand.getDownloadActionCommand.params}}}),e!=null&&e.continuationCommand&&(this.continuation={request:((D=e==null?void 0:e.continuationCommand)==null?void 0:D.request)||null,token:((U=e==null?void 0:e.continuationCommand)==null?void 0:U.token)||null}),e!=null&&e.feedbackEndpoint&&(this.feedback={token:e.feedbackEndpoint.feedbackToken}),e!=null&&e.watchPlaylistEndpoint&&(this.watch_playlist={playlist_id:(F=e.watchPlaylistEndpoint)==null?void 0:F.playlistId}),e!=null&&e.playlistEditEndpoint&&(this.playlist_edit={playlist_id:e.playlistEditEndpoint.playlistId,actions:e.playlistEditEndpoint.actions.map(W=>({action:W.action,removed_video_id:W.removedVideoId}))}),e!=null&&e.addToPlaylistEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistEndpoint.videoId}),e!=null&&e.addToPlaylistServiceEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistServiceEndpoint.videoId}),e!=null&&e.getReportFormEndpoint&&(this.get_report_form={params:e.getReportFormEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:(J=e==null?void 0:e.liveChatItemContextMenuEndpoint)==null?void 0:J.params}),e!=null&&e.sendLiveChatVoteEndpoint&&(this.send_live_chat_vote={params:e.sendLiveChatVoteEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:e.liveChatItemContextMenuEndpoint.params})}async callTest(e,t={parse:!0,params:{}}){if(!e)throw new Error("An active caller must be provided");let s=await e.execute(this.metadata.api_url,{...this.payload,...t.params});return t.parse?Ke.parseResponse(s.data):s}async call(e,t){if(!e)throw new Error("An active caller must be provided");if(this.continuation)switch(this.continuation.request){case"CONTINUATION_REQUEST_TYPE_BROWSE":{let s=await e.browse(this.continuation.token,{is_ctoken:!0});return Ke.parseResponse(s.data)}case"CONTINUATION_REQUEST_TYPE_SEARCH":{let s=await e.search({ctoken:this.continuation.token});return Ke.parseResponse(s.data)}case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":{let s=await e.next({ctoken:this.continuation.token});return Ke.parseResponse(s.data)}default:throw new Error(`${this.continuation.request} not implemented`)}if(this.search){let s=await e.search({query:this.search.query,params:this.search.params,client:t});return Ke.parseResponse(s.data)}if(this.browse){let s=await e.browse(this.browse.id,{...this.browse,client:t});return Ke.parseResponse(s.data)}if(this.like)return await e.engage(this.metadata.api_url,{video_id:this.like.target.video_id,params:this.like.params})}};n(ys,"NavigationEndpoint");bh.exports=ys});var Al=g((ik,xh)=>{"use strict";var YE=N(),ws=class{constructor(e){this.text=e.text,this.endpoint=e.navigationEndpoint?new YE(e.navigationEndpoint):{}}};n(ws,"TextRun");xh.exports=ws});var Pl=g((rk,Th)=>{"use strict";var $E=O(),vs=class{constructor(e){var t,s,a;this.text=((t=e.emoji)==null?void 0:t.emojiId)||((a=(s=e.emoji)==null?void 0:s.shortcuts)==null?void 0:a[0])||null,this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji.shortcuts,search_terms:e.emoji.searchTerms,image:$E.fromResponse(e.emoji.image)}}};n(vs,"EmojiRun");Th.exports=vs});var k=g((ok,Eh)=>{"use strict";var GE=Al(),WE=Pl(),bs=class{text;constructor(e){e!=null&&e.hasOwnProperty("runs")?(this.runs=e.runs.map(t=>t.emoji&&new WE(t)||new GE(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=(e==null?void 0:e.simpleText)||"N/A"}toString(){return this.text}};n(bs,"Text");Eh.exports=bs});var Ts=g((ck,qh)=>{"use strict";var HE=k(),Nl=N(),xs=class extends HE{type="NavigatableText";endpoint;constructor(e){var t,s;super(e),this.endpoint=(s=(t=e.runs)==null?void 0:t[0])!=null&&s.navigationEndpoint?new Nl(e.runs[0].navigationEndpoint):e.navigationEndpoint?new Nl(e.navigationEndpoint):e.titleNavigationEndpoint?new Nl(e.titleNavigationEndpoint):null}toJSON(){return this}};n(xs,"NavigatableText");qh.exports=xs});var ee=g((ak,Ih)=>{"use strict";var zE=R(),KE=Ts(),QE=O(),Rh=X(),re,Es=class{constructor(e,t,s){T(this,re,void 0);var a,i,r,o,h,l,u,p,y,b,w,_,v,I;C(this,re,new KE(e)),this.id=((i=(a=d(this,re).runs)==null?void 0:a[0].endpoint.browse)==null?void 0:i.id)||((o=(r=d(this,re).endpoint)==null?void 0:r.browse)==null?void 0:o.id)||"N/A",this.name=d(this,re).text||"N/A",this.thumbnails=s?QE.fromResponse(s):[],this.endpoint=((h=d(this,re).runs)==null?void 0:h[0].endpoint)||d(this,re).endpoint,this.badges=Array.isArray(t)?zE.parse(t):[],this.is_verified=((l=this.badges)==null?void 0:l.some(L=>L.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.is_verified_artist=((u=this.badges)==null?void 0:u.some(L=>L.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.url=((p=d(this,re).runs)==null?void 0:p[0].endpoint.browse)&&`${Rh.URLS.YT_BASE}${((y=d(this,re).runs[0].endpoint.browse)==null?void 0:y.base_url)||`/u/${(b=d(this,re).runs[0].endpoint.browse)==null?void 0:b.id}`}`||`${Rh.URLS.YT_BASE}${((_=(w=d(this,re).endpoint)==null?void 0:w.browse)==null?void 0:_.base_url)||`/u/${(I=(v=d(this,re).endpoint)==null?void 0:v.browse)==null?void 0:I.id}`}`||null}get best_thumbnail(){return this.thumbnails[0]}};n(Es,"Author"),re=new WeakMap;Ih.exports=Es});var Ch=g((lk,Sh)=>{"use strict";var JE=O(),qs=class{type="BackstageImage";constructor(e){this.image=JE.fromResponse(e.image)}};n(qs,"BackstageImage");Sh.exports=qs});var Ul=g((uk,Lh)=>{"use strict";var Rs=R(),XE=ee(),Ol=k(),ZE=N(),Is=class{type="BackstagePost";constructor(e){this.id=e.postId,this.author=new XE({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new Ol(e.contentText,""),this.published=new Ol(e.publishedTimeText),this.poll_status=e.pollStatus,this.vote_status=e.voteStatus,this.likes=new Ol(e.voteCount),this.menu=Rs.parse(e.actionMenu)||null,this.actions=Rs.parse(e.actionButtons),this.vote_button=Rs.parse(e.voteButton),this.surface=e.surface,this.endpoint=new ZE(e.navigationEndpoint),this.attachment=Rs.parse(e.backstageAttachment)||null}};n(Is,"BackstagePost");Lh.exports=Is});var Ah=g((hk,kh)=>{"use strict";var fE=R(),Ss=class{type="BackstagePostThread";constructor(e){this.post=fE.parse(e.post)}};n(Ss,"BackstagePostThread");kh.exports=Ss});var Nh=g((dk,Ph)=>{"use strict";var jE=R(),Cs=class{type="BrowseFeedActions";constructor(e){this.contents=jE.parse(e.contents)}};n(Cs,"BrowseFeedActions");Ph.exports=Cs});var ks=g((pk,Oh)=>{"use strict";var eq=k(),tq=N(),Ls=class{type="Button";constructor(e){var t,s,a,i;this.text=new eq(e.text).toString(),(t=e.accessibility)!=null&&t.label&&(this.label=(s=e.accessibility)==null?void 0:s.label),e.tooltip&&(this.tooltip=e.tooltip),(a=e.icon)!=null&&a.iconType&&(this.iconType=(i=e.icon)==null?void 0:i.iconType),this.endpoint=new tq(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Ls,"Button");Oh.exports=Ls});var Dh=g((mk,Uh)=>{"use strict";var Dl=R(),nq=ee(),Bl=O(),sq=k(),As=class{type="C4TabbedHeader";constructor(e){this.author=new nq({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),this.banner=e.banner?Bl.fromResponse(e.banner):[],this.tv_banner=e.tvBanner?Bl.fromResponse(e.tvBanner):[],this.mobile_banner=e.mobileBanner?Bl.fromResponse(e.mobileBanner):[],this.subscribers=new sq(e.subscriberCountText),this.sponsor_button=e.sponsorButton&&Dl.parse(e.sponsorButton),this.subscribe_button=e.subscribeButton&&Dl.parse(e.subscribeButton),this.header_links=e.headerLinks&&Dl.parse(e.headerLinks)}};n(As,"C4TabbedHeader");Uh.exports=As});var Mh=g((gk,Bh)=>{"use strict";var iq=k(),Ps=class{type="CallToActionButton";constructor(e){this.label=new iq(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Ps,"CallToActionButton");Bh.exports=Ps});var Yh=g((_k,Fh)=>{"use strict";var Vh=R(),Ns=class{type="Card";constructor(e){this.teaser=Vh.parse(e.teaser),this.content=Vh.parse(e.content),this.card_id=e.cardId,this.feature=e.feature,this.cue_ranges=e.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};n(Ns,"Card");Fh.exports=Ns});var Gh=g((yk,$h)=>{"use strict";var rq=R(),oq=k(),Os=class{type="CardCollection";constructor(e){this.cards=rq.parse(e.cards),this.header=new oq(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Os,"CardCollection");$h.exports=Os});var Hh=g((wk,Wh)=>{"use strict";var cq=ee(),aq=N(),Ml=k(),Us=class{type="Channel";constructor(e){this.id=e.channelId,this.author=new cq({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Ml(e.subscriberCountText),this.videos=new Ml(e.videoCountText),this.endpoint=new aq(e.navigationEndpoint),this.description_snippet=new Ml(e.descriptionSnippet)}};n(Us,"Channel");Wh.exports=Us});var Kh=g((vk,zh)=>{"use strict";var lq=O(),uq=N(),un=k(),hq=R(),Ds=class{type="ChannelAboutFullMetadata";constructor(e){this.id=e.channelId,this.name=new un(e.title),this.avatar=lq.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.views=new un(e.viewCountText),this.joined=new un(e.joinedDateText),this.description=new un(e.description),this.email_reveal=new uq(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new un(e.country),this.buttons=hq.parse(e.actionButtons)}};n(Ds,"ChannelAboutFullMetadata");zh.exports=Ds});var Jh=g((bk,Qh)=>{"use strict";var dq=R(),pq=k(),Bs=class{type="ChannelFeaturedContent";constructor(e){this.title=new pq(e.title),this.items=dq.parse(e.items)}};n(Bs,"ChannelFeaturedContent");Qh.exports=Bs});var Zh=g((xk,Xh)=>{"use strict";var mq=N(),gq=k(),_q=O(),hn=class{constructor(e){this.endpoint=new mq(e.navigationEndpoint),this.icon=_q.fromResponse(e.icon),this.title=new gq(e.title)}};n(hn,"HeaderLink");var Ms=class{type="ChannelHeaderLinks";constructor(e){var t,s;this.primary=((t=e.primaryLinks)==null?void 0:t.map(a=>new hn(a)))||[],this.secondary=((s=e.secondaryLinks)==null?void 0:s.map(a=>new hn(a)))||[]}};n(Ms,"ChannelHeaderLinks");Xh.exports=Ms});var jh=g((Tk,fh)=>{"use strict";var yq=O(),Vs=class{type="ChannelMetadata";constructor(e){this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_urls=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=yq.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Vs,"ChannelMetadata");fh.exports=Vs});var td=g((Ek,ed)=>{"use strict";var wq=k(),Fs=class{constructor(e){this.title=new wq(e.title)}};n(Fs,"ChannelMobileHeader");ed.exports=Fs});var sd=g((qk,nd)=>{"use strict";var vq=O(),bq=N(),Ys=class{type="ChannelThumbnailWithLink";constructor(e){this.thumbnails=vq.fromResponse(e.thumbnail),this.endpoint=new bq(e.navigationEndpoint),this.label=e.accessibility.accessibilityData.label}};n(Ys,"ChannelThumbnailWithLink");nd.exports=Ys});var rd=g((Rk,id)=>{"use strict";var $s=k(),Gs=class{type="ChannelVideoPlayer";constructor(e){this.id=e.videoId,this.title=new $s(e.title,""),this.description=new $s(e.description,""),this.views=new $s(e.viewCountText,""),this.published_at=new $s(e.publishedTimeText,"")}};n(Gs,"ChannelVideoPlayer");id.exports=Gs});var cd=g((Ik,od)=>{"use strict";var xq=N(),Tq=B(),Eq=k(),Ws=class{type="ChildVideo";constructor(e){this.id=e.videoId,this.title=new Eq(e.title),this.duration={text:e.lengthText.simpleText,seconds:Tq.timeToSeconds(e.lengthText.simpleText)},this.endpoint=new xq(e.navigationEndpoint)}};n(Ws,"ChildVideo");od.exports=Ws});var ld=g((Sk,ad)=>{"use strict";var Vl=R(),Hs=class{type="ChipCloud";constructor(e){this.chips=Vl.parse(e.chips),this.next_button=Vl.parse(e.nextButton),this.previous_button=Vl.parse(e.previousButton),this.horizontal_scrollable=e.horizontalScrollable}};n(Hs,"ChipCloud");ad.exports=Hs});var hd=g((Ck,ud)=>{"use strict";var qq=k(),Rq=N(),zs=class{type="ChipCloudChip";constructor(e){this.is_selected=e.isSelected,this.endpoint=e.navigationEndpoint&&new Rq(e.navigationEndpoint),this.text=new qq(e.text).toString()}};n(zs,"ChipCloudChip");ud.exports=zs});var pd=g((Lk,dd)=>{"use strict";var Iq=N(),Fl=O(),Ks=class{type="CollageHeroImage";constructor(e){this.left=Fl.fromResponse(e.leftThumbnail),this.top_right=Fl.fromResponse(e.topRightThumbnail),this.bottom_right=Fl.fromResponse(e.bottomRightThumbnail),this.endpoint=new Iq(e.navigationEndpoint)}};n(Ks,"CollageHeroImage");dd.exports=Ks});var gd=g((kk,md)=>{"use strict";var Yl=R(),$l=k(),Sq=O(),Cq=ee(),Lq=ze(),{InnertubeError:Gl}=B(),De,Qs=class{constructor(e){se(this,"type","Comment");T(this,De,void 0);var t,s;this.content=new $l(e.contentText),this.published=new $l(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=Sq.fromResponse(e.currentUserReplyThumbnail),this.author_badge=Yl.parse(e.authorCommentBadge,"comments"),this.author=new Cq({...e.authorText,navigationEndpoint:e.authorEndpoint},this.author_badge?[{metadataBadgeRenderer:(t=this.author_badge)==null?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=Yl.parse(e.actionMenu),this.action_buttons=Yl.parse(e.actionButtons,"comments"),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count={text:e.voteCount?(s=e.voteCount.accessibility.accessibilityData)==null?void 0:s.label.replace(/\D/g,""):"0",short_text:e.voteCount?new $l(e.voteCount).toString():"0"},this.reply_count=e.replyCount||0,this.is_liked=this.action_buttons.like_button.is_toggled,this.is_disliked=this.action_buttons.dislike_button.is_toggled,this.is_pinned=!!e.pinnedCommentBadge}async like(){let e=this.action_buttons.like_button;if(e.is_toggled)throw new Gl("This comment is already liked",{comment_id:this.comment_id});return await e.endpoint.callTest(d(this,De),{parse:!1})}async dislike(){let e=this.action_buttons.dislike_button;if(e.is_toggled)throw new Gl("This comment is already disliked",{comment_id:this.comment_id});return await e.endpoint.callTest(d(this,De),{parse:!1})}async reply(e){if(!this.action_buttons.reply_button)throw new Gl("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=this.action_buttons.reply_button.endpoint.dialog.reply_button,a={params:{commentText:e}};return await s.endpoint.callTest(d(this,De),a)}async translate(e){let s={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},a=Lq.encodeCommentActionParams(22,s),i=await d(this,De).execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),o=i.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload.translatedContent.content;return{...i,content:o}}setActions(e){C(this,De,e)}};n(Qs,"Comment"),De=new WeakMap;md.exports=Qs});var vd=g((Ak,wd)=>{"use strict";var _d=R(),kq=O(),yd=k(),Js=class{type="CommentReplyDialog";constructor(e){this.reply_button=_d.parse(e.replyButton),this.cancel_button=_d.parse(e.cancelButton),this.author_thumbnail=kq.fromResponse(e.authorThumbnail),this.placeholder=new yd(e.placeholderText),this.error_message=new yd(e.errorMessage)}};n(Js,"CommentReplyDialog");wd.exports=Js});var xd=g((Pk,bd)=>{"use strict";var dn,Xs=class{constructor(e){se(this,"type","AuthorCommentBadge");T(this,dn,void 0);this.icon_type=e.icon.iconType,this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),C(this,dn,e)}get orig_badge(){return d(this,dn)}};n(Xs,"AuthorCommentBadge"),dn=new WeakMap;bd.exports=Xs});var Ed=g((Nk,Td)=>{"use strict";var Wl=R(),Zs=class{type="CommentActionButtons";constructor(e){this.like_button=Wl.parse(e.likeButton),this.dislike_button=Wl.parse(e.dislikeButton),this.reply_button=Wl.parse(e.replyButton)}};n(Zs,"CommentActionButtons");Td.exports=Zs});var Rd=g((Ok,qd)=>{"use strict";var Hl=R(),fs=class{type="CommentReplies";constructor(e){this.contents=Hl.parse(e.contents),this.view_replies=Hl.parse(e.viewReplies),this.hide_replies=Hl.parse(e.hideReplies)}};n(fs,"CommentReplies");qd.exports=fs});var Cd=g((Uk,Sd)=>{"use strict";var Id=R(),Aq=O(),Pq=k(),js=class{type="CommentSimplebox";constructor(e){this.submit_button=Id.parse(e.submitButton),this.cancel_button=Id.parse(e.cancelButton),this.author_thumbnails=Aq.fromResponse(e.authorThumbnail),this.placeholder=new Pq(e.placeholderText),this.avatar_size=e.avatarSize}};n(js,"CommentSimplebox");Sd.exports=js});var kd=g((Dk,Ld)=>{"use strict";var ei=k(),Nq=O(),ti=class{type="CommentsEntryPointHeader";constructor(e){this.header=new ei(e.headerText),this.comment_count=new ei(e.commentCount),this.teaser_avatar=Nq.fromResponse(e.teaserAvatar||e.simpleboxAvatar),this.teaser_content=new ei(e.teaserContent),this.simplebox_placeholder=new ei(e.simpleboxPlaceholder)}};n(ti,"CommentsEntryPointHeader");Ld.exports=ti});var Nd=g((Bk,Pd)=>{"use strict";var Ad=R(),zl=k(),Oq=O(),ni=class{type="CommentsHeader";constructor(e){var t;this.title=new zl(e.titleText),this.count=new zl(e.countText),this.comments_count=new zl(e.commentsCount),this.create_renderer=Ad.parse(e.createRenderer,"comments"),this.sort_menu=Ad.parse(e.sortMenu),this.custom_emojis=((t=e.customEmojis)==null?void 0:t.map(s=>({emoji_id:s.emojiId,shortcuts:s.shortcuts,search_terms:s.searchTerms,image:Oq.fromResponse(s.image),is_custom_emoji:s.isCustomEmoji})))||null}};n(ni,"CommentsHeader");Pd.exports=ni});var Dd=g((Mk,Ud)=>{"use strict";var Od=R(),{InnertubeError:Kl}=B(),mt,Be,Qe,si=class{constructor(e){se(this,"type","CommentThread");T(this,mt,void 0);T(this,Be,void 0);T(this,Qe,void 0);this.comment=Od.parse(e.comment),C(this,mt,Od.parse(e.replies,"comments")),this.is_moderated_elq_comment=e.isModeratedElqComment}async getReplies(){var s;if(!d(this,mt))throw new Kl("This comment has no replies.",{comment_id:this.comment.comment_id});let t=await d(this,mt).contents.get({type:"ContinuationItem"}).endpoint.callTest(d(this,Be));return this.replies=t.on_response_received_endpoints_memo.get("Comment").map(a=>(a.setActions(d(this,Be)),a)),C(this,Qe,(s=t.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:s[0]),this}async getContinuation(){var t;if(!this.replies)throw new Kl("Continuation not available.");if(!d(this,Qe))throw new Kl("Continuation not found.");let e=await d(this,Qe).button.endpoint.callTest(d(this,Be));return this.replies=e.on_response_received_endpoints_memo.get("Comment").map(s=>(s.setActions(d(this,Be)),s)),C(this,Qe,(t=e.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:t[0]),this}setActions(e){C(this,Be,e)}};n(si,"CommentThread"),mt=new WeakMap,Be=new WeakMap,Qe=new WeakMap;Ud.exports=si});var Md=g((Vk,Bd)=>{"use strict";var Uq=k(),Dq=N(),ii=class{type="CompactLink";constructor(e){this.title=new Uq(e.title).toString(),this.endpoint=new Dq(e.navigationEndpoint),this.style=e.style}};n(ii,"CompactLink");Bd.exports=ii});var gt=g((Fk,Vd)=>{"use strict";var Bq=ee(),ri=class extends Bq{constructor(e){super(e),delete this.badges,delete this.is_verified,delete this.is_verified_artist}};n(ri,"PlaylistAuthor");Vd.exports=ri});var pn=g((Yk,Fd)=>{"use strict";var oi=k(),ci=R(),Mq=O(),Vq=N(),Fq=gt(),ai=class{type="Playlist";constructor(e){var t;this.id=e.playlistId,this.title=new oi(e.title),this.author=(t=e.shortBylineText)!=null&&t.simpleText?new oi(e.shortBylineText):new Fq(e.longBylineText,e.ownerBadges,null),this.thumbnails=Mq.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(s=>s.thumbnails).flat(1)}),this.video_count=new oi(e.thumbnailText),this.video_count_short=new oi(e.videoCountShortText),this.first_videos=ci.parse(e.videos)||[],this.share_url=e.shareUrl||null,this.menu=ci.parse(e.menu),this.badges=ci.parse(e.ownerBadges),this.endpoint=new Vq(e.navigationEndpoint),this.thumbnail_overlays=ci.parse(e.thumbnailOverlays)||[]}};n(ai,"Playlist");Fd.exports=ai});var $d=g(($k,Yd)=>{"use strict";var Yq=pn(),li=class extends Yq{type="CompactMix";constructor(e){super(e)}};n(li,"CompactMix");Yd.exports=li});var Wd=g((Gk,Gd)=>{"use strict";var $q=pn(),ui=class extends $q{type="CompactPlaylist";constructor(e){super(e)}};n(ui,"CompactPlaylist");Gd.exports=ui});var zd=g((Wk,Hd)=>{"use strict";var Ql=R(),_t=k(),Gq=ee(),Wq=B(),Hq=O(),zq=N(),hi=class{type="CompactVideo";constructor(e){this.id=e.videoId,this.thumbnails=Hq.fromResponse(e.thumbnail)||null,this.rich_thumbnail=e.richThumbnail&&Ql.parse(e.richThumbnail),this.title=new _t(e.title),this.author=new Gq(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new _t(e.viewCountText),this.short_view_count=new _t(e.shortViewCountText),this.published=new _t(e.publishedTimeText),this.duration={text:new _t(e.lengthText).toString(),seconds:Wq.timeToSeconds(new _t(e.lengthText).toString())},this.thumbnail_overlays=Ql.parse(e.thumbnailOverlays),this.endpoint=new zq(e.navigationEndpoint),this.menu=Ql.parse(e.menu)}get best_thumbnail(){return this.thumbnails[0]}};n(hi,"CompactVideo");Hd.exports=hi});var Qd=g((Hk,Kd)=>{"use strict";var Kq=R(),Qq=N(),di=class{type="ContinuationItem";constructor(e){this.trigger=e.trigger,e.button&&(this.button=Kq.parse(e.button)),this.endpoint=new Qq(e.continuationEndpoint)}};n(di,"ContinuationItem");Kd.exports=di});var Xd=g((zk,Jd)=>{"use strict";var pi=class{type="CtaGoToCreatorStudio";constructor(e){this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(pi,"CtaGoToCreatorStudio");Jd.exports=pi});var fd=g((Kk,Zd)=>{"use strict";var Jq=k(),Xq=N(),mi=class{type="DidYouMean";constructor(e){this.corrected_query=new Jq(e.correctedQuery),this.endpoint=new Xq(e.navigationEndpoint)}};n(mi,"DidYouMean");Zd.exports=mi});var ep=g((Qk,jd)=>{"use strict";var Zq=N(),gi=class{type="DownloadButton";constructor(e){this.style=e.style,this.size=e.size,this.endpoint=new Zq(e.command),this.target_id=e.targetId}};n(gi,"DownloadButton");jd.exports=gi});var np=g((Jk,tp)=>{"use strict";var fq=R(),_i=class{type="Element";constructor(e){let t=e.newElement.type.componentType;return fq.parse(t.model)}};n(_i,"Element");tp.exports=_i});var rp=g((Xk,ip)=>{"use strict";var jq=k(),sp=R(),yi=class{type="EmergencyOnebox";constructor(e){this.title=new jq(e.title),this.first_option=sp.parse(e.firstOption),this.menu=sp.parse(e.menu)}};n(yi,"EmergencyOnebox");ip.exports=yi});var cp=g((Zk,op)=>{"use strict";var eR=R(),wi=class{type="Endscreen";constructor(e){this.elements=eR.parse(e.elements),this.start_ms=e.startMs}};n(wi,"Endscreen");op.exports=wi});var hp=g((fk,up)=>{"use strict";var ap=R(),lp=O(),tR=N(),Jl=k(),vi=class{type="EndscreenElement";constructor(e){this.style=e.style,this.title=new Jl(e.title),this.endpoint=new tR(e.endpoint),e.image&&(this.image=lp.fromResponse(e.image)),e.icon&&(this.icon=lp.fromResponse(e.icon)),e.metadata&&(this.metadata=new Jl(e.metadata)),e.callToAction&&(this.call_to_action=new Jl(e.callToAction)),e.hovercardButton&&(this.hovercard_button=ap.parse(e.hovercardButton)),e.isSubscribe&&(this.is_subscribe=e.isSubscribe),this.thumbnail_overlays=ap.parse(e.thumbnailOverlays),this.left=e.left,this.width=e.width,this.top=e.top,this.aspect_ratio=e.aspectRatio,this.start_ms=e.startMs,this.end_ms=e.endMs,this.id=e.id}};n(vi,"EndscreenElement");up.exports=vi});var pp=g((jk,dp)=>{"use strict";var Xl=k(),nR=O(),sR=N(),bi=class{type="EndScreenPlaylist";constructor(e){this.id=e.playlistId,this.title=new Xl(e.title),this.author=new Xl(e.longBylineText),this.endpoint=new sR(e.navigationEndpoint),this.thumbnails=nR.fromResponse(e.thumbnail),this.video_count=new Xl(e.videoCountText)}};n(bi,"EndScreenPlaylist");dp.exports=bi});var _p=g((eA,gp)=>{"use strict";var mp=R(),Zl=k(),iR=ee(),rR=O(),oR=N(),xi=class{type="EndScreenVideo";constructor(e){this.id=e.videoId,this.title=new Zl(e.title),this.thumbnails=rR.fromResponse(e.thumbnail),this.thumbnail_overlays=mp.parse(e.thumbnailOverlays),this.author=new iR(e.shortBylineText,e.ownerBadges),this.endpoint=new oR(e.navigationEndpoint),this.short_view_count_text=new Zl(e.shortViewCountText),this.badges=mp.parse(e.badges),this.duration={text:new Zl(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(xi,"EndScreenVideo");gp.exports=xi});var wp=g((tA,yp)=>{"use strict";var cR=R(),aR=N(),Ti=class{type="ExpandableTab";constructor(e){this.title=e.title,this.endpoint=new aR(e.endpoint),this.selected=e.selected,this.content=e.content?cR.parse(e.content):null}};n(Ti,"ExpandableTab");yp.exports=Ti});var bp=g((nA,vp)=>{"use strict";var lR=R(),Ei=class{type="ExpandedShelfContents";constructor(e){this.items=lR.parse(e.items)}get contents(){return this.items}};n(Ei,"ExpandedShelfContents");vp.exports=Ei});var Tp=g((sA,xp)=>{"use strict";var uR=R(),qi=class{type="FeedFilterChipBar";constructor(e){this.contents=uR.parse(e.contents)}};n(qi,"FeedFilterChipBar");xp.exports=qi});var qp=g((iA,Ep)=>{"use strict";var hR=k(),Ri=class{constructor(e){this.title=new hR(e.title)}};n(Ri,"FeedTabbedHeader");Ep.exports=Ri});var Ip=g((rA,Rp)=>{"use strict";var dR=R(),Ii=class{type="Grid";constructor(e){this.items=dR.parse(e.items),this.is_collapsible=e.isCollapsible,this.visible_row_count=e.visibleRowCount,this.target_id=e.targetId}get contents(){return this.items}};n(Ii,"Grid");Rp.exports=Ii});var Lp=g((oA,Cp)=>{"use strict";var pR=ee(),mR=R(),gR=N(),Sp=k(),Si=class{type="GridChannel";constructor(e){this.id=e.channelId,this.author=new pR({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Sp(e.subscriberCountText),this.video_count=new Sp(e.videoCountText),this.endpoint=new gR(e.navigationEndpoint),this.subscribe_button=mR.parse(e.subscribeButton)}};n(Si,"GridChannel");Cp.exports=Si});var Np=g((cA,Pp)=>{"use strict";var fl=k(),kp=R(),Ap=O(),_R=gt(),yR=N(),wR=Ts(),Ci=class{type="GridPlaylist";constructor(e){var t;this.id=e.playlistId,this.title=new fl(e.title),e.shortBylineText&&(this.author=new _R(e.shortBylineText,e.ownerBadges)),this.badges=kp.parse(e.ownerBadges),this.endpoint=new yR(e.navigationEndpoint),this.view_playlist=new wR(e.viewPlaylistText),this.thumbnails=Ap.fromResponse(e.thumbnail),this.thumbnail_renderer=kp.parse(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((t=e.sidebarThumbnails)==null?void 0:t.map(s=>Ap.fromResponse(s)))||[])||null,this.video_count=new fl(e.thumbnailText),this.video_count_short_text=new fl(e.videoCountShortText)}};n(Ci,"GridPlaylist");Pp.exports=Ci});var Up=g((aA,Op)=>{"use strict";var jl=R(),yt=k(),vR=O(),bR=N(),xR=ee(),Li=class{type="GridVideo";constructor(e){var s;let t=(s=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new yt(e.title),this.thumbnails=vR.fromResponse(e.thumbnail),this.thumbnail_overlays=jl.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&jl.parse(e.richThumbnail),this.published=new yt(e.publishedTimeText),this.duration=e.lengthText?new yt(e.lengthText):t!=null&&t.text?new yt(t.text):"",this.author=e.shortBylineText&&new xR(e.shortBylineText,e.ownerBadges),this.views=new yt(e.viewCountText),this.short_view_count=new yt(e.shortViewCountText),this.endpoint=new bR(e.navigationEndpoint),this.menu=jl.parse(e.menu)}};n(Li,"GridVideo");Op.exports=Li});var eu=g((lA,Bp)=>{"use strict";var TR=k(),Dp=N(),ki=class{type="SearchSuggestion";constructor(e){this.suggestion=new TR(e.suggestion),this.endpoint=new Dp(e.navigationEndpoint),this.icon_type=e.icon.iconType,e.serviceEndpoint&&(this.service_endpoint=new Dp(e.serviceEndpoint))}};n(ki,"SearchSuggestion");Bp.exports=ki});var Vp=g((uA,Mp)=>{"use strict";var ER=eu(),Ai=class extends ER{type="HistorySuggestion";constructor(e){super(e)}};n(Ai,"HistorySuggestion");Mp.exports=Ai});var Yp=g((hA,Fp)=>{"use strict";var Pi=R(),Ni=class{type="HorizontalCardList";constructor(e){this.cards=Pi.parse(e.cards),this.header=Pi.parse(e.header),this.previous_button=Pi.parse(e.previousButton),this.next_button=Pi.parse(e.nextButton)}};n(Ni,"HorizontalCardList");Fp.exports=Ni});var Gp=g((dA,$p)=>{"use strict";var qR=R(),Oi=class{type="HorizontalList";constructor(e){this.visible_item_count=e.visibleItemCount,this.items=qR.parse(e.items)}get contents(){return this.items}};n(Oi,"HorizontalList");$p.exports=Oi});var zp=g((pA,Hp)=>{"use strict";var Wp=R(),Ui=class{type="ItemSection";constructor(e){this.header=Wp.parse(e.header),this.contents=Wp.parse(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=(e==null?void 0:e.target_id)||(e==null?void 0:e.sectionIdentifier))}};n(Ui,"ItemSection");Hp.exports=Ui});var Qp=g((mA,Kp)=>{"use strict";var RR=k(),Di=class{constructor(e){this.title=new RR(e.title)}};n(Di,"ItemSectionHeader");Kp.exports=Di});var Xp=g((gA,Jp)=>{"use strict";var IR=N(),Bi=class{type="LikeButton";constructor(e){var t;this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,e.serviceEndpoints&&(this.endpoints=(t=e.serviceEndpoints)==null?void 0:t.map(s=>new IR(s)))}};n(Bi,"LikeButton");Jp.exports=Bi});var fp=g((_A,Zp)=>{"use strict";var SR=R(),mn=k(),Mi=class{type="LiveChat";constructor(e){var t,s;this.header=SR.parse(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(s=(t=e.continuations[0])==null?void 0:t.reloadContinuationData)==null?void 0:s.continuation,this.client_messages={reconnect_message:new mn(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new mn(e.clientMessages.unableToReconnectMessage),fatal_error:new mn(e.clientMessages.fatalError),reconnected_message:new mn(e.clientMessages.reconnectedMessage),generic_error:new mn(e.clientMessages.genericError)},this.is_replay=e.isReplay||!1}};n(Mi,"LiveChat");Zp.exports=Mi});var em=g((yA,jp)=>{"use strict";var CR=R(),Vi=class{constructor(e){return CR.parse(e.bannerRenderer,"livechat/items")}};n(Vi,"AddBannerToLiveChatCommand");jp.exports=Vi});var nm=g((wA,tm)=>{"use strict";var LR=R(),Fi=class{type="AddChatItemAction";constructor(e){this.item=LR.parse(e.item,"livechat/items"),this.client_id=e.clientId||null}};n(Fi,"AddChatItemAction");tm.exports=Fi});var im=g((vA,sm)=>{"use strict";var kR=R(),Yi=class{type="AddLiveChatTickerItemAction";constructor(e){this.item=kR.parse(e.item,"livechat/items"),this.duration_sec=e.durationSec}};n(Yi,"AddLiveChatTickerItemAction");sm.exports=Yi});var cm=g((bA,om)=>{"use strict";var rm=R(),$i=class{type="LiveChatBanner";constructor(e){this.header=rm.parse(e.header,"livechat/items"),this.contents=rm.parse(e.contents,"livechat/items"),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n($i,"LiveChatBanner");om.exports=$i});var lm=g((xA,am)=>{"use strict";var AR=R(),PR=k(),Gi=class{type="LiveChatBannerHeader";constructor(e){this.text=new PR(e.text).toString(),this.icon_type=e.icon.iconType,this.context_menu_button=AR.parse(e.contextMenuButton)}};n(Gi,"LiveChatBannerHeader");am.exports=Gi});var dm=g((TA,hm)=>{"use strict";var NR=R(),um=k(),OR=O(),Wi=class{type="LiveChatBannerPoll";constructor(e){this.poll_question=new um(e.pollQuestion),this.author_photo=OR.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(t=>({option_id:t.pollOptionId,text:new um(t.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=NR.parse(e.contextMenuButton)}};n(Wi,"LiveChatBannerPoll");hm.exports=Wi});var gm=g((EA,mm)=>{"use strict";var UR=R(),pm=k(),DR=O(),BR=N(),Hi=class{type="LiveChatMembershipItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new pm(e.headerSubtext),this.author={id:e.authorExternalChannelId,name:new pm(e==null?void 0:e.authorName),thumbnails:DR.fromResponse(e.authorPhoto),badges:UR.parse(e.authorBadges)},this.menu_endpoint=new BR(e.contextMenuEndpoint)}};n(Hi,"LiveChatMembershipItem");mm.exports=Hi});var wm=g((qA,ym)=>{"use strict";var zi=k(),MR=O(),VR=N(),_m=R(),Ki=class{type="LiveChatPaidMessage";constructor(e){this.message=new zi(e.message),this.author={id:e.authorExternalChannelId,name:new zi(e.authorName),thumbnails:MR.fromResponse(e.authorPhoto),badges:_m.parse(e.authorBadges)};let t=_m.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(s=>s.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.purchase_amount=new zi(e.purchaseAmountText).toString(),this.menu_endpoint=new VR(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new zi(e.timestampText).toString(),this.id=e.id}};n(Ki,"LiveChatPaidMessage");ym.exports=Ki});var Tm=g((RA,xm)=>{"use strict";var FR=R(),YR=N(),vm=O(),bm=k(),Qi=class{type="LiveChatPaidSticker";constructor(e){this.id=e.id,this.author={id:e.authorExternalChannelId,name:new bm(e.authorName),thumbnails:vm.fromResponse(e.authorPhoto),badges:FR.parse(e.authorBadges)},this.sticker=vm.fromResponse(e.sticker),this.purchase_amount=new bm(e.purchaseAmountText).toString(),this.context_menu=new YR(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Qi,"LiveChatPaidSticker");xm.exports=Qi});var qm=g((IA,Em)=>{"use strict";var Ji=class{type="LiveChatPlaceholderItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Ji,"LiveChatPlaceholderItem");Em.exports=Ji});var tu=g((SA,Im)=>{"use strict";var Rm=k(),$R=O(),GR=N(),WR=R(),Xi=class{type="LiveChatTextMessage";constructor(e){this.message=new Rm(e.message),this.author={id:e.authorExternalChannelId,name:new Rm(e.authorName),thumbnails:$R.fromResponse(e.authorPhoto)};let t=WR.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(s=>s.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.menu_endpoint=new GR(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Xi,"LiveChatTextMessage");Im.exports=Xi});var Cm=g((CA,Sm)=>{"use strict";var HR=k(),zR=O(),KR=N(),nu=R(),Zi=class{type="LiveChatTickerPaidMessageItem";constructor(e){this.author={id:e.authorExternalChannelId,thumbnails:zR.fromResponse(e.authorPhoto),badges:nu.parse(e.authorBadges)};let t=nu.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(s=>s.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(s=>s.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.amount=new HR(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=nu.parse(e.showItemEndpoint.showLiveChatItemEndpoint.renderer,"livechat/items"),this.show_item_endpoint=new KR(e.showItemEndpoint),this.id=e.id}};n(Zi,"LiveChatTickerPaidMessageItem");Sm.exports=Zi});var Am=g((LA,km)=>{"use strict";var Lm=k(),QR=O(),fi=class{type="LiveChatTickerSponsorItem";constructor(e){this.id=e.id,this.detail_text=new Lm(e.detailText).toString(),this.author={id:e.authorExternalChannelId,name:new Lm(e==null?void 0:e.authorName),thumbnails:QR.fromResponse(e.sponsorPhoto)},this.duration_sec=e.durationSec}};n(fi,"LiveChatTickerSponsorItem");km.exports=fi});var Nm=g((kA,Pm)=>{"use strict";var JR=tu(),XR=R(),ji=class extends JR{type="LiveChatViewerEngagementMessage";constructor(e){super(e),delete this.author,delete this.menu_endpoint,this.icon_type=e.icon.iconType,this.action_button=XR.parse(e.actionButton)}};n(ji,"LiveChatViewerEngagementMessage");Pm.exports=ji});var Dm=g((AA,Um)=>{"use strict";var ZR=R(),Om=k(),fR=N(),er=class{type="Poll";constructor(e){this.header=ZR.parse(e.header,"livechat/items"),this.choices=e.choices.map(t=>({text:new Om(t.text).toString(),selected:t.selected,vote_ratio:t.voteRatio,vote_percentage:new Om(t.votePercentage).toString(),select_endpoint:new fR(t.selectServiceEndpoint)})),this.live_chat_poll_id=e.liveChatPollId}};n(er,"Poll");Um.exports=er});var Vm=g((PA,Mm)=>{"use strict";var Bm=k(),jR=O(),eI=R(),tr=class{type="PollHeader";constructor(e){this.poll_question=new Bm(e.pollQuestion),this.thumbnails=jR.fromResponse(e.thumbnail),this.metadata=new Bm(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=eI.parse(e.contextMenuButton)}};n(tr,"PollHeader");Mm.exports=tr});var Ym=g((NA,Fm)=>{"use strict";var tI=R(),nr=class{type="LiveChatActionPanel";constructor(e){this.id=e.id,this.contents=tI.parse(e.contents,"livechat/items"),this.target_id=e.targetId}};n(nr,"LiveChatActionPanel");Fm.exports=nr});var Gm=g((OA,$m)=>{"use strict";var nI=k(),sr=class{type="MarkChatItemAsDeletedAction";constructor(e){this.deleted_state_message=new nI(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(sr,"MarkChatItemAsDeletedAction");$m.exports=sr});var Hm=g((UA,Wm)=>{"use strict";var sI=k(),ir=class{type="MarkChatItemsByAuthorAsDeletedAction";constructor(e){this.deleted_state_message=new sI(e.deletedStateMessage),this.channel_id=e.externalChannelId}};n(ir,"MarkChatItemsByAuthorAsDeletedAction");Wm.exports=ir});var Km=g((DA,zm)=>{"use strict";var rr=class{type="RemoveBannerForLiveChatCommand";constructor(e){this.target_action_id=e.targetActionId}};n(rr,"RemoveBannerForLiveChatCommand");zm.exports=rr});var Jm=g((BA,Qm)=>{"use strict";var iI=R(),or=class{constructor(e){this.target_item_id=e.targetItemId,this.replacement_item=iI.parse(e.replacementItem,"livechat/items")}};n(or,"ReplaceChatItemAction");Qm.exports=or});var Zm=g((MA,Xm)=>{"use strict";var rI=R(),cr=class{type="ReplayChatItemAction";constructor(e){var t;this.actions=rI.parse((t=e.actions)==null?void 0:t.map(s=>(delete s.clickTrackingParams,s)),"livechat")||[],this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(cr,"ReplayChatItemAction");Xm.exports=cr});var jm=g((VA,fm)=>{"use strict";var oI=R(),ar=class{type="ShowLiveChatActionPanelAction";constructor(e){this.panel_to_show=oI.parse(e.panelToShow,"livechat")}};n(ar,"ShowLiveChatActionPanelAction");fm.exports=ar});var tg=g((FA,eg)=>{"use strict";var cI=R(),lr=class{type="ShowLiveChatTooltipCommand";constructor(e){this.tooltip=cI.parse(e.tooltip)}};n(lr,"ShowLiveChatTooltipCommand");eg.exports=lr});var sg=g((YA,ng)=>{"use strict";var aI=k(),ur=class{type="UpdateDateTextAction";constructor(e){this.date_text=new aI(e.dateText).toString()}};n(ur,"UpdateDateTextAction");ng.exports=ur});var rg=g(($A,ig)=>{"use strict";var lI=k(),hr=class{type="UpdateDescriptionAction";constructor(e){this.description=new lI(e.description)}};n(hr,"UpdateDescriptionAction");ig.exports=hr});var cg=g((GA,og)=>{"use strict";var uI=R(),dr=class{type="UpdateLiveChatPollAction";constructor(e){this.poll_to_update=uI.parse(e.pollToUpdate,"livechat/items")}};n(dr,"UpdateLiveChatPollAction");og.exports=dr});var lg=g((WA,ag)=>{"use strict";var hI=k(),pr=class{type="UpdateTitleAction";constructor(e){this.title=new hI(e.title)}};n(pr,"UpdateTitleAction");ag.exports=pr});var dg=g((HA,hg)=>{"use strict";var ug=k(),mr=class{type="UpdateToggleButtonTextAction";constructor(e){this.default_text=new ug(e.defaultText).toString(),this.toggled_text=new ug(e.toggledText).toString(),this.button_id=e.buttonId}};n(mr,"UpdateToggleButtonTextAction");hg.exports=mr});var gg=g((zA,mg)=>{"use strict";var pg=k(),gr=class{type="UpdateViewershipAction";constructor(e){let t=e.viewCount.videoViewCountRenderer;this.view_count=new pg(t.viewCount),this.extra_short_view_count=new pg(t.extraShortViewCount),this.is_live=t.isLive}};n(gr,"UpdateViewershipAction");mg.exports=gr});var su=g((KA,_g)=>{"use strict";var _r=class{constructor(e){e.icon&&(this.icon_type=e.icon.iconType),e.style&&(this.style=e.style),this.tooltip=e.tooltip||e.iconTooltip||null}};n(_r,"MetadataBadge");_g.exports=_r});var wg=g((QA,yg)=>{"use strict";var dI=su(),pI=O(),yr=class extends dI{constructor(e){super(e),this.custom_thumbnail=e.customThumbnail?pI.fromResponse(e.customThumbnail):null}};n(yr,"LiveChatAuthorBadge");yg.exports=yr});var bg=g((JA,vg)=>{"use strict";var iu=R(),wr=class{type="LiveChatHeader";constructor(e){this.overflow_menu=iu.parse(e.overflowMenu),this.collapse_button=iu.parse(e.collapseButton),this.view_selector=iu.parse(e.viewSelector)}};n(wr,"LiveChatHeader");vg.exports=wr});var Tg=g((XA,xg)=>{"use strict";var mI=R(),vr=class{type="LiveChatItemList";constructor(e){this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=mI.parse(e.moreCommentsBelowButton)}};n(vr,"LiveChatItemList");xg.exports=vr});var qg=g((ZA,Eg)=>{"use strict";var gI=k(),_I=R(),yI=O(),br=class{constructor(e){this.author_name=new gI(e.authorName),this.author_photo=yI.fromResponse(e.authorPhoto),this.send_button=_I.parse(e.sendButton),this.target_id=e.targetId}};n(br,"LiveChatMessageInput");Eg.exports=br});var Ig=g((fA,Rg)=>{"use strict";var wI=R(),vI=k(),bI=O(),xr=class{type="LiveChatParticipant";constructor(e){this.name=new vI(e.authorName),this.photo=bI.fromResponse(e.authorPhoto),this.badges=wI.parse(e.authorBadges)}};n(xr,"LiveChatParticipant");Rg.exports=xr});var Cg=g((jA,Sg)=>{"use strict";var xI=R(),TI=k(),Tr=class{type="LiveChatParticipantsList";constructor(e){this.title=new TI(e.title),this.participants=xI.parse(e.participants)}};n(Tr,"LiveChatParticipantsList");Sg.exports=Tr});var Ag=g((eP,kg)=>{"use strict";var Lg=R(),Er=class{type="Menu";constructor(e){var t,s;this.items=Lg.parse(e.items)||[],this.top_level_buttons=Lg.parse(e.topLevelButtons)||[],this.label=((s=(t=e.accessibility)==null?void 0:t.accessibilityData)==null?void 0:s.label)||null}get contents(){return this.items}};n(Er,"Menu");kg.exports=Er});var Ng=g((tP,Pg)=>{"use strict";var EI=ks(),qr=class extends EI{type="MenuNavigationItem";constructor(e){super(e)}};n(qr,"MenuNavigationItem");Pg.exports=qr});var Ug=g((nP,Og)=>{"use strict";var qI=ks(),Rr=class extends qI{type="MenuServiceItem";constructor(e){super(e)}};n(Rr,"MenuServiceItem");Og.exports=Rr});var Bg=g((sP,Dg)=>{"use strict";var RI=N(),Ir=class{type="MenuServiceItemDownload";constructor(e){this.has_separator=e.hasSeparator,this.endpoint=new RI(e.navigationEndpoint||e.serviceEndpoint)}};n(Ir,"MenuServiceItemDownload");Dg.exports=Ir});var Vg=g((iP,Mg)=>{"use strict";var II=O(),SI=N(),Sr=class{type="MerchandiseItem";constructor(e){this.title=e.title,this.description=e.description,this.thumbnails=II.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new SI(e.buttonCommand)}};n(Sr,"MerchandiseItem");Mg.exports=Sr});var $g=g((rP,Yg)=>{"use strict";var Fg=R(),Cr=class{type="MerchandiseShelf";constructor(e){this.title=e.title,this.menu=Fg.parse(e.actionButton),this.items=Fg.parse(e.items)}get contents(){return this.items}};n(Cr,"MerchandiseShelf");Yg.exports=Cr});var Wg=g((oP,Gg)=>{"use strict";var CI=k(),Lr=class{type="Message";constructor(e){this.text=new CI(e.text).toString()}};n(Lr,"Message");Gg.exports=Lr});var Kg=g((cP,zg)=>{"use strict";var Hg=k(),kr=class{type="MetadataRow";constructor(e){this.title=new Hg(e.title),this.contents=e.contents.map(t=>new Hg(t))}};n(kr,"MetadataRow");zg.exports=kr});var Jg=g((aP,Qg)=>{"use strict";var LI=R(),Ar=class{type="MetadataRowContainer";constructor(e){this.rows=LI.parse(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Ar,"MetadataRowContainer");Qg.exports=Ar});var Zg=g((lP,Xg)=>{"use strict";var kI=k(),Pr=class{type="MetadataRowHeader";constructor(e){this.content=new kI(e.content),this.has_divider_line=e.hasDividerLine}};n(Pr,"MetadataRowHeader");Xg.exports=Pr});var jg=g((uP,fg)=>{"use strict";var AI=O(),Nr=class{type="MicroformatData";constructor(e){this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail&&AI.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Nr,"MicroformatData");fg.exports=Nr});var t_=g((hP,e_)=>{"use strict";var PI=pn(),Or=class extends PI{type="Mix";constructor(e){super(e)}};n(Or,"Mix");e_.exports=Or});var s_=g((dP,n_)=>{"use strict";var ru=R(),NI=ee(),OI=O(),UI=N(),DI=B(),Je=k(),Ur=class{type="Movie";constructor(e){var s,a,i;let t=((s=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new Je(e.title),this.description_snippet=e.descriptionSnippet?new Je(e.descriptionSnippet,""):null,this.top_metadata_items=new Je(e.topMetadataItems),this.thumbnails=OI.fromResponse(e.thumbnail),this.thumbnail_overlays=ru.parse(e.thumbnailOverlays),this.author=new NI(e.longBylineText,e.ownerBadges,(i=(a=e.channelThumbnailSupportedRenderers)==null?void 0:a.channelThumbnailWithLinkRenderer)==null?void 0:i.thumbnail),this.duration={text:e.lengthText?new Je(e.lengthText).text:new Je(t).text,seconds:DI.timeToSeconds(e.lengthText?new Je(e.lengthText).text:new Je(t).text)},this.endpoint=new UI(e.navigationEndpoint),this.badges=ru.parse(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=ru.parse(e.menu)}};n(Ur,"Movie");n_.exports=Ur});var r_=g((pP,i_)=>{"use strict";var BI=O(),Dr=class{type="MovingThumbnail";constructor(e){var t;return(t=e.movingThumbnailDetails)==null?void 0:t.thumbnails.map(s=>new BI(s)).sort((s,a)=>a.width-s.width)}};n(Dr,"MovingThumbnail");i_.exports=Dr});var a_=g((mP,c_)=>{"use strict";var o_=R(),Br=class{type="MusicCarouselShelf";constructor(e){this.header=o_.parse(e.header),this.contents=o_.parse(e.contents),e.numItemsPerColumn&&(this.num_items_per_column=e.numItemsPerColumn)}};n(Br,"MusicCarouselShelf");c_.exports=Br});var h_=g((gP,u_)=>{"use strict";var l_=k(),MI=O(),Mr=class{type="MusicCarouselShelfBasicHeader";constructor(e){e.strapline&&(this.strapline=new l_(e.strapline).toString()),this.title=new l_(e.title).toString(),e.thumbnail&&(this.thumbnail=MI.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail))}};n(Mr,"MusicCarouselShelfBasicHeader");u_.exports=Mr});var m_=g((_P,p_)=>{"use strict";var d_=k(),Vr=class{type="MusicDescriptionShelf";constructor(e){this.description=new d_(e.description),this.max_collapsed_lines&&(this.max_collapsed_lines=e.maxCollapsedLines),this.max_expanded_lines&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new d_(e.footer)}};n(Vr,"MusicDescriptionShelf");p_.exports=Vr});var y_=g((yP,__)=>{"use strict";var Fr=k(),VI=O(),g_=R(),Yr=class{type="MusicDetailHeader";constructor(e){this.title=new Fr(e.title),this.description=new Fr(e.description),this.subtitle=new Fr(e.subtitle),this.second_subtitle=new Fr(e.secondSubtitle),this.year=this.subtitle.runs.find(s=>/^[12][0-9]{3}$/.test(s.text)).text,this.song_count=this.second_subtitle.runs[0].text,this.total_duration=this.second_subtitle.runs[2].text,this.thumbnails=VI.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=g_.parse(e.subtitleBadges);let t=this.subtitle.runs.find(s=>{var a;return(a=s.endpoint.browse)==null?void 0:a.id.startsWith("UC")});t&&(this.author={name:t.text,channel_id:t.endpoint.browse.id,endpoint:t.endpoint}),this.menu=g_.parse(e.menu)}};n(Yr,"MusicDetailHeader");__.exports=Yr});var v_=g((wP,w_)=>{"use strict";var FI=R(),$r=class{type="MusicHeader";constructor(e){this.header=FI.parse(e.header)}};n($r,"MusicHeader");w_.exports=$r});var T_=g((vP,x_)=>{"use strict";var b_=k(),YI=R(),Gr=class{type="MusicImmersiveHeader";constructor(e){this.title=new b_(e.title),this.description=new b_(e.description),this.thumbnails=YI.parse(e.thumbnail)}};n(Gr,"MusicImmersiveHeader");x_.exports=Gr});var q_=g((bP,E_)=>{"use strict";var Wr=class{type="MusicInlineBadge";constructor(e){this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Wr,"MusicInlineBadge");E_.exports=Wr});var I_=g((xP,R_)=>{"use strict";var $I=R(),Hr=class{type="MusicItemThumbnailOverlay";constructor(e){this.content=$I.parse(e.content),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Hr,"MusicItemThumbnailOverlay");R_.exports=Hr});var C_=g((TP,S_)=>{"use strict";var GI=k(),WI=N(),zr=class{type="MusicNavigationButton";constructor(e){this.button_text=new GI(e.buttonText).toString(),this.endpoint=new WI(e.navigationEndpoint)}};n(zr,"MusicNavigationButton");S_.exports=zr});var k_=g((EP,L_)=>{"use strict";var HI=N(),Kr=class{type="MusicPlayButton";constructor(e){var t;this.endpoint=new HI(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,e.accessibilityPlayData&&(this.play_label=e.accessibilityPlayData.accessibilityData.label),e.accessibilityPlayData&&(this.pause_label=(t=e.accessibilityPauseData)==null?void 0:t.accessibilityData.label),this.icon_color=e.iconColor}};n(Kr,"MusicPlayButton");L_.exports=Kr});var P_=g((qP,A_)=>{"use strict";var zI=R(),gn,Qr=class{constructor(e){se(this,"type","MusicPlaylistShelf");T(this,gn,void 0);this.playlist_id=e.playlistId,this.contents=zI.parse(e.contents),this.collapsed_item_count=e.collapsedItemCount,C(this,gn,e.continuations)}get continuation(){var e,t;return(t=(e=d(this,gn))==null?void 0:e[0])==null?void 0:t.nextContinuationData}};n(Qr,"MusicPlaylistShelf"),gn=new WeakMap;A_.exports=Qr});var O_=g((RP,N_)=>{"use strict";var KI=R(),Jr=class{type="MusicQueue";constructor(e){this.content=KI.parse(e.content)}};n(Jr,"MusicQueue");N_.exports=Jr});var G_=g((IP,$_)=>{"use strict";var _n=R(),QI=k(),U_=B(),JI=O(),XI=N(),Q,yn,wt,Zr,D_,fr,B_,jr,M_,eo,V_,to,F_,no,Y_,Xr=class{constructor(e){T(this,Zr);T(this,fr);T(this,jr);T(this,eo);T(this,to);T(this,no);T(this,Q,void 0);T(this,yn,void 0);T(this,wt,void 0);var t,s,a,i;switch(this.type=null,C(this,Q,_n.parse(e.flexColumns)),C(this,yn,_n.parse(e.fixedColumns)),C(this,wt,{video_id:((t=e==null?void 0:e.playlistItemData)==null?void 0:t.videoId)||null,playlist_set_video_id:((s=e==null?void 0:e.playlistItemData)==null?void 0:s.playlistSetVideoId)||null}),this.endpoint=e.navigationEndpoint&&new XI(e.navigationEndpoint)||null,(i=(a=this.endpoint)==null?void 0:a.browse)==null?void 0:i.page_type){case"MUSIC_PAGE_TYPE_ALBUM":this.type="album",A(this,to,F_).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",A(this,no,Y_).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.type="artist",A(this,eo,V_).call(this);break;default:A(this,Zr,D_).call(this);break}e.index&&(this.index=new QI(e.index)),this.thumbnails=e.thumbnail?JI.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail):[],this.badges=_n.parse(e.badges)||[],this.menu=_n.parse(e.menu),this.overlay=_n.parse(e.overlay)}};n(Xr,"MusicResponsiveListItem"),Q=new WeakMap,yn=new WeakMap,wt=new WeakMap,Zr=new WeakSet,D_=n(function(){var t;((t=d(this,Q)[1].title.runs)==null?void 0:t.some(s=>s.text.match(/(.*?) views/)))?(this.type="video",A(this,jr,M_).call(this)):(this.type="song",A(this,fr,B_).call(this))},"#parseVideoOrSong"),fr=new WeakSet,B_=n(function(){var a,i,r,o,h,l,u;this.id=d(this,wt).video_id||this.endpoint.watch.video_id,this.title=d(this,Q)[0].title.toString();let e=((i=(a=d(this,Q)[1].title.runs)==null?void 0:a.find(p=>/^\d+$/.test(p.text.replace(/:/g,""))))==null?void 0:i.text)||((h=(o=(r=d(this,yn))==null?void 0:r[0])==null?void 0:o.title)==null?void 0:h.text);e&&(this.duration={text:e,seconds:U_.timeToSeconds(e)});let t=(l=d(this,Q)[1].title.runs)==null?void 0:l.find(p=>{var y;return(y=p.endpoint.browse)==null?void 0:y.id.startsWith("MPR")});t&&(this.album={id:t.endpoint.browse.id,name:t.text,endpoint:t.endpoint});let s=(u=d(this,Q)[1].title.runs)==null?void 0:u.filter(p=>{var y;return(y=p.endpoint.browse)==null?void 0:y.id.startsWith("UC")});s&&(this.artists=s.map(p=>({name:p.text,channel_id:p.endpoint.browse.id,endpoint:p.endpoint})))},"#parseSong"),jr=new WeakSet,M_=n(function(){var s,a;this.id=d(this,wt).video_id,this.title=d(this,Q)[0].title.toString(),this.views=d(this,Q)[1].title.runs.find(i=>i.text.match(/(.*?) views/)).text;let e=(s=d(this,Q)[1].title.runs)==null?void 0:s.filter(i=>{var r;return(r=i.endpoint.browse)==null?void 0:r.id.startsWith("UC")});e&&(this.authors=e.map(i=>({name:i.text,channel_id:i.endpoint.browse.id,endpoint:i.endpoint})));let t=(a=d(this,Q)[1].title.runs.find(i=>/^\d+$/.test(i.text.replace(/:/g,""))))==null?void 0:a.text;t&&(this.duration={text:t,seconds:U_.timeToSeconds(t)})},"#parseVideo"),eo=new WeakSet,V_=n(function(){var e;this.id=this.endpoint.browse.id,this.name=d(this,Q)[0].title.toString(),this.subscribers=((e=d(this,Q)[1].title.runs[2])==null?void 0:e.text)||""},"#parseArtist"),to=new WeakSet,F_=n(function(){this.id=this.endpoint.browse.id,this.title=d(this,Q)[0].title.toString();let e=d(this,Q)[1].title.runs.find(t=>{var s;return(s=t.endpoint.browse)==null?void 0:s.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint}),this.year=d(this,Q)[1].title.runs.find(t=>/^[12][0-9]{3}$/.test(t.text)).text},"#parseAlbum"),no=new WeakSet,Y_=n(function(){this.id=this.endpoint.browse.id,this.title=d(this,Q)[0].title.toString(),this.item_count=parseInt(d(this,Q)[1].title.runs.find(t=>t.text.match(/\d+ (song|songs)/)).text.match(/\d+/g));let e=d(this,Q)[1].title.runs.find(t=>{var s;return(s=t.endpoint.browse)==null?void 0:s.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint})},"#parsePlaylist");$_.exports=Xr});var H_=g((SP,W_)=>{"use strict";var ZI=k(),so=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new ZI(e.text),this.display_priority=e.displayPriority}};n(so,"MusicResponsiveListItemFixedColumn");W_.exports=so});var K_=g((CP,z_)=>{"use strict";var fI=k(),io=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new fI(e.text),this.display_priority=e.displayPriority}};n(io,"MusicResponsiveListItemFlexColumn");z_.exports=io});var X_=g((LP,J_)=>{"use strict";var jI=R(),Q_=k(),eS=N(),ro=class{type="MusicShelf";constructor(e){var t;this.title=new Q_(e.title).toString(),this.contents=jI.parse(e.contents),e.bottomEndpoint&&(this.endpoint=new eS(e.bottomEndpoint)),e.continuations&&(this.continuation=(t=e.continuations)==null?void 0:t[0].nextContinuationData.continuation),e.bottomText&&(this.bottom_text=new Q_(e.bottomText))}};n(ro,"MusicShelf");J_.exports=ro});var f_=g((kP,Z_)=>{"use strict";var tS=O(),oo=class{type="MusicThumbnail";constructor(e){return tS.fromResponse(e.thumbnail)}};n(oo,"MusicThumbnail");Z_.exports=oo});var ty=g((AP,ey)=>{"use strict";var ou=R(),j_=k(),nS=O(),sS=N(),co=class{type="MusicTwoRowItem";constructor(e){var t,s,a;switch(this.title=new j_(e.title),this.endpoint=new sS(e.navigationEndpoint),this.id=((t=this.endpoint.browse)==null?void 0:t.id)||this.endpoint.watch.video_id,this.subtitle=new j_(e.subtitle),this.badges=ou.parse(e.subtitleBadges),(s=this.endpoint.browse)==null?void 0:s.page_type){case"MUSIC_PAGE_TYPE_ARTIST":this.type="artist",this.subscribers=this.subtitle.toString();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",this.item_count=parseInt((a=this.subtitle.runs.find(r=>r.text.match(/\d+ (songs|song)/)))==null?void 0:a.text.match(/\d+/g))||null;break;case"MUSIC_PAGE_TYPE_ALBUM":this.type="album";let i=this.subtitle.runs.filter(r=>{var o;return(o=r.endpoint.browse)==null?void 0:o.id.startsWith("UC")});i&&(this.artists=i.map(r=>({name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint}))),this.year=this.subtitle.runs.slice(-1)[0].text,isNaN(this.year)&&delete this.year;break;default:if(this.subtitle.runs[0].text!=="Song"?this.type="video":this.type="song",this.type=="video"){this.views=this.subtitle.runs.find(o=>o.text.match(/(.*?) views/)).text;let r=this.subtitle.runs.find(o=>{var h;return(h=o.endpoint.browse)==null?void 0:h.id.startsWith("UC")});r&&(this.author={name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint})}else{let r=this.subtitle.runs.filter(o=>{var h;return(h=o.endpoint.browse)==null?void 0:h.id.startsWith("UC")});r&&(this.artists=r.map(o=>({name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint})))}break}this.thumbnail=nS.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=ou.parse(e.thumbnailOverlay),this.menu=ou.parse(e.menu)}};n(co,"MusicTwoRowItem");ey.exports=co});var sy=g((PP,ny)=>{"use strict";var iS=R(),rS=O(),oS=N(),ao=class{type="PlayerAnnotationsExpanded";constructor(e){this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:rS.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new oS(e.featuredChannel.navigationEndpoint),subscribe_button:iS.parse(e.featuredChannel.subscribeButton)},this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(ao,"PlayerAnnotationsExpanded");ny.exports=ao});var oy=g((NP,ry)=>{"use strict";var iy=k(),lo=class{type="PlayerCaptionsTracklist";constructor(e){this.caption_tracks=e.captionTracks.map(t=>({base_url:t.baseUrl,name:new iy(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})),this.audio_tracks=e.audioTracks.map(t=>({caption_track_indices:t.captionTrackIndices})),this.translation_languages=e.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new iy(t.languageName)}))}};n(lo,"PlayerCaptionsTracklist");ry.exports=lo});var ly=g((OP,ay)=>{"use strict";var cS=R(),cy=k(),aS=O(),uo=class{type="PlayerErrorMessage";constructor(e){this.subreason=new cy(e.subreason),this.reason=new cy(e.reason),this.proceed_button=cS.parse(e.proceedButton),this.thumbnails=aS.fromResponse(e.thumbnail),this.icon_type=e.icon.iconType}};n(uo,"PlayerErrorMessage");ay.exports=uo});var hy=g((UP,uy)=>{"use strict";var ho=class{type="PlayerLiveStoryboardSpec";constructor(){}};n(ho,"PlayerLiveStoryboardSpec");uy.exports=ho});var my=g((DP,py)=>{"use strict";var dy=k(),lS=O(),po=class{type="PlayerMicroformat";constructor(e){this.title=new dy(e.title),this.description=new dy(e.description),this.thumbnails=lS.fromResponse(e.thumbnail),this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height},this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=e.isFamilySafe,this.is_unlisted=e.isUnlisted,this.has_ypc_metadata=e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries}};n(po,"PlayerMicroformat");py.exports=po});var _y=g((BP,gy)=>{"use strict";var wn=R(),mo=class{type="PlayerOverlay";constructor(e){this.end_screen=wn.parse(e.endScreen),this.autoplay=wn.parse(e.autoplay),this.share_button=wn.parse(e.shareButton),this.add_to_menu=wn.parse(e.addToMenu),this.fullscreen_engagement=wn.parse(e.fullscreenEngagement)}};n(mo,"PlayerOverlay");gy.exports=mo});var wy=g((MP,yy)=>{"use strict";var go=R(),_o=k(),uS=ee(),hS=O(),yo=class{type="PlayerOverlayAutoplay";constructor(e){this.title=new _o(e.title),this.video_id=e.videoId,this.video_title=new _o(e.videoTitle),this.short_view_count=new _o(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new _o(e.publishedTimeText),this.background=hS.fromResponse(e.background),this.thumbnail_overlays=go.parse(e.thumbnailOverlays),this.author=new uS(e.byline),this.cancel_button=go.parse(e.cancelButton),this.next_button=go.parse(e.nextButton),this.close_button=go.parse(e.closeButton)}};n(yo,"PlayerOverlayAutoplay");yy.exports=yo});var by=g((VP,vy)=>{"use strict";var wo=class{type="PlayerStoryboardSpec";constructor(e){let t=e.spec.split("|"),s=new URL(t.shift());this.boards=t.map((a,i)=>{let[r,o,h,l,u,p,y,b]=a.split("#");s.searchParams.set("sigh",b),h=parseInt(h,10),l=parseInt(l,10),u=parseInt(u,10);let w=Math.ceil(h/(l*u));return{template_url:s.toString().replace("$L",i).replace("$N",y),thumbnail_width:parseInt(r,10),thumbnail_height:parseInt(o,10),thumbnail_count:h,interval:parseInt(p,10),columns:l,rows:u,storyboard_count:w}})}};n(wo,"PlayerStoryboardSpec");vy.exports=wo});var Ty=g((FP,xy)=>{"use strict";var vt=k(),dS=gt(),cu=R(),vo=class{type="PlaylistHeader";constructor(e){this.id=e.playlistId,this.title=new vt(e.title),this.stats=e.stats.map(t=>new vt(t)),this.brief_stats=e.briefStats.map(t=>new vt(t)),this.author=new dS({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null),this.description=new vt(e.descriptionText),this.num_videos=new vt(e.numVideosText),this.view_count=new vt(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=cu.parse(e.saveButton),this.shuffle_play_button=cu.parse(e.shufflePlayButton),this.menu=cu.parse(e.moreActionsMenu)}};n(vo,"PlaylistHeader");xy.exports=vo});var qy=g((YP,Ey)=>{"use strict";var bo=class{type="PlaylistMetadata";constructor(e){this.title=e.title,this.description=e.description||null}};n(bo,"PlaylistMetadata");Ey.exports=bo});var Iy=g(($P,Ry)=>{"use strict";var pS=R(),mS=k(),xo=class{type="PlaylistPanel";constructor(e){var t,s;this.title=e.title,this.title_text=new mS(e.titleText),this.contents=pS.parse(e.contents),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(s=(t=e.continuations[0])==null?void 0:t.nextRadioContinuationData)==null?void 0:s.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(xo,"PlaylistPanel");Ry.exports=xo});var Ly=g((GP,Cy)=>{"use strict";var Sy=R(),Xe=k(),gS=O(),_S=N(),yS=B(),To=class{type="PlaylistPanelVideo";constructor(e){this.title=new Xe(e.title),this.thumbnail=gS.fromResponse(e.thumbnail),this.endpoint=new _S(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new Xe(e.lengthText).toString(),seconds:yS.timeToSeconds(new Xe(e.lengthText).toString())};let t=new Xe(e.longBylineText).runs.find(a=>{var i;return(i=a.endpoint.browse)==null?void 0:i.id.startsWith("MPR")}),s=new Xe(e.longBylineText).runs.filter(a=>{var i;return(i=a.endpoint.browse)==null?void 0:i.id.startsWith("UC")});this.author=new Xe(e.shortBylineText).toString(),t&&(this.album={id:t.endpoint.browse.id,name:t.text,year:new Xe(e.longBylineText).runs.slice(-1)[0].text,endpoint:t.endpoint}),this.artists=s.map(a=>({name:a.text,channel_id:a.endpoint.browse.id,endpoint:a.endpoint})),this.badges=Sy.parse(e.badges),this.menu=Sy.parse(e.menu),this.set_video_id=e.playlistSetVideoId}};n(To,"PlaylistPanelVideo");Cy.exports=To});var Ay=g((WP,ky)=>{"use strict";var wS=R(),Eo=class{type="PlaylistSidebar";constructor(e){this.items=wS.parse(e.items)}get contents(){return this.items}};n(Eo,"PlaylistSidebar");ky.exports=Eo});var Oy=g((HP,Ny)=>{"use strict";var Py=R(),vS=N(),au=k(),qo=class{type="PlaylistSidebarPrimaryInfo";constructor(e){this.stats=e.stats.map(t=>new au(t)),this.thumbnail_renderer=Py.parse(e.thumbnailRenderer),this.title=new au(e.title),this.menu=e.menu&&Py.parse(e.menu),this.endpoint=new vS(e.navigationEndpoint),this.description=new au(e.description)}};n(qo,"PlaylistSidebarPrimaryInfo");Ny.exports=qo});var By=g((zP,Dy)=>{"use strict";var Uy=R(),Ro=class{type="PlaylistSidebarSecondaryInfo";constructor(e){this.owner=Uy.parse(e.videoOwner)||null,this.button=Uy.parse(e.button)||null}};n(Ro,"PlaylistSidebarSecondaryInfo");Dy.exports=Ro});var Fy=g((KP,Vy)=>{"use strict";var lu=k(),My=R(),bS=O(),xS=gt(),TS=N(),Io=class{type="PlaylistVideo";constructor(e){this.id=e.videoId,this.index=new lu(e.index),this.title=new lu(e.title),this.author=new xS(e.shortBylineText),this.thumbnails=bS.fromResponse(e.thumbnail),this.thumbnail_overlays=My.parse(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new TS(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=My.parse(e.menu),this.duration={text:new lu(e.lengthText).text,seconds:parseInt(e.lengthSeconds)}}};n(Io,"PlaylistVideo");Vy.exports=Io});var $y=g((QP,Yy)=>{"use strict";var ES=R(),So=class{type="PlaylistVideoList";constructor(e){this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=ES.parse(e.contents)}};n(So,"PlaylistVideoList");Yy.exports=So});var Wy=g((JP,Gy)=>{"use strict";var qS=O(),Co=class{type="PlaylistVideoThumbnail";constructor(e){this.thumbnail=qS.fromResponse(e.thumbnail)}};n(Co,"PlaylistVideoThumbnail");Gy.exports=Co});var Ky=g((XP,zy)=>{"use strict";var Lo=k(),RS=O(),Hy=N(),ko=class{type="Poll";constructor(e){this.choices=e.choices.map(t=>({text:new Lo(t.text).toString(),select_endpoint:new Hy(t.selectServiceEndpoint),deselect_endpoint:new Hy(t.deselectServiceEndpoint),vote_ratio_if_selected:t.voteRatioIfSelected,vote_percentage_if_selected:new Lo(t.votePercentageIfSelected),vote_ratio_if_not_selected:t.voteRatioIfSelected,vote_percentage_if_not_selected:new Lo(t.votePercentageIfSelected),image:RS.fromResponse(t.image)})),this.total_votes=new Lo(e.totalVotes),this.poll_type=e.type}};n(ko,"Poll");zy.exports=ko});var Jy=g((ZP,Qy)=>{"use strict";var IS=Ul(),Ao=class extends IS{type="Post";constructor(e){super(e)}};n(Ao,"Post");Qy.exports=Ao});var Zy=g((fP,Xy)=>{"use strict";var SS=R(),Po=class{type="ProfileColumn";constructor(e){this.items=SS.parse(e.items)}get contents(){return this.items}};n(Po,"ProfileColumn");Xy.exports=Po});var jy=g((jP,fy)=>{"use strict";var CS=R(),No=class{type="ProfileColumnStats";constructor(e){this.items=CS.parse(e.items)}get contents(){return this.items}};n(No,"ProfileColumnStats");fy.exports=No});var nw=g((eN,tw)=>{"use strict";var ew=k(),Oo=class{type="ProfileColumnStatsEntry";constructor(e){this.label=new ew(e.label),this.value=new ew(e.value)}};n(Oo,"ProfileColumnStatsEntry");tw.exports=Oo});var iw=g((tN,sw)=>{"use strict";var LS=k(),kS=O(),Uo=class{type="ProfileColumnUserInfo";constructor(e){this.title=new LS(e.title),this.thumbnails=kS.fromResponse(e.thumbnail)}};n(Uo,"ProfileColumnUserInfo");sw.exports=Uo});var cw=g((nN,ow)=>{"use strict";var AS=N(),rw=k(),PS=O(),Do=class{type="ReelItem";constructor(e){this.id=e.videoId,this.title=new rw(e.headline,""),this.thumbnails=PS.fromResponse(e.thumbnail),this.views=new rw(e.viewCountText,""),this.endpoint=new AS(e.navigationEndpoint)}};n(Do,"ReelItem");ow.exports=Do});var lw=g((sN,aw)=>{"use strict";var NS=R(),OS=N(),US=k(),Bo=class{type="ReelShelf";constructor(e){this.title=new US(e.title),this.items=NS.parse(e.items),this.endpoint=e.endpoint?new OS(e.endpoint):null}get contents(){return this.items}};n(Bo,"ReelShelf");aw.exports=Bo});var hw=g((iN,uw)=>{"use strict";var DS=R(),Mo=class{type="RelatedChipCloud";constructor(e){this.content=DS.parse(e.content)}};n(Mo,"RelatedChipCloud");uw.exports=Mo});var mw=g((rN,pw)=>{"use strict";var dw=R(),Vo=class{type="RichGrid";constructor(e){this.header=dw.parse(e.header),this.contents=dw.parse(e.contents)}};n(Vo,"RichGrid");pw.exports=Vo});var _w=g((oN,gw)=>{"use strict";var BS=R(),Fo=class{type="RichItem";constructor(e){return BS.parse(e.content)}};n(Fo,"RichItem");gw.exports=Fo});var ww=g((cN,yw)=>{"use strict";var MS=k(),Yo=class{constructor(e){this.title=new MS(e.title),this.icon_type=e.icon.iconType}};n(Yo,"RichListHeader");yw.exports=Yo});var bw=g((aN,vw)=>{"use strict";var VS=R(),$o=class{type="RichSection";constructor(e){this.contents=VS.parse(e.content)}};n($o,"RichSection");vw.exports=$o});var Tw=g((lN,xw)=>{"use strict";var FS=R(),YS=N(),$S=k(),Go=class{type="RichShelf";constructor(e){this.title=new $S(e.title),this.contents=FS.parse(e.contents),this.endpoint=e.endpoint?new YS(e.endpoint):null}};n(Go,"RichShelf");xw.exports=Go});var Rw=g((uN,qw)=>{"use strict";var Ew=R(),GS=k(),WS=N(),Wo=class{type="SearchBox";constructor(e){this.endpoint=new WS(e.endpoint),this.search_button=Ew.parse(e.searchButton),this.clear_button=Ew.parse(e.clearButton),this.placeholder_text=new GS(e.placeholderText)}};n(Wo,"SearchBox");qw.exports=Wo});var Sw=g((hN,Iw)=>{"use strict";var HS=N(),zS=O(),KS=k(),Ho=class{type="SearchRefinementCard";constructor(e){this.thumbnails=zS.fromResponse(e.thumbnail),this.endpoint=new HS(e.searchEndpoint),this.query=new KS(e.query).toString()}};n(Ho,"SearchRefinementCard");Iw.exports=Ho});var Lw=g((dN,Cw)=>{"use strict";var QS=R(),zo=class{type="SearchSuggestionsSection";constructor(e){this.contents=QS.parse(e.contents)}};n(zo,"SearchSuggestionsSection");Cw.exports=zo});var Aw=g((pN,kw)=>{"use strict";var JS=R(),Ko=class{type="SecondarySearchContainer";constructor(e){this.contents=JS.parse(e.contents)}};n(Ko,"SecondarySearchContainer");kw.exports=Ko});var Ow=g((mN,Nw)=>{"use strict";var Pw=R(),Qo=class{type="SectionList";constructor(e){e.targetId&&(this.target_id=e.targetId),this.contents=Pw.parse(e.contents),e.continuations&&(e.continuations[0].nextContinuationData?this.continuation=e.continuations[0].nextContinuationData.continuation:e.continuations[0].reloadContinuationData&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),e.header&&(this.header=Pw.parse(e.header))}};n(Qo,"SectionList");Nw.exports=Qo});var Bw=g((gN,Dw)=>{"use strict";var XS=k(),Uw=R(),ZS=N(),Jo=class{type="Shelf";constructor(e){var t,s;this.title=new XS(e.title),e.endpoint&&(this.endpoint=new ZS(e.endpoint)),this.content=Uw.parse(e.content)||[],(t=e.icon)!=null&&t.iconType&&(this.icon_type=(s=e.icon)==null?void 0:s.iconType),e.menu&&(this.menu=Uw.parse(e.menu))}};n(Jo,"Shelf");Dw.exports=Jo});var Fw=g((_N,Vw)=>{"use strict";var fS=k(),Mw=N(),Xo=class{type="ShowingResultsFor";constructor(e){this.corrected_query=new fS(e.correctedQuery),this.endpoint=new Mw(e.correctedQueryEndpoint),this.original_query_endpoint=new Mw(e.originalQueryEndpoint)}};n(Xo,"ShowingResultsFor");Vw.exports=Xo});var $w=g((yN,Yw)=>{"use strict";var jS=k(),Zo=class{type="SimpleCardTeaser";constructor(e){this.message=new jS(e.message),this.prominent=e.prominent}};n(Zo,"SimpleCardTeaser");Yw.exports=Zo});var Ww=g((wN,Gw)=>{"use strict";var uu=k(),eC=N(),fo=class{type="SingleActionEmergencySupport";constructor(e){this.action_text=new uu(e.actionText),this.nav_text=new uu(e.navigationText),this.details=new uu(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new eC(e.navigationEndpoint)}};n(fo,"SingleActionEmergencySupport");Gw.exports=fo});var zw=g((vN,Hw)=>{"use strict";var tC=R(),jo=class{type="SingleColumnBrowseResults";constructor(e){this.tabs=tC.parse(e.tabs)}};n(jo,"SingleColumnBrowseResults");Hw.exports=jo});var Qw=g((bN,Kw)=>{"use strict";var nC=R(),ec=class{type="SingleColumnMusicWatchNextResults";constructor(e){return nC.parse(e)}};n(ec,"SingleColumnMusicWatchNextResults");Kw.exports=ec});var Xw=g((xN,Jw)=>{"use strict";var sC=O(),tc=class{type="SingleHeroImage";constructor(e){this.thumbnails=new sC(e.thumbnail).thumbnails,this.style=e.style}};n(tc,"SingleHeroImage");Jw.exports=tc});var fw=g((TN,Zw)=>{"use strict";var{observe:iC}=B(),nc=class{type="SortFilterSubMenu";constructor(e){this.sub_menu_items=iC(e.subMenuItems.map(t=>{var s;return{title:t.title,selected:t.selected,continuation:(s=t.continuation)==null?void 0:s.reloadContinuationData.continuation,subtitle:t.subtitle}})),this.label=e.accessibility.accessibilityData.label}};n(nc,"SortFilterSubMenu");Zw.exports=nc});var ev=g((EN,jw)=>{"use strict";var rC=k(),oC=N(),sc=class{type="SubFeedOption";constructor(e){this.name=new rC(e.name),this.is_selected=e.isSelected,this.endpoint=new oC(e.navigationEndpoint)}};n(sc,"SubFeedOption");jw.exports=sc});var nv=g((qN,tv)=>{"use strict";var cC=R(),aC=k(),ic=class{type="SubFeedSelector";constructor(e){this.title=new aC(e.title),this.options=cC.parse(e.options)}};n(ic,"SubFeedSelector");tv.exports=ic});var iv=g((RN,sv)=>{"use strict";var lC=R(),hu=k(),uC=N(),rc=class{type="SubscribeButton";constructor(e){var t,s;this.title=new hu(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new hu(e.subscribedButtonText),this.unsubscribed_text=new hu(e.unsubscribedButtonText),this.notification_preference_button=lC.parse(e.notificationPreferenceButton),this.endpoint=new uC(((t=e.serviceEndpoints)==null?void 0:t[0])||((s=e.onSubscribeEndpoints)==null?void 0:s[0]))}};n(rc,"SubscribeButton");sv.exports=rc});var ov=g((IN,rv)=>{"use strict";var hC=R(),oc=class{type="SubscriptionNotificationToggleButton";constructor(e){this.states=e.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:hC.parse(t.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(oc,"SubscriptionNotificationToggleButton");rv.exports=oc});var av=g((SN,cv)=>{"use strict";var dC=R(),pC=N(),cc=class{type="Tab";constructor(e){this.title=e.title||"N/A",this.selected=e.selected||!1,this.endpoint=new pC(e.endpoint),this.content=dC.parse(e.content)}};n(cc,"Tab");cv.exports=cc});var uv=g((CN,lv)=>{"use strict";var mC=R(),ac=class{type="Tabbed";constructor(e){return mC.parse(e)}};n(ac,"Tabbed");lv.exports=ac});var dv=g((LN,hv)=>{"use strict";var gC=R(),lc=class{type="TabbedSearchResults";constructor(e){this.tabs=gC.parse(e.tabs)}};n(lc,"TabbedSearchResults");hv.exports=lc});var mv=g((kN,pv)=>{"use strict";var _C=k(),uc=class{type="TextHeader";constructor(e){this.title=new _C(e.title),this.style=e.style}};n(uc,"TextHeader");pv.exports=uc});var _v=g((AN,gv)=>{"use strict";var hc=class{type="ThumbnailOverlayBottomPanel";constructor(e){this.type=e.icon.iconType}};n(hc,"ThumbnailOverlayBottomPanel");gv.exports=hc});var wv=g((PN,yv)=>{"use strict";var yC=k(),dc=class{type="ThumbnailOverlayEndorsement";constructor(e){this.text=new yC(e.text).toString()}};n(dc,"ThumbnailOverlayEndorsement");yv.exports=dc});var bv=g((NN,vv)=>{"use strict";var wC=k(),pc=class{type="ThumbnailOverlayHoverText";constructor(e){this.text=new wC(e.text),this.type=e.icon.iconType}};n(pc,"ThumbnailOverlayHoverText");vv.exports=pc});var Tv=g((ON,xv)=>{"use strict";var vC=k(),mc=class{type="ThumbnailOverlayInlineUnplayable";constructor(e){this.text=new vC(e.text).toString(),this.icon_type=e.icon.iconType}};n(mc,"ThumbnailOverlayInlineUnplayable");xv.exports=mc});var qv=g((UN,Ev)=>{"use strict";var bC=k(),gc=class{type="ThumbnailOverlayLoadingPreview";constructor(e){this.text=new bC(e.text)}};n(gc,"ThumbnailOverlayLoadingPreview");Ev.exports=gc});var Iv=g((DN,Rv)=>{"use strict";var xC=k(),_c=class{type="ThumbnailOverlayNowPlaying";constructor(e){this.text=new xC(e.text).text}};n(_c,"ThumbnailOverlayNowPlaying");Rv.exports=_c});var Cv=g((BN,Sv)=>{"use strict";var yc=class{type="ThumbnailOverlayPinking";constructor(e){this.hack=e.hack}};n(yc,"ThumbnailOverlayPinking");Sv.exports=yc});var kv=g((MN,Lv)=>{"use strict";var TC=k(),wc=class{type="ThumbnailOverlayPlaybackStatus";constructor(e){this.text=e.texts.map(t=>new TC(t))[0].toString()}};n(wc,"ThumbnailOverlayPlaybackStatus");Lv.exports=wc});var Pv=g((VN,Av)=>{"use strict";var vc=class{type="ThumbnailOverlayResumePlayback";constructor(e){this.percent_duration_watched=e.percentDurationWatched}};n(vc,"ThumbnailOverlayResumePlayback");Av.exports=vc});var Ov=g((FN,Nv)=>{"use strict";var EC=k(),bc=class{type="ThumbnailOverlaySidePanel";constructor(e){this.text=new EC(e.text),this.type=e.icon.iconType}};n(bc,"ThumbnailOverlaySidePanel");Nv.exports=bc});var Dv=g((YN,Uv)=>{"use strict";var qC=k(),xc=class{type="ThumbnailOverlayTimeStatus";constructor(e){this.text=new qC(e.text).text}};n(xc,"ThumbnailOverlayTimeStatus");Uv.exports=xc});var Vv=g(($N,Mv)=>{"use strict";var Bv=N(),Tc=class{type="ThumbnailOverlayToggleButton";constructor(e){this.is_toggled=e.isToggled||null,this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new Bv(e.toggledServiceEndpoint),this.untoggled_endpoint=new Bv(e.untoggledServiceEndpoint)}};n(Tc,"ThumbnailOverlayToggleButton");Mv.exports=Tc});var Yv=g((GN,Fv)=>{"use strict";var du=k(),pu=N(),Ec=class{type="ToggleButton";constructor(e){var s,a,i,r,o,h,l,u;this.text=new du(e.defaultText),this.toggled_text=new du(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let t=((a=(s=e==null?void 0:e.defaultText)==null?void 0:s.accessibility)==null?void 0:a.accessibilityData.label)||((i=e==null?void 0:e.accessibilityData)==null?void 0:i.accessibilityData.label)||((r=e==null?void 0:e.accessibility)==null?void 0:r.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(t.replace(/\D/g,"")),this.short_like_count=new du(e.defaultText).toString()),this.endpoint=((h=(o=e.defaultServiceEndpoint)==null?void 0:o.commandExecutorCommand)==null?void 0:h.commands)&&new pu(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop())||new pu(e.defaultServiceEndpoint),this.toggled_endpoint=new pu(e.toggledServiceEndpoint),this.button_id=((u=(l=e.toggleButtonSupportedData)==null?void 0:l.toggleButtonIdData)==null?void 0:u.id)||null,this.target_id=e.targetId||null}};n(Ec,"ToggleButton");Fv.exports=Ec});var Wv=g((WN,Gv)=>{"use strict";var $v=k(),RC=N(),qc=class{type="ToggleMenuServiceItem";constructor(e){this.text=new $v(e.defaultText),this.toggled_text=new $v(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.endpoint=new RC(e.toggledServiceEndpoint)}};n(qc,"ToggleMenuServiceItem");Gv.exports=qc});var zv=g((HN,Hv)=>{"use strict";var IC=k(),mu=N(),Rc=class{type="Tooltip";constructor(e){this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(t=>new mu(t)),accept:new mu(e.promoConfig.acceptCommand),dismiss:new mu(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new IC(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Rc,"Tooltip");Hv.exports=Rc});var gu=g((zN,Qv)=>{"use strict";var Kv=R(),Ic=class{type="TwoColumnBrowseResults";constructor(e){this.tabs=Kv.parse(e.tabs),this.secondary_contents=Kv.parse(e.secondaryContents)}};n(Ic,"TwoColumnBrowseResults");Qv.exports=Ic});var Zv=g((KN,Xv)=>{"use strict";var Jv=R(),Sc=class{type="TwoColumnSearchResults";constructor(e){this.primary_contents=Jv.parse(e.primaryContents),this.secondary_contents=Jv.parse(e.secondaryContents)}};n(Sc,"TwoColumnSearchResults");Xv.exports=Sc});var jv=g((QN,fv)=>{"use strict";var _u=R(),Cc=class{type="TwoColumnWatchNextResults";constructor(e){var t,s;this.results=_u.parse((t=e.results)==null?void 0:t.results.contents),this.secondary_results=_u.parse((s=e.secondaryResults)==null?void 0:s.secondaryResults.results),this.conversation_bar=_u.parse(e==null?void 0:e.conversationBar)}};n(Cc,"TwoColumnWatchNextResults");fv.exports=Cc});var tb=g((JN,eb)=>{"use strict";var yu=R(),Lc=class{type="UniversalWatchCard";constructor(e){this.header=yu.parse(e.header),this.call_to_action=yu.parse(e.callToAction),this.sections=yu.parse(e.sections)}};n(Lc,"UniversalWatchCard");eb.exports=Lc});var sb=g((XN,nb)=>{"use strict";var SC=R(),CC=k(),kc=class{type="VerticalList";constructor(e){this.items=SC.parse(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new CC(e.collapsedStateButtonText)}get contents(){return this.items}};n(kc,"VerticalList");nb.exports=kc});var rb=g((ZN,ib)=>{"use strict";var LC=R(),kC=k(),AC=N(),Ac=class{type="VerticalWatchCardList";constructor(e){this.items=LC.parse(e.items),this.contents=this.items,this.view_all_text=new kC(e.viewAllText),this.view_all_endpoint=new AC(e.viewAllEndpoint)}};n(Ac,"VerticalWatchCardList");ib.exports=Ac});var cb=g((fN,ob)=>{"use strict";var wu=R(),me=k(),PC=ee(),NC=O(),OC=N(),UC=B(),Pc=class{type="Video";constructor(e){var a,i,r,o;let t=((a=e.thumbnailOverlays.find(h=>h.thumbnailOverlayTimeStatusRenderer))==null?void 0:a.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new me(e.title),this.description_snippet=e.descriptionSnippet?new me(e.descriptionSnippet,""):null,this.snippets=((i=e.detailedMetadataSnippets)==null?void 0:i.map(h=>({text:new me(h.snippetText),hover_text:new me(h.snippetHoverText)})))||[],this.thumbnails=NC.fromResponse(e.thumbnail),this.thumbnail_overlays=wu.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&wu.parse(e.richThumbnail),this.author=new PC(e.ownerText,e.ownerBadges,(o=(r=e.channelThumbnailSupportedRenderers)==null?void 0:r.channelThumbnailWithLinkRenderer)==null?void 0:o.thumbnail),this.endpoint=new OC(e.navigationEndpoint),this.published=new me(e.publishedTimeText),this.view_count_text=new me(e.viewCountText),this.short_view_count_text=new me(e.shortViewCountText);let s=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);s&&(this.upcoming=new Date(s)),this.duration={text:e.lengthText?new me(e.lengthText).text:new me(t).text,seconds:UC.timeToSeconds(e.lengthText?new me(e.lengthText).text:new me(t).text)},this.show_action_menu=e.showActionMenu,this.is_watched=e.isWatched||!1,this.menu=wu.parse(e.menu)}get description(){var e;return this.snippets.length>0?this.snippets.map(t=>t.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){return this.badges.some(e=>e.style==="BADGE_STYLE_TYPE_LIVE_NOW")}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Pc,"Video");ob.exports=Pc});var lb=g((jN,ab)=>{"use strict";var Nc=k(),DC=O(),BC=N(),Oc=class{type="VideoInfoCardContent";constructor(e){this.title=new Nc(e.videoTitle),this.channel_name=new Nc(e.channelName),this.view_count=new Nc(e.viewCountText),this.video_thumbnails=DC.fromResponse(e.videoThumbnail),this.duration=new Nc(e.lengthString),this.endpoint=new BC(e.action)}};n(Oc,"VideoInfoCardContent");ab.exports=Oc});var hb=g((e1,ub)=>{"use strict";var MC=k(),VC=ee(),Uc=class{type="VideoOwner";constructor(e){this.subscription_button=e.subscriptionButton||null,this.subscriber_count=new MC(e.subscriberCountText),this.author=new VC({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};n(Uc,"VideoOwner");ub.exports=Uc});var pb=g((t1,db)=>{"use strict";var FC=R(),vn=k(),Dc=class{type="VideoPrimaryInfo";constructor(e){this.title=new vn(e.title),this.super_title_link=new vn(e.superTitleLink),this.view_count=new vn(e.viewCount.videoViewCountRenderer.viewCount),this.short_view_count=new vn(e.viewCount.videoViewCountRenderer.shortViewCount),this.published=new vn(e.dateText),this.menu=FC.parse(e.videoActions)}};n(Dc,"VideoPrimaryInfo");db.exports=Dc});var gb=g((n1,mb)=>{"use strict";var vu=R(),YC=k(),Bc=class{type="VideoSecondaryInfo";constructor(e){this.owner=vu.parse(e.owner),this.description=new YC(e.description),this.subscribe_button=vu.parse(e.subscribeButton),this.metadata=vu.parse(e.metadataRowContainer),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Bc,"VideoSecondaryInfo");mb.exports=Bc});var yb=g((s1,_b)=>{"use strict";var bu=k(),{timeToSeconds:$C}=B(),Mc=class{type="WatchCardCompactVideo";constructor(e){this.title=new bu(e.title),this.subtitle=new bu(e.subtitle),this.duration={text:new bu(e.lengthText).toString(),seconds:$C(e.lengthText.simpleText)},this.style=e.style}};n(Mc,"WatchCardCompactVideo");_b.exports=Mc});var bb=g((i1,vb)=>{"use strict";var wb=R(),GC=N(),Vc=class{type="WatchCardHeroVideo";constructor(e){this.endpoint=new GC(e.navigationEndpoint),this.call_to_action_button=wb.parse(e.callToActionButton),this.hero_image=wb.parse(e.heroImage),this.label=e.accessibility.accessibilityData.label}};n(Vc,"WatchCardHeroVideo");vb.exports=Vc});var Eb=g((r1,Tb)=>{"use strict";var WC=ee(),HC=N(),xb=k(),Fc=class{type="WatchCardRichHeader";constructor(e){this.title=new xb(e.title),this.title_endpoint=new HC(e.titleNavigationEndpoint),this.subtitle=new xb(e.subtitle),this.author=new WC(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title,this.style=e.style}};n(Fc,"WatchCardRichHeader");Tb.exports=Fc});var Rb=g((o1,qb)=>{"use strict";var zC=R(),Yc=class{type="WatchCardSectionSequence";constructor(e){this.lists=zC.parse(e.lists)}};n(Yc,"WatchCardSectionSequence");qb.exports=Yc});var Sb=g((c1,Ib)=>{"use strict";var KC=R(),QC=k(),$c=class{constructor(e){this.results=KC.parse(e.results),this.title=new QC(e.title).toString()}};n($c,"WatchNextEndScreen");Ib.exports=$c});var Lb=g((a1,Cb)=>{"use strict";var JC=gu(),Gc=class extends JC{type="WatchNextTabbedResults";constructor(e){super(e)}};n(Gc,"WatchNextTabbedResults");Cb.exports=Gc});var Ab=g((l1,kb)=>{var XC={AnalyticsMainAppKeyMetrics:()=>_h(),AnalyticsVideo:()=>kl(),AnalyticsVodCarouselCard:()=>vh(),Author:()=>ee(),BackstageImage:()=>Ch(),BackstagePost:()=>Ul(),BackstagePostThread:()=>Ah(),BrowseFeedActions:()=>Nh(),Button:()=>ks(),C4TabbedHeader:()=>Dh(),CallToActionButton:()=>Mh(),Card:()=>Yh(),CardCollection:()=>Gh(),Channel:()=>Hh(),ChannelAboutFullMetadata:()=>Kh(),ChannelFeaturedContent:()=>Jh(),ChannelHeaderLinks:()=>Zh(),ChannelMetadata:()=>jh(),ChannelMobileHeader:()=>td(),ChannelThumbnailWithLink:()=>sd(),ChannelVideoPlayer:()=>rd(),ChildVideo:()=>cd(),ChipCloud:()=>ld(),ChipCloudChip:()=>hd(),CollageHeroImage:()=>pd(),Comment:()=>gd(),CommentReplyDialog:()=>vd(),"comments/AuthorCommentBadge":()=>xd(),"comments/CommentActionButtons":()=>Ed(),"comments/CommentReplies":()=>Rd(),"comments/CommentSimplebox":()=>Cd(),CommentsEntryPointHeader:()=>kd(),CommentsHeader:()=>Nd(),CommentThread:()=>Dd(),CompactLink:()=>Md(),CompactMix:()=>$d(),CompactPlaylist:()=>Wd(),CompactVideo:()=>zd(),ContinuationItem:()=>Qd(),CtaGoToCreatorStudio:()=>Xd(),DataModelSection:()=>Ll(),DidYouMean:()=>fd(),DownloadButton:()=>ep(),Element:()=>np(),EmergencyOnebox:()=>rp(),EmojiRun:()=>Pl(),Endscreen:()=>cp(),EndscreenElement:()=>hp(),EndScreenPlaylist:()=>pp(),EndScreenVideo:()=>_p(),ExpandableTab:()=>wp(),ExpandedShelfContents:()=>bp(),FeedFilterChipBar:()=>Tp(),FeedTabbedHeader:()=>qp(),Format:()=>Sl(),Grid:()=>Ip(),GridChannel:()=>Lp(),GridPlaylist:()=>Np(),GridVideo:()=>Up(),HistorySuggestion:()=>Vp(),HorizontalCardList:()=>Yp(),HorizontalList:()=>Gp(),ItemSection:()=>zp(),ItemSectionHeader:()=>Qp(),LikeButton:()=>Xp(),LiveChat:()=>fp(),"livechat/AddBannerToLiveChatCommand":()=>em(),"livechat/AddChatItemAction":()=>nm(),"livechat/AddLiveChatTickerItemAction":()=>im(),"livechat/items/LiveChatBanner":()=>cm(),"livechat/items/LiveChatBannerHeader":()=>lm(),"livechat/items/LiveChatBannerPoll":()=>dm(),"livechat/items/LiveChatMembershipItem":()=>gm(),"livechat/items/LiveChatPaidMessage":()=>wm(),"livechat/items/LiveChatPaidSticker":()=>Tm(),"livechat/items/LiveChatPlaceholderItem":()=>qm(),"livechat/items/LiveChatTextMessage":()=>tu(),"livechat/items/LiveChatTickerPaidMessageItem":()=>Cm(),"livechat/items/LiveChatTickerSponsorItem":()=>Am(),"livechat/items/LiveChatViewerEngagementMessage":()=>Nm(),"livechat/items/Poll":()=>Dm(),"livechat/items/PollHeader":()=>Vm(),"livechat/LiveChatActionPanel":()=>Ym(),"livechat/MarkChatItemAsDeletedAction":()=>Gm(),"livechat/MarkChatItemsByAuthorAsDeletedAction":()=>Hm(),"livechat/RemoveBannerForLiveChatCommand":()=>Km(),"livechat/ReplaceChatItemAction":()=>Jm(),"livechat/ReplayChatItemAction":()=>Zm(),"livechat/ShowLiveChatActionPanelAction":()=>jm(),"livechat/ShowLiveChatTooltipCommand":()=>tg(),"livechat/UpdateDateTextAction":()=>sg(),"livechat/UpdateDescriptionAction":()=>rg(),"livechat/UpdateLiveChatPollAction":()=>cg(),"livechat/UpdateTitleAction":()=>lg(),"livechat/UpdateToggleButtonTextAction":()=>dg(),"livechat/UpdateViewershipAction":()=>gg(),LiveChatAuthorBadge:()=>wg(),LiveChatHeader:()=>bg(),LiveChatItemList:()=>Tg(),LiveChatMessageInput:()=>qg(),LiveChatParticipant:()=>Ig(),LiveChatParticipantsList:()=>Cg(),Menu:()=>Ag(),MenuNavigationItem:()=>Ng(),MenuServiceItem:()=>Ug(),MenuServiceItemDownload:()=>Bg(),MerchandiseItem:()=>Vg(),MerchandiseShelf:()=>$g(),Message:()=>Wg(),MetadataBadge:()=>su(),MetadataRow:()=>Kg(),MetadataRowContainer:()=>Jg(),MetadataRowHeader:()=>Zg(),MicroformatData:()=>jg(),Mix:()=>t_(),Movie:()=>s_(),MovingThumbnail:()=>r_(),MusicCarouselShelf:()=>a_(),MusicCarouselShelfBasicHeader:()=>h_(),MusicDescriptionShelf:()=>m_(),MusicDetailHeader:()=>y_(),MusicHeader:()=>v_(),MusicImmersiveHeader:()=>T_(),MusicInlineBadge:()=>q_(),MusicItemThumbnailOverlay:()=>I_(),MusicNavigationButton:()=>C_(),MusicPlayButton:()=>k_(),MusicPlaylistShelf:()=>P_(),MusicQueue:()=>O_(),MusicResponsiveListItem:()=>G_(),MusicResponsiveListItemFixedColumn:()=>H_(),MusicResponsiveListItemFlexColumn:()=>K_(),MusicShelf:()=>X_(),MusicThumbnail:()=>f_(),MusicTwoRowItem:()=>ty(),NavigatableText:()=>Ts(),NavigationEndpoint:()=>N(),PlayerAnnotationsExpanded:()=>sy(),PlayerCaptionsTracklist:()=>oy(),PlayerErrorMessage:()=>ly(),PlayerLiveStoryboardSpec:()=>hy(),PlayerMicroformat:()=>my(),PlayerOverlay:()=>_y(),PlayerOverlayAutoplay:()=>wy(),PlayerStoryboardSpec:()=>by(),Playlist:()=>pn(),PlaylistAuthor:()=>gt(),PlaylistHeader:()=>Ty(),PlaylistMetadata:()=>qy(),PlaylistPanel:()=>Iy(),PlaylistPanelVideo:()=>Ly(),PlaylistSidebar:()=>Ay(),PlaylistSidebarPrimaryInfo:()=>Oy(),PlaylistSidebarSecondaryInfo:()=>By(),PlaylistVideo:()=>Fy(),PlaylistVideoList:()=>$y(),PlaylistVideoThumbnail:()=>Wy(),Poll:()=>Ky(),Post:()=>Jy(),ProfileColumn:()=>Zy(),ProfileColumnStats:()=>jy(),ProfileColumnStatsEntry:()=>nw(),ProfileColumnUserInfo:()=>iw(),ReelItem:()=>cw(),ReelShelf:()=>lw(),RelatedChipCloud:()=>hw(),RichGrid:()=>mw(),RichItem:()=>_w(),RichListHeader:()=>ww(),RichSection:()=>bw(),RichShelf:()=>Tw(),SearchBox:()=>Rw(),SearchRefinementCard:()=>Sw(),SearchSuggestion:()=>eu(),SearchSuggestionsSection:()=>Lw(),SecondarySearchContainer:()=>Aw(),SectionList:()=>Ow(),Shelf:()=>Bw(),ShowingResultsFor:()=>Fw(),SimpleCardTeaser:()=>$w(),SingleActionEmergencySupport:()=>Ww(),SingleColumnBrowseResults:()=>zw(),SingleColumnMusicWatchNextResults:()=>Qw(),SingleHeroImage:()=>Xw(),SortFilterSubMenu:()=>fw(),SubFeedOption:()=>ev(),SubFeedSelector:()=>nv(),SubscribeButton:()=>iv(),SubscriptionNotificationToggleButton:()=>ov(),Tab:()=>av(),Tabbed:()=>uv(),TabbedSearchResults:()=>dv(),Text:()=>k(),TextHeader:()=>mv(),TextRun:()=>Al(),Thumbnail:()=>O(),ThumbnailOverlayBottomPanel:()=>_v(),ThumbnailOverlayEndorsement:()=>wv(),ThumbnailOverlayHoverText:()=>bv(),ThumbnailOverlayInlineUnplayable:()=>Tv(),ThumbnailOverlayLoadingPreview:()=>qv(),ThumbnailOverlayNowPlaying:()=>Iv(),ThumbnailOverlayPinking:()=>Cv(),ThumbnailOverlayPlaybackStatus:()=>kv(),ThumbnailOverlayResumePlayback:()=>Pv(),ThumbnailOverlaySidePanel:()=>Ov(),ThumbnailOverlayTimeStatus:()=>Dv(),ThumbnailOverlayToggleButton:()=>Vv(),ToggleButton:()=>Yv(),ToggleMenuServiceItem:()=>Wv(),Tooltip:()=>zv(),TwoColumnBrowseResults:()=>gu(),TwoColumnSearchResults:()=>Zv(),TwoColumnWatchNextResults:()=>jv(),UniversalWatchCard:()=>tb(),VerticalList:()=>sb(),VerticalWatchCardList:()=>rb(),Video:()=>cb(),VideoDetails:()=>Cl(),VideoInfoCardContent:()=>lb(),VideoOwner:()=>hb(),VideoPrimaryInfo:()=>pb(),VideoSecondaryInfo:()=>gb(),WatchCardCompactVideo:()=>yb(),WatchCardHeroVideo:()=>bb(),WatchCardRichHeader:()=>Eb(),WatchCardSectionSequence:()=>Rb(),WatchNextEndScreen:()=>Sb(),WatchNextTabbedResults:()=>Lb()};kb.exports=n(function(e){let t=XC[e];if(!t){let s=new Error("Module not found: "+e);throw s.code="MODULE_NOT_FOUND",s}return t()},"req")});var R=g((u1,Ob)=>{"use strict";var{InnertubeError:Pb,observe:xu}=B(),ZC=Sl(),fC=Cl(),Nb=Ab(),Wc=class{type="appendContinuationItemsAction";constructor(e){this.contents=Z.parse(e.continuationItems)}};n(Wc,"AppendContinuationItemsAction");var Hc=class{type="reloadContinuationItemsCommand";constructor(e){this.target_id=e.targetId,this.contents=Z.parse(e.continuationItems)}};n(Hc,"ReloadContinuationItemsCommand");var zc=class{type="sectionListContinuation";constructor(e){this.contents=Z.parse(e.contents),this.continuation=e.continuations[0].nextContinuationData.continuation}};n(zc,"SectionListContinuation");var Tn=class{type="timedContinuationData";constructor(e){this.timeout_ms=e.timeoutMs||e.timeUntilLastMessageMsec,this.token=e.continuation}};n(Tn,"TimedContinuation");var Kc=class{type="liveChatContinuation";constructor(e){var t,s,a,i,r;this.actions=Z.parse((t=e.actions)==null?void 0:t.map(o=>(delete o.clickTrackingParams,o)),"livechat")||[],this.action_panel=Z.parse(e.actionPanel),this.item_list=Z.parse(e.itemList),this.header=Z.parse(e.header),this.participants_list=Z.parse(e.participantsList),this.popout_message=Z.parse(e.popoutMessage),this.emojis=((s=e.emojis)==null?void 0:s.map(o=>({emoji_id:o.emojiId,shortcuts:o.shortcuts,search_terms:o.searchTerms,image:o.image,is_custom_emoji:o.isCustomEmoji})))||null,this.continuation=new Tn(((a=e.continuations)==null?void 0:a[0].timedContinuationData)||((i=e.continuations)==null?void 0:i[0].invalidationContinuationData)||((r=e.continuations)==null?void 0:r[0].liveChatReplayContinuationData)),this.viewer_name=e.viewerName}};n(Kc,"LiveChatContinuation");var ce,Ze,bn,fe,xn,En,Tu,M=class{static parseResponse(e){var u,p;A(this,fe,xn).call(this);let t=M.parse(e.contents),s=d(M,ce);A(this,Ze,bn).call(this),A(this,fe,xn).call(this);let a=e.onResponseReceivedActions?M.parseRR(e.onResponseReceivedActions):null,i=d(M,ce);A(this,Ze,bn).call(this),A(this,fe,xn).call(this);let r=e.onResponseReceivedEndpoints?M.parseRR(e.onResponseReceivedEndpoints):null,o=d(M,ce);A(this,Ze,bn).call(this),A(this,fe,xn).call(this);let h=e.onResponseReceivedCommands?M.parseRR(e.onResponseReceivedCommands):null,l=d(M,ce);return A(this,Ze,bn).call(this),{contents:t,contents_memo:s,on_response_received_actions:a,on_response_received_actions_memo:i,on_response_received_endpoints:r,on_response_received_endpoints_memo:o,on_response_received_commands:h,on_response_received_commands_memo:l,continuation:e.continuation?M.parseC(e.continuation):null,continuation_contents:e.continuationContents?M.parseLC(e.continuationContents):null,actions:e.actions&&M.parseLA(e.actions),metadata:M.parse(e.metadata),header:M.parse(e.header),microformat:e.microformat&&M.parse(e.microformat),sidebar:M.parse(e.sidebar),overlay:M.parse(e.overlay),refinements:e.refinements||null,estimated_results:e.estimatedResults||null,player_overlays:M.parse(e.playerOverlays),playability_status:e.playabilityStatus&&{status:e.playabilityStatus.status,error_screen:M.parse(e.playabilityStatus.errorScreen),embeddable:e.playabilityStatus.playableInEmbed||null,reason:e.reason||""},streaming_data:e.streamingData&&{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:M.parseFormats(e.streamingData.formats),adaptive_formats:M.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:((u=e.streamingData)==null?void 0:u.dashManifestUrl)||null,dls_manifest_url:((p=e.streamingData)==null?void 0:p.dashManifestUrl)||null},captions:M.parse(e.captions),video_details:e.videoDetails&&new fC(e.videoDetails),annotations:M.parse(e.annotations),storyboards:M.parse(e.storyboards),endscreen:M.parse(e.endscreen),cards:M.parse(e.cards)}}static parseC(e){if(e.timedContinuationData)return new Tn(e.timedContinuationData)}static parseLC(e){if(e.sectionListContinuation)return new zc(e.sectionListContinuation);if(e.liveChatContinuation)return new Kc(e.liveChatContinuation)}static parseRR(e){return xu(e.map(t=>{if(t.reloadContinuationItemsCommand)return new Hc(t.reloadContinuationItemsCommand);if(t.appendContinuationItemsAction)return new Wc(t.appendContinuationItemsAction)}).filter(t=>t))}static parseLA(e){return Array.isArray(e)?M.parse(e.map(t=>(delete t.clickTrackingParams,t)),"livechat"):M.parse(e)||null}static parseFormats(e){return xu((e==null?void 0:e.map(t=>new ZC(t)))||[])}static parse(e,t){if(!e)return null;if(Array.isArray(e)){let i=[];for(let r of e){let o=Object.keys(r),h=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(h))try{let l=t?`${t}/`:"",u=Nb(l+h),p=new u(r[o[0]]);i.push(p),A(this,En,Tu).call(this,h,p)}catch(l){this.formatError({classname:h,classdata:r[o[0]],err:l})}}return xu(i)}let s=Object.keys(e),a=this.sanitizeClassName(s[0]);if(!this.shouldIgnore(a))try{let i=t?`${t}/`:"",r=Nb(i+a),o=new r(e[s[0]]);return A(this,En,Tu).call(this,a,o),o}catch(i){return this.formatError({classname:a,classdata:e[s[0]],err:i}),null}}static formatError({classname:e,classdata:t,err:s}){if(s.code=="MODULE_NOT_FOUND")return console.warn(new Pb(`${e} not found!
This is a bug, please report it at ${zn().bugs.url}`,t));console.warn(new Pb(`Something went wrong at ${e}!
This is a bug, please report it at ${zn().bugs.url}`,{stack:s.stack}))}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return["DisplayAd","SearchPyv","MealbarPromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand"].includes(e)}},Z=M;n(Z,"Parser"),ce=new WeakMap,Ze=new WeakSet,bn=n(function(){C(M,ce,null)},"#clearMemo"),fe=new WeakSet,xn=n(function(){C(M,ce,new Map)},"#createMemo"),En=new WeakSet,Tu=n(function(e,t){if(!!d(M,ce)){if(!d(M,ce).has(e))return d(M,ce).set(e,[t]);d(M,ce).get(e).push(t)}},"#addToMemo"),T(Z,Ze),T(Z,fe),T(Z,En),T(Z,ce,new Map);Ob.exports=Z});var Bb=g((h1,Db)=>{"use strict";var jC=require("../node_modules/uuid/dist/index.js"),Ee=ze(),f=B(),e0=X(),t0=R(),te,H,Jc,Ub,Qc=class{constructor(e){T(this,Jc);T(this,te,void 0);T(this,H,void 0);C(this,te,e),C(this,H,e.request)}async browse(e,t={}){if(A(this,Jc,Ub).call(this,e)&&!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={};return t.params&&(s.params=t.params),t.is_ctoken?s.continuation=e:s.browseId=e,t.client&&(s.client=t.client),await d(this,H).post("/browse",s)}async engage(e,t={}){if(!d(this,te).logged_in&&!t.hasOwnProperty("text"))throw new f.InnertubeError("You are not signed in");let s={};switch(e){case"like/like":case"like/dislike":case"like/removelike":s.target={},s.target.videoId=t.video_id,t.params&&(s.params=t.params);break;case"subscription/subscribe":case"subscription/unsubscribe":s.channelIds=[t.channel_id],s.params=e==="subscription/subscribe"?"EgIIAhgA":"CgIIAhgA";break;case"comment/create_comment":s.commentText=t.text,s.createCommentParams=Ee.encodeCommentParams(t.video_id);break;case"comment/create_comment_reply":s.createReplyParams=Ee.encodeCommentReplyParams(t.comment_id,t.video_id),s.commentText=t.text;break;case"comment/perform_comment_action":let i=(()=>{switch(t.comment_action){case"like":return Ee.encodeCommentActionParams(5,t);case"dislike":return Ee.encodeCommentActionParams(4,t);case"translate":return Ee.encodeCommentActionParams(22,t);default:break}})();s.actions=[i];break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async account(e,t={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={client:t.client};switch(e){case"account/set_setting":s.newValue={boolValue:t.new_value},s.settingItemId=t.setting_item_id;break;case"account/accounts_list":break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async search(e={}){let t={client:e.client};return e.query&&(t.query=e.query),e.ctoken&&(t.continuation=e.ctoken),e.params&&(t.params=e.params),e.filters&&(e.client=="YTMUSIC"?t.params=Ee.encodeMusicSearchFilters(e.filters):t.params=Ee.encodeSearchFilters(e.filters)),await d(this,H).post("/search",t)}async searchSound(e={}){let t={query:e.query,client:"ANDROID"};return await d(this,H).post("/sfv/search",t)}async channel(e,t={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={client:t.client||"ANDROID"};switch(e){case"channel/edit_name":s.givenName=t.new_name;break;case"channel/edit_description":s.description=t.new_description;break;case"channel/get_profile_editor":break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async playlist(e,t={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={};switch(e){case"playlist/create":s.title=t.title,s.videoIds=t.ids;break;case"playlist/delete":s.playlistId=t.playlist_id;break;case"browse/edit_playlist":s.playlistId=t.playlist_id,s.actions=t.ids.map(i=>{switch(t.action){case"ACTION_ADD_VIDEO":return{action:t.action,addedVideoId:i};case"ACTION_REMOVE_VIDEO":return{action:t.action,setVideoId:i};default:break}});break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async notifications(e,t={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={};switch(e){case"modify_channel_preference":let i={PERSONALIZED:1,ALL:2,NONE:3};s.params=Ee.encodeNotificationPref(t.channel_id,i[t.pref.toUpperCase()]);break;case"get_notification_menu":s.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX",t.ctoken&&(s.ctoken=t.ctoken);break;case"record_interactions":s.serializedRecordNotificationInteractionsRequest=t.params;break;case"get_unseen_count":break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/notification/${e}`,s)}async livechat(e,t={}){let s={client:t.client};switch(e){case"live_chat/get_live_chat":case"live_chat/get_live_chat_replay":s.continuation=t.ctoken;break;case"live_chat/send_message":s.params=Ee.encodeMessageParams(t.channel_id,t.video_id),s.clientMessageId=jC.v4(),s.richMessage={textSegments:[{text:t.text}]};break;case"live_chat/get_item_context_menu":break;case"live_chat/moderate":s.params=t.params;break;case"updated_metadata":s.videoId=t.video_id,t.ctoken&&(s.continuation=t.ctoken);break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async thumbnails(e={}){let t={client:"ANDROID",videoId:e.video_id};return await d(this,H).post("/thumbnails",t)}async geo(e,t={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={input:t.input,client:"ANDROID"};return await d(this,H).post(`/geo/${e}`,s)}async flag(e,t){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let s={};switch(e){case"flag/flag":s.action=t.action;break;case"flag/get_form":s.params=t.params;break;default:throw new f.InnertubeError("Action not implemented",e)}return await d(this,H).post(`/${e}`,s)}async music(e,t){let s={input:t.input||"",client:"YTMUSIC"};return await d(this,H).post(`/music/${e}`,s)}async next(e={}){let t={client:e.client};return e.ctoken&&(t.continuation=e.ctoken),e.video_id&&(t.videoId=e.video_id),await d(this,H).post("/next",t)}async getVideoInfo(e,t,s){let a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"https://www.youtube.com",currentUrl:`/watch?v=${e}`,autonavState:"STATE_OFF",signatureTimestamp:d(this,te).sts,autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"}},attestationRequest:{omitBotguardData:!0},videoId:e};return s&&(a.client=s),t&&(a.cpn=t),(await d(this,H).post("/player",a)).data}async getSearchSuggestions(e,t){if(!["YOUTUBE","YTMUSIC"].includes(e))throw new f.InnertubeError("Invalid client",e);return await{YOUTUBE:()=>d(this,H).call(this,{url:"search",baseURL:e0.URLS.YT_SUGGESTIONS,params:{q:t,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:d(this,te).context.client.gl,hl:d(this,te).context.client.hl}}),YTMUSIC:()=>this.music("get_search_suggestions",{input:t})}[e]()}async getUserMentionSuggestions(e={}){if(!d(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let t={input:e.input,client:"ANDROID"};return await d(this,H).post("get_user_mention_suggestions",t)}async execute(e,t){let s={...t};Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token);let a=await d(this,H).post(e,s);return t.parse?t0.parseResponse(a.data):a}};n(Qc,"Actions"),te=new WeakMap,H=new WeakMap,Jc=new WeakSet,Ub=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"#needsLogin");Db.exports=Qc});var Vb=g((d1,Mb)=>{"use strict";var qn=require("fs"),Xc=class{async read(e){return(await qn.promises.readFile(e)).buffer}async write(e,t){let s=e.split("/").slice(0,-1),a="";for(let i of s)a+=`${i}/`,await this.exists(a)||await qn.promises.mkdir(a);return await qn.promises.writeFile(e,t)}async exists(e){return await qn.promises.stat(e).then(()=>!0).catch(()=>!1)}async remove(e){return await qn.promises.rm(e)}};n(Xc,"NodeCache");Mb.exports=new Xc});var Yb=g(Eu=>{"use strict";var{SIG_REGEX:Fb}=X(),bt=Eu.SignatureOperation={REVERSE:0,SPLICE:1,SWAP:2},xe=class{constructor(e){this.action_sequence=e}static fromSourceCode(e){let t,s=[],a=xe.getFunctions(e);for(;(t=Fb.ACTIONS.exec(e))!==null;){let i=t.groups;if(!!i)switch(i.name){case a[0]:s.push([bt.REVERSE,0]);break;case a[1]:s.push([bt.SPLICE,parseInt(i.param)]);break;case a[2]:s.push([bt.SWAP,parseInt(i.param)]);break;default:}}return new xe(s)}decipher(e){var a;let s=(a=new URLSearchParams(e).get("s"))==null?void 0:a.split("");if(!s)throw new TypeError("Invalid signature");for(let i of this.action_sequence)switch(i[0]){case bt.REVERSE:s.reverse();break;case bt.SPLICE:s.splice(0,i[1]);break;case bt.SWAP:{let r=i[1],o=s[0];s[0]=s[r%s.length],s[r%s.length]=o}break;default:break}return s.join("")}toJSON(){return[...this.action_sequence]}toArrayBuffer(){let e=new ArrayBuffer(8+this.action_sequence.length*3),t=new DataView(e),s=0;t.setUint32(s,xe.LIBRARY_VERSION,!0),s+=4,t.setUint32(s,this.action_sequence.length,!0),s+=4;for(let a=0;a<this.action_sequence.length;a++)t.setUint8(s,this.action_sequence[a][0]),s+=1,t.setUint16(s,this.action_sequence[a][1],!0),s+=2;return e}static fromArrayBuffer(e){let t=new DataView(e),s=0,a=t.getUint32(s,!0);if(s+=4,a!==xe.LIBRARY_VERSION)throw new TypeError("Invalid library version");let i=t.getUint32(s,!0);s+=4;let r=new Array(i);for(let o=0;o<i;o++)r[o]=[t.getUint8(s),t.getUint16(s+1,!0)],s+=3;return new xe(r)}static getFunctions(e){let t,s=[];for(;(t=Fb.FUNCTIONS.exec(e))!==null;)t[0].includes("reverse")?s[0]=t[1]:t[0].includes("splice")?s[1]=t[1]:s[2]=t[1];return s}static get LIBRARY_VERSION(){return 1}};n(xe,"Signature");Eu.default=xe});var $b=g(Rn=>{"use strict";var{NTOKEN_REGEX:qu,BASE64_DIALECT:Zc}=X(),Y=Rn.NTokenTransformOperation={NO_OP:0,PUSH:1,REVERSE_1:2,REVERSE_2:3,SPLICE:4,SWAP0_1:5,SWAP0_2:6,ROTATE_1:7,ROTATE_2:8,BASE64_DIA:9,TRANSLATE_1:10,TRANSLATE_2:11},z=Rn.NTokenTransformOpType={FUNC:0,N_ARR:1,LITERAL:2,REF:3},n0={"d.push(e)":Y.PUSH,"d.reverse()":Y.REVERSE_1,"function(d){for(var":Y.REVERSE_2,"d.length;d.splice(e,1)":Y.SPLICE,"d[0])[0])":Y.SWAP0_1,"f=d[0];d[0]":Y.SWAP0_2,"reverse().forEach":Y.ROTATE_1,"unshift(d.pop())":Y.ROTATE_2,"function(){for(var":Y.BASE64_DIA,"function(d,e){for(var f":Y.TRANSLATE_1,"function(d,e,f){var":Y.TRANSLATE_2},$=class{static translate1(e,t,s){let a=s?Zc.REVERSE:Zc.NORMAL,i=t.split("");e.forEach((r,o,h)=>{i.push(h[o]=a[(a.indexOf(r)-a.indexOf(i[o])+64)%a.length])})}static translate2(e,t,s){let a=s.length,i=t.split("");e.forEach((r,o,h)=>{i.push(h[o]=s[(s.indexOf(r)-s.indexOf(i[o])+o+a--)%s.length])})}static getBase64Dia(e){return e?Zc.REVERSE:Zc.NORMAL}static swap0(e,t){let s=e[0];t=(t%e.length+e.length)%e.length,e[0]=e[t],e[t]=s}static rotate(e,t){t=(t%e.length+e.length)%e.length,e.splice(-t).reverse().forEach(s=>e.unshift(s))}static splice(e,t){t=(t%e.length+e.length)%e.length,e.splice(t,1)}static reverse(e){e.reverse()}static push(e,t){Array.isArray(e==null?void 0:e[0])?e.push([z.LITERAL,t]):e.push(t)}};n($,"NTokenTransforms");Rn.NTokenTransforms=$;var s0=[{[Y.PUSH]:$.push,[Y.SPLICE]:$.splice,[Y.SWAP0_1]:$.swap0,[Y.SWAP0_2]:$.swap0,[Y.ROTATE_1]:$.rotate,[Y.ROTATE_2]:$.rotate,[Y.REVERSE_1]:$.reverse,[Y.REVERSE_2]:$.reverse,[Y.BASE64_DIA]:()=>$.getBase64Dia(!1),[Y.TRANSLATE_1]:(...c)=>$.translate1.apply(null,[...c,!1]),[Y.TRANSLATE_2]:$.translate2},{[Y.PUSH]:$.push,[Y.SPLICE]:$.splice,[Y.SWAP0_1]:$.swap0,[Y.SWAP0_2]:$.swap0,[Y.ROTATE_1]:$.rotate,[Y.ROTATE_2]:$.rotate,[Y.REVERSE_1]:$.reverse,[Y.REVERSE_2]:$.reverse,[Y.BASE64_DIA]:()=>$.getBase64Dia(!0),[Y.TRANSLATE_1]:(...c)=>$.translate1.apply(null,[...c,!0]),[Y.TRANSLATE_2]:$.translate2}],ge=class{constructor(e){this.transformer=e}static fromSourceCode(e){let s=ge.getTransformationData(e).map(r=>{var o;if(r!=null&&typeof r!="number"){let h=r.includes("case 65:"),l=n0[(o=ge.getFunc(r))==null?void 0:o[0]];l?r=[z.FUNC,l,0+h]:r=="b"?r=[z.N_ARR]:r=[z.LITERAL,r]}else r!=null&&(r=[z.LITERAL,r]);return r});[...e.matchAll(qu.PLACEHOLDERS)].map(r=>parseInt(r[1])).forEach(r=>s[r]=[z.REF]);let i=[...e.replace(/\n/g,"").match(/try\{(.*?)\}catch/s)[1].matchAll(qu.CALLS)].map(r=>[parseInt(r[1]),r[2].split(",").map(o=>{var h;return parseInt((h=o.match(/c\[(.*?)\]/))==null?void 0:h[1])})]);return new ge([s,i])}evaluate(e,t,s){switch(e[0]){case z.FUNC:return s0[e[2]][e[1]];case z.N_ARR:return t;case z.LITERAL:return e[1];case z.REF:return s[0]}}transform(e){let t=e.split(""),s=this.getTransformerClone();try{s[1].forEach(([a,i])=>{let r=i[2]&&this.evaluate(s[0][i[2]],t,s)();this.evaluate(s[0][a],t,s)(i[0]!==void 0&&this.evaluate(s[0][i[0]],t,s),i[1]!==void 0&&this.evaluate(s[0][i[1]],t,s),r)})}catch(a){return console.error(new Error(`Could not transform n-token, download may be throttled.
Original Token:${e}Error:
${a}`)),e}return t.join("")}getTransformerClone(){return[[...this.transformer[0]],[...this.transformer[1]]]}toJSON(){return this.getTransformerClone()}toArrayBuffer(){let e=12;for(let i of this.transformer[0])switch(i[0]){case z.FUNC:e+=2;break;case z.N_ARR:case z.REF:e+=1;break;case z.LITERAL:typeof i[1]=="string"&&(e+=1+4+new TextEncoder().encode(i[1]).byteLength),e+=4+1;break}for(let i of this.transformer[1])e+=2+i[1].length;let t=new ArrayBuffer(e),s=new DataView(t),a=0;s.setUint32(a,ge.LIBRARY_VERSION,!0),a+=4,s.setUint32(a,this.transformer[0].length,!0),a+=4,s.setUint32(a,this.transformer[1].length,!0),a+=4;for(let i of this.transformer[0])switch(i[0]){case z.FUNC:{let r=i[0]<<6|i[2];s.setUint8(a,r),a+=1,s.setUint8(a,i[1]),a+=1}break;case z.N_ARR:case z.REF:{let r=i[0]<<6;s.setUint8(a,r),a+=1}break;case z.LITERAL:{let r=typeof i[1]=="string"?1:0,o=i[0]<<6|r;if(s.setUint8(a,o),a+=1,r===0)s.setInt32(a,i[1],!0),a+=4;else{let h=new TextEncoder().encode(i[1]);s.setUint32(a,h.byteLength,!0),a+=4;for(let l=0;l<h.byteLength;l++)s.setUint8(a,h[l]),a+=1}}break}for(let i of this.transformer[1]){s.setUint8(a,i[0]),a+=1,s.setUint8(a,i[1].length),a+=1;for(let r of i[1])s.setUint8(a,r),a+=1}return t}static fromArrayBuffer(e){let t=new DataView(e),s=0,a=t.getUint32(s,!0);if(s+=4,a!==ge.LIBRARY_VERSION)throw new TypeError("Invalid library version");let i=t.getUint32(s,!0);s+=4;let r=t.getUint32(s,!0);s+=4;let o=new Array(i);for(let l=0;l<i;l++){let u=t.getUint8(s++),p=u>>6;switch(p){case z.FUNC:{let y=u&1,b=t.getUint8(s++);o[l]=[p,b,y]}break;case z.N_ARR:case z.REF:o[l]=[p];break;case z.LITERAL:if((u&1)===0){let b=t.getInt32(s,!0);s+=4,o[l]=[p,b]}else{let b=t.getUint32(s,!0);s+=4;let w=new Uint8Array(b);for(let _=0;_<b;_++)w[_]=t.getUint8(s++);o[l]=[p,new TextDecoder().decode(w)]}break;default:throw new Error("Invalid opcode")}}let h=new Array(r);for(let l=0;l<r;l++){let u=t.getUint8(s++),p=t.getUint8(s++),y=new Array(p);for(let b=0;b<p;b++)y[b]=t.getUint8(s++);h[l]=[u,y]}return new ge([o,h])}static get LIBRARY_VERSION(){return 1}static getFunc(e){return e.match(qu.FUNCTIONS)}static getTransformationData(e){var s;let t=`[${(s=e.replace(/\n/g,"").match(/c=\[(.*?)\];c/s))==null?void 0:s[1]}]`;return JSON.parse(this.refineNTokenData(t))}static refineNTokenData(e){return e.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}};n(ge,"NToken");Rn.default=ge});var Jb=g((g1,Qb)=>{"use strict";var In=Vb(),xt=B(),i0=X(),{default:Gb}=Yb(),{default:Wb}=$b(),Sn,Tt,Et,je,et,tt,nt,st,jc,Hb,ea,zb,ta,Kb,na=class{constructor(e,t){T(this,jc);T(this,ea);T(this,ta);T(this,Sn,void 0);T(this,Tt,void 0);T(this,Et,void 0);T(this,je,void 0);T(this,et,void 0);T(this,tt,void 0);T(this,nt,void 0);T(this,st,void 0);C(this,Tt,e),C(this,Sn,t),C(this,st,`${xt.getTmpdir()}/yt-cache`),C(this,Et,`${i0.URLS.YT_BASE}/s/player/${d(this,Tt)}/player_ias.vflset/en_US/base.js`),C(this,je,`${d(this,st)}/${d(this,Tt)}.bin`)}async init(){if(await this.isCached()){let a=await In.read(d(this,je)),i=new DataView(a);if(i.getUint32(0,!0)==na.LIBRARY_VERSION){let o=i.getUint32(8,!0),h=a.slice(12,12+o),l=a.slice(12+o);return C(this,et,Wb.fromArrayBuffer(l)),C(this,tt,Gb.fromArrayBuffer(h)),C(this,nt,i.getUint32(4,!0)),this}}let e=await d(this,Sn).get(d(this,Et),{headers:{"content-type":"text/javascript"}});C(this,nt,A(this,jc,Hb).call(this,e.data));let t=A(this,ea,zb).call(this,e.data),s=A(this,ta,Kb).call(this,e.data);C(this,tt,Gb.fromSourceCode(t)),C(this,et,Wb.fromSourceCode(s));try{await In.exists(d(this,st))&&await In.remove(d(this,st),{recursive:!0});let a=d(this,et).toArrayBuffer(),i=d(this,tt).toArrayBuffer(),r=new ArrayBuffer(12+i.byteLength+a.byteLength),o=new DataView(r);o.setUint32(0,na.LIBRARY_VERSION,!0),o.setUint32(4,d(this,nt),!0),o.setUint32(8,i.byteLength,!0),new Uint8Array(r).set(new Uint8Array(i),12),new Uint8Array(r).set(new Uint8Array(a),12+i.byteLength),await In.write(d(this,je),new Uint8Array(r))}finally{}return this}decipher(e,t,s){e=e||t||s,xt.throwIfMissing({url:e});let a=new URLSearchParams(e),i=new URL(a.get("url")||e);if(i.searchParams.set("ratebypass","yes"),t||s){let r=d(this,tt).decipher(e);a.get("sp")?i.searchParams.set(a.get("sp"),r):i.searchParams.set("signature",r)}if(i.searchParams.get("n")){let r=d(this,et).transform(i.searchParams.get("n"));i.searchParams.set("n",r)}return i.toString()}get url(){return d(this,Et)}get sts(){return d(this,nt)}static get LIBRARY_VERSION(){return 1}async isCached(){return await In.exists(d(this,je))}},fc=na;n(fc,"Player"),Sn=new WeakMap,Tt=new WeakMap,Et=new WeakMap,je=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,st=new WeakMap,jc=new WeakSet,Hb=n(function(e){return parseInt(xt.getStringBetweenStrings(e,"signatureTimestamp:",","))},"#extractSigTimestamp"),ea=new WeakSet,zb=n(function(e){let t=xt.getStringBetweenStrings(e,"this.audioTracks};var","};"),s=xt.getStringBetweenStrings(e,'function(a){a=a.split("")','return a.join("")}');return t+s},"#extractSigDecipherSc"),ta=new WeakSet,Kb=n(function(e){return`var b=a.split("")${xt.getStringBetweenStrings(e,'b=a.split("")','}return b.join("")}')}} return b.join("");`},"#extractNTokenSc");Qb.exports=fc});var tx=g((_1,ex)=>{"use strict";var r0=Jb(),o0=ze(),Xb=B(),sa=X(),c0=require("../node_modules/user-agents/dist/index.js"),Cn,it,Ln,qt,Rt,kn,An,Pn,Nn,ra,Zb,oa,fb,ca,jb,ia=class{constructor(e,t){T(this,ra);T(this,oa);T(this,ca);T(this,Cn,void 0);T(this,it,void 0);T(this,Ln,void 0);T(this,qt,void 0);T(this,Rt,void 0);T(this,kn,void 0);T(this,An,void 0);T(this,Pn,void 0);T(this,Nn,void 0);C(this,Cn,e),C(this,it,t)}async build(){let e=await Promise.all([A(this,oa,fb).call(this),A(this,ca,jb).call(this)]),t=e[0][0][2];return C(this,Ln,t[1]),C(this,kn,`v${t[0][0][6]}`),C(this,qt,sa.CLIENTS.WEB.NAME),C(this,Rt,t[0][0][16]),C(this,An,t[0][0][3]),C(this,Nn,await new r0(e[1],d(this,it)).init()),C(this,Pn,A(this,ra,Zb).call(this)),this}get key(){return d(this,Ln)}get context(){return d(this,Pn)}get api_version(){return d(this,kn)}get client_version(){return d(this,Rt)}get client_name(){return d(this,qt)}get player(){return d(this,Nn)}};n(ia,"SessionBuilder"),Cn=new WeakMap,it=new WeakMap,Ln=new WeakMap,qt=new WeakMap,Rt=new WeakMap,kn=new WeakMap,An=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,ra=new WeakSet,Zb=n(function(){let e=new c0({deviceCategory:"desktop"}),t=Xb.generateRandomString(11),s=Math.floor(Date.now()/1e3),a=o0.encodeVisitorData(t,s);return{client:{hl:"en",gl:d(this,Cn).gl||"US",remoteHost:d(this,An),deviceMake:e.vendor,deviceModel:e.platform,visitorData:a,userAgent:e.toString(),clientName:d(this,qt),clientVersion:d(this,Rt),originalUrl:sa.URLS.API.BASE},user:{lockedSafetyMode:!1},request:{useSsl:!0}}},"#buildContext"),oa=new WeakSet,fb=n(async function(){let e=await d(this,it).get(`${sa.URLS.YT_BASE}/sw.js_data`);return JSON.parse(e.data.replace(")]}'",""))},"#getYtConfig"),ca=new WeakSet,jb=n(async function(){let e=await d(this,it).get(`${sa.URLS.YT_BASE}/iframe_api`);return Xb.getStringBetweenStrings(e.data,"player\\/","\\/")},"#getPlayerId");ex.exports=ia});var sx=g((y1,nx)=>{"use strict";var a0=R(),It,aa=class{constructor(e){T(this,It,void 0);C(this,It,a0.parseResponse(e)),this.sections=d(this,It).contents_memo.get("Element")}get page(){return d(this,It)}};n(aa,"Analytics"),It=new WeakMap;nx.exports=aa});var rx=g((w1,ix)=>{"use strict";var St=B(),Me=X(),l0=sx(),u0=ze(),_e,ye,qe,la=class{constructor(e){T(this,ye);T(this,_e,void 0);C(this,_e,e),this.channel={editName:t=>d(this,_e).channel("channel/edit_name",{new_name:t}),editDescription:t=>d(this,_e).channel("channel/edit_description",{new_description:t}),getBasicAnalytics:()=>this.getAnalytics()},this.settings={notifications:{setSubscriptions:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.SUBSCRIPTIONS,"SPaccount_notifications",t),setRecommendedVideos:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.RECOMMENDED_VIDEOS,"SPaccount_notifications",t),setChannelActivity:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.CHANNEL_ACTIVITY,"SPaccount_notifications",t),setCommentReplies:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.COMMENT_REPLIES,"SPaccount_notifications",t),setMentions:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.USER_MENTION,"SPaccount_notifications",t),setSharedContent:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.SHARED_CONTENT,"SPaccount_notifications",t)},privacy:{setSubscriptionsPrivate:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.SUBSCRIPTIONS_PRIVACY,"SPaccount_privacy",t),setSavedPlaylistsPrivate:t=>A(this,ye,qe).call(this,Me.ACCOUNT_SETTINGS.PLAYLISTS_PRIVACY,"SPaccount_privacy",t)}}}async getInfo(){let e=await d(this,_e).account("account/accounts_list",{client:"ANDROID"}),t=St.findNode(e.data,"contents","accountItem",8,!1),s=t.accountItem.serviceEndpoint.signInEndpoint.directSigninUserProfile,a=s.accountName,i=s.email,r=s.accountPhoto.thumbnails,o=t.accountItem.accountByline.runs.map(l=>l.text).join(""),h=e.data.contents[0].accountSectionListRenderer.footers[0].accountChannelRenderer.navigationEndpoint.browseEndpoint.browseId;return{name:a,email:i,channel_id:h,subscriber_count:o,photo:r}}async getTimeWatched(){let e=await d(this,_e).browse("SPtime_watched",{client:"ANDROID"});return St.findNode(e.data,"contents","statRowRenderer",11,!1).map(a=>{let i=a.statRowRenderer;if(i)return{title:i.title.runs.map(r=>r.text).join(""),time:i.contents.runs.map(r=>r.text).join("")}}).filter(a=>a)}async getAnalytics(){let e=await this.getInfo(),t=u0.encodeChannelAnalyticsParams(e.channel_id),s=await d(this,_e).browse("FEanalytics_screen",{params:t,client:"ANDROID"});return new l0(s.data)}};n(la,"AccountManager"),_e=new WeakMap,ye=new WeakSet,qe=n(async function(e,t,s){St.throwIfMissing({setting_id:e,type:t,new_value:s});let a={ON:!0,OFF:!1};if(!a.hasOwnProperty(s))throw new St.InnertubeError("Invalid option",{option:s,available_options:Object.keys(a)});let i=await d(this,_e).browse(t),h=(()=>{switch(t.trim()){case"SPaccount_notifications":return St.findNode(i.data,"contents","Your preferences",13,!1).options;case"SPaccount_privacy":return St.findNode(i.data,"contents","settingsSwitchRenderer",13,!1).options;default:throw new TypeError("undefined is not a function")}})().find(u=>u.settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemIdForClient==e).settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemId;return await d(this,_e).account("account/set_setting",{new_value:t=="SPaccount_privacy"?!a[s]:a[s],setting_item_id:h})},"#setSetting");ix.exports=la});var cx=g((v1,ox)=>{"use strict";var Ct=B(),Re,ua=class{constructor(e){T(this,Re,void 0);C(this,Re,e)}async create(e,t){Ct.throwIfMissing({title:e,video_ids:t});let s=await d(this,Re).playlist("playlist/create",{title:e,ids:t});return{success:s.success,status_code:s.status_code,playlist_id:s.data.playlistId,data:s.data}}async delete(e){Ct.throwIfMissing({playlist_id:e});let t=await d(this,Re).playlist("playlist/delete",{playlist_id:e});return{playlist_id:e,success:t.success,status_code:t.status_code,data:t.data}}async addVideos(e,t){Ct.throwIfMissing({playlist_id:e,video_ids:t});let s=await d(this,Re).playlist("browse/edit_playlist",{ids:t,action:"ACTION_ADD_VIDEO",playlist_id:e});return{playlist_id:e,success:s.success,status_code:s.status_code,data:s.data}}async removeVideos(e,t){Ct.throwIfMissing({playlist_id:e,video_ids:t});let s=await d(this,Re).browse(`VL${e}`),a=Ct.findNode(s.data,"contents","contents",13,!1);if(!a.isEditable)throw new Ct.InnertubeError("This playlist cannot be edited.",e);let r=a.contents.filter(h=>t.includes(h.playlistVideoRenderer.videoId)).map(h=>h.playlistVideoRenderer.setVideoId),o=await d(this,Re).playlist("browse/edit_playlist",{ids:r,action:"ACTION_REMOVE_VIDEO",playlist_id:e});return{success:o.success,status_code:o.status_code,playlist_id:e,data:o.data}}};n(ua,"PlaylistManager"),Re=new WeakMap;ox.exports=ua});var lx=g((b1,ax)=>{"use strict";var Ie=B(),we,ha=class{constructor(e){T(this,we,void 0);C(this,we,e)}async like(e){return Ie.throwIfMissing({video_id:e}),await d(this,we).engage("like/like",{video_id:e})}async dislike(e){return Ie.throwIfMissing({video_id:e}),await d(this,we).engage("like/dislike",{video_id:e})}async removeLike(e){return Ie.throwIfMissing({video_id:e}),await this.actions.engage("like/removelike",{video_id:e})}async subscribe(e){return Ie.throwIfMissing({channel_id:e}),await d(this,we).engage("subscription/subscribe",{channel_id:e})}async unsubscribe(e){return Ie.throwIfMissing({channel_id:e}),await d(this,we).engage("subscription/unsubscribe",{channel_id:e})}async comment(e,t){return Ie.throwIfMissing({video_id:e,text:t}),await d(this,we).engage("comment/create_comment",{video_id:e,text:t})}async translate(e,t,s={}){Ie.throwIfMissing({text:e,target_language:t});let a=await await d(this,we).engage("comment/perform_comment_action",{video_id:s.video_id,comment_id:s.comment_id,target_language:t,comment_action:"translate",text:e}),i=Ie.findNode(a.data,"frameworkUpdates","content",7,!1);return{success:a.success,status_code:a.status_code,translated_content:i.content,data:a.data}}async setNotificationPreferences(e,t){return Ie.throwIfMissing({channel_id:e,type:t}),await d(this,we).notifications("modify_channel_preference",{channel_id:e,pref:t||"NONE"})}};n(ha,"InteractionManager"),we=new WeakMap;ax.exports=ha});var rt=g((x1,hx)=>{"use strict";var h0=R(),{InnertubeError:ux}=B(),j,Se,Lt,ne,On=class{constructor(e,t,s=!1){T(this,j,void 0);T(this,Se,void 0);T(this,Lt,void 0);T(this,ne,void 0);t.on_response_received_actions||t.on_response_received_endpoints||s?C(this,j,t):C(this,j,h0.parseResponse(t)),C(this,ne,d(this,j).on_response_received_commands?d(this,j).on_response_received_commands_memo:d(this,j).on_response_received_endpoints?d(this,j).on_response_received_endpoints_memo:d(this,j).contents?d(this,j).contents_memo:d(this,j).on_response_received_actions?d(this,j).on_response_received_actions_memo:[]),C(this,Lt,e)}static getVideosFromMemo(e){let t=e.get("Video")||[],s=e.get("GridVideo")||[],a=e.get("CompactVideo")||[],i=e.get("PlaylistVideo")||[],r=e.get("PlaylistPanelVideo")||[],o=e.get("WatchCardCompactVideo")||[];return[...t,...s,...a,...i,...r,...o]}static getPlaylistsFromMemo(e){let t=e.get("Playlist")||[],s=e.get("GridPlaylist")||[];return[...t,...s]}get videos(){return On.getVideosFromMemo(d(this,ne))}get posts(){return d(this,ne).get("BackstagePost")||d(this,ne).get("Post")||[]}get channels(){let e=d(this,ne).get("Channel")||[],t=d(this,ne).get("GridChannel")||[];return[...e,...t]}get playlists(){return On.getPlaylistsFromMemo(d(this,ne))}get memo(){return d(this,ne)}get contents(){var a,i,r,o;let e=(i=(a=d(this,ne).get("Tab"))==null?void 0:a[0])==null?void 0:i.content,t=(r=d(this,ne).get("reloadContinuationItemsCommand"))==null?void 0:r[0],s=(o=d(this,ne).get("appendContinuationItemsAction"))==null?void 0:o[0];return e||t||s}get shelves(){let e=d(this,j).contents_memo.get("Shelf")||[],t=d(this,j).contents_memo.get("RichShelf")||[],s=d(this,j).contents_memo.get("ReelShelf")||[];return[...e,...t,...s]}getShelf(e){return this.shelves.find(t=>t.title.toString()===e)}get secondary_contents(){var e;return(e=this.page.contents)==null?void 0:e.secondary_contents}get actions(){return d(this,Lt)}get page(){return d(this,j)}get has_continuation(){return(d(this,ne).get("ContinuationItem")||[]).length>0}async getContinuationData(){if(d(this,Se)){if(d(this,Se).length>1)throw new ux("There are too many continuations, you'll need to find the correct one yourself in this.page");if(d(this,Se).length===0)throw new ux("There are no continuations");return await d(this,Se)[0].endpoint.call(d(this,Lt))}return C(this,Se,d(this,ne).get("ContinuationItem")),d(this,Se)?this.getContinuationData():null}async getContinuation(){let e=await this.getContinuationData();return new On(this.actions,e,!0)}},da=On;n(da,"Feed"),j=new WeakMap,Se=new WeakMap,Lt=new WeakMap,ne=new WeakMap;hx.exports=da});var mx=g((T1,px)=>{"use strict";var d0=rt(),{InnertubeError:dx}=B(),ot=class extends d0{constructor(e,t,s=!1){var h,l,u;super(e,t,s);let a=((h=this.page.contents)==null?void 0:h.primary_contents.contents)||this.page.on_response_received_commands[0].contents,i=(u=(l=this.page.contents)==null?void 0:l.secondary_contents)==null?void 0:u.contents;this.results=a.get({type:"ItemSection"}).contents;let r=this.results.get({type:"HorizontalCardList"},!0),o=i==null?void 0:i.get({type:"UniversalWatchCard"});this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.watch_card={header:(o==null?void 0:o.header)||null,call_to_action:(o==null?void 0:o.call_to_action)||null,sections:(o==null?void 0:o.sections)||[]},this.refinement_cards={header:(r==null?void 0:r.header)||null,cards:(r==null?void 0:r.cards)||[]}}async selectRefinementCard(e){let t;if(typeof e=="string"){if(t=this.refinement_cards.cards.get({query:e}),!t)throw new dx("Refinement card not found!",{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")t=e;else throw new dx("Invalid refinement card!");let s=await t.endpoint.call(this.actions);return new ot(this.actions,s,!0)}get refinement_card_queries(){return this.refinement_cards.cards.map(e=>e.query)}async getContinuation(){let e=await this.getContinuationData();return new ot(this.actions,e,!0)}};n(ot,"Search");px.exports=ot});var wx=g((E1,yx)=>{"use strict";var Ru=R(),p0=require("events"),ct,Ce,kt,At,Un,Dn,Bn,Iu,ma,gx,Mn,Su,ga,_x,pa=class{constructor(e){T(this,Bn);T(this,ma);T(this,Mn);T(this,ga);se(this,"ev");T(this,ct,void 0);T(this,Ce,void 0);T(this,kt,void 0);T(this,At,void 0);T(this,Un,1e3);T(this,Dn,5e3);se(this,"initial_info");se(this,"live_metadata");se(this,"running",!1);se(this,"is_replay",!1);C(this,Ce,e),C(this,ct,e.actions),C(this,kt,d(this,Ce).livechat.continuation),this.is_replay=d(this,Ce).livechat.is_replay,this.live_metadata={title:null,description:null,views:null,likes:null,date:null},this.ev=new p0}start(){this.running||(this.running=!0,A(this,Bn,Iu).call(this),A(this,Mn,Su).call(this))}stop(){this.running=!1}async sendMessage(e){let t=await d(this,ct).livechat("live_chat/send_message",{text:e,video_id:d(this,Ce).basic_info.id,channel_id:d(this,Ce).basic_info.channel_id});return Ru.parseResponse(t.data).actions}};n(pa,"LiveChat"),ct=new WeakMap,Ce=new WeakMap,kt=new WeakMap,At=new WeakMap,Un=new WeakMap,Dn=new WeakMap,Bn=new WeakSet,Iu=n(function(){let e=setTimeout(()=>{(async()=>{let t=this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",s=await d(this,ct).livechat(t,{ctoken:d(this,kt)}),i=Ru.parseResponse(s.data).continuation_contents;C(this,kt,i.continuation.token),C(this,Un,i.continuation.timeout_ms),i.header?(this.initial_info=i,this.ev.emit("start",i)):await A(this,ma,gx).call(this,i.actions),clearTimeout(e),this.running&&A(this,Bn,Iu).call(this)})().catch(t=>Promise.reject(t))},d(this,Un))},"#pollLivechat"),ma=new WeakSet,gx=n(async function(e){let s=e.length<125?1:0,a=s==1?(s=1e4/e.length,s*=Math.random()+.5,s=Math.min(1e3,s),s=Math.max(80,s)):s=80;for(let i of e)await A(this,ga,_x).call(this,a),this.ev.emit("chat-update",i)},"#emitSmoothedActions"),Mn=new WeakSet,Su=n(function(){let e=setTimeout(()=>{(async()=>{var i,r,o,h,l;let t={video_id:d(this,Ce).basic_info.id};d(this,At)&&(t.ctoken=d(this,At));let s=await d(this,ct).livechat("updated_metadata",t),a=Ru.parseResponse(s.data);C(this,At,a.continuation.token),C(this,Dn,a.continuation.timeout_ms),this.metadata={title:a.actions.get({type:"UpdateTitleAction"})||((i=this.metadata)==null?void 0:i.title),description:a.actions.get({type:"UpdateDescriptionAction"})||((r=this.metadata)==null?void 0:r.description),views:a.actions.get({type:"UpdateViewershipAction"})||((o=this.metadata)==null?void 0:o.views),likes:a.actions.get({type:"UpdateToggleButtonTextAction"})||((h=this.metadata)==null?void 0:h.likes),date:a.actions.get({type:"UpdateDateTextAction"})||((l=this.metadata)==null?void 0:l.date)},this.ev.emit("metadata-update",this.metadata),clearTimeout(e),this.running&&A(this,Mn,Su).call(this)})().catch(t=>Promise.reject(t))},d(this,Dn))},"#pollMetadata"),ga=new WeakSet,_x=n(async function(e){return new Promise(t=>setTimeout(()=>t(),e))},"#wait");yx.exports=pa});var qx=g((q1,Ex)=>{"use strict";var{InnertubeError:ae}=B(),{PassThrough:m0,Readable:vx}=require("stream"),Cu=require("../node_modules/axios/index.js"),bx=R(),g0=wx(),xx=X(),Tx=Cu.CancelToken,Vn,Te,Fn,Pt,Nt,_a=class{constructor(e,t,s,a){T(this,Vn,void 0);T(this,Te,void 0);T(this,Fn,void 0);T(this,Pt,void 0);T(this,Nt,void 0);var l,u,p,y,b,w;C(this,Te,t),C(this,Fn,s),C(this,Pt,a);let i=bx.parseResponse(e[0]),r=bx.parseResponse(e[1].data||{});if(C(this,Vn,[i,r]),i.playability_status.status==="ERROR")throw new ae("This video is unavailable",i.playability_status);this.basic_info={...i.video_details,embed:i.microformat.embed,channel:i.microformat.channel,is_unlisted:i.microformat.is_unlisted,is_family_safe:i.microformat.is_family_safe,has_ypc_metadata:i.microformat.has_ypc_metadata},this.streaming_data=i.streaming_data||null,this.playability_status=i.playability_status,this.annotations=i.annotations,this.storyboards=i.storyboards,this.endscreen=i.endscreen,this.captions=i.captions,this.cards=i.cards;let o=(l=r.contents)==null?void 0:l.results,h=(u=r.contents)==null?void 0:u.secondary_results;if(o&&h){this.primary_info=o.get({type:"VideoPrimaryInfo"}),this.secondary_info=o.get({type:"VideoSecondaryInfo"}),this.merchandise=(o==null?void 0:o.get({type:"MerchandiseShelf"}))||null,this.related_chip_cloud=(p=h==null?void 0:h.get({type:"RelatedChipCloud"}))==null?void 0:p.content,this.watch_next_feed=(y=h==null?void 0:h.get({type:"ItemSection"}))==null?void 0:y.contents,C(this,Nt,(b=this.watch_next_feed)==null?void 0:b.pop()),this.player_overlays=r.player_overlays,this.basic_info.like_count=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).like_count,this.basic_info.is_liked=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).is_toggled,this.basic_info.is_disliked=this.primary_info.menu.top_level_buttons.get({icon_type:"DISLIKE"}).is_toggled;let _=o.get({target_id:"comments-entry-point"});this.comments_entry_point_header=(_==null?void 0:_.contents.get({type:"CommentsEntryPointHeader"}))||null,this.livechat=((w=r.contents_memo.get("LiveChat"))==null?void 0:w[0])||null}}async selectFilter(e){if(!this.filters.includes(e))throw new ae("Invalid filter",{available_filters:this.filters});let t=this.related_chip_cloud.chips.get({text:e});if(t.is_selected)return this;let a=(await t.endpoint.call(d(this,Te))).on_response_received_endpoints.get({target_id:"watch-next-feed"});return this.watch_next_feed=a.contents,this}async getWatchNextContinuation(){let t=(await d(this,Nt).endpoint.call(d(this,Te))).on_response_received_endpoints.get({type:"appendContinuationItemsAction"});return this.watch_next_feed=t.contents,C(this,Nt,this.watch_next_feed.pop()),this.watch_next_feed}async like(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_LIKE"});if(e.is_toggled)throw new ae("This video is already liked",{video_id:this.basic_info.id});return await e.endpoint.call(d(this,Te))}async dislike(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_DISLIKE"});if(e.is_toggled)throw new ae("This video is already disliked",{video_id:this.basic_info.id});return await e.endpoint.call(d(this,Te))}async removeLike(){let e=this.primary_info.menu.top_level_buttons.get({is_toggled:!0});if(!e)throw new ae("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(d(this,Te))}async getLiveChat(e){if(!this.livechat)throw new ae("Live Chat is not available",{video_id:this.id});return new g0(this,e)}get filters(){var e;return((e=this.related_chip_cloud)==null?void 0:e.chips.map(t=>t.text.toString()))||[]}get actions(){return d(this,Te)}get page(){return d(this,Vn)}get music_tracks(){let e=this.secondary_info.metadata;if(!e)return[];let t=[],s={},a=!1;for(let i=0;i<e.rows.length;i++){let r=e.rows[i];if(r.type==="MetadataRowHeader"){r.content.toString().toLowerCase().startsWith("music")&&(a=!0,i++);continue}!a||(s[r.title.toString().toLowerCase().replace(/ /g,"_")]=r.contents,r.has_divider_line&&(t.push(s),s={}))}return a&&t.push(s),t}chooseFormat(e){let t=[...this.streaming_data.formats||[],...this.streaming_data.adaptive_formats||[]],s=e.type.includes("audio"),a=e.type.includes("video"),i=-1,r=["best","bestefficiency"].includes(e.quality),o=e.quality!=="best",h=t.filter(l=>s&&!l.has_audio||a&&!l.has_video||e.format!=="any"&&!l.mime_type.includes(e.format)||!r&&l.quality_label!==e.quality?!1:(i<l.width&&(i=l.width),!0));if(h.length===0)throw new ae("No matching formats found",{options:e});if(r&&a&&(h=h.filter(l=>l.width===i)),s&&!a){let l=h.filter(u=>!u.has_video);l.length>0&&(h=l)}return o?h.sort((l,u)=>l.bitrate-u.bitrate):h.sort((l,u)=>u.bitrate-l.bitrate),h[0]}download(e={},t){let s=t||new m0,a,i=!1;return(async()=>{if(this.playability_status==="UNPLAYABLE")return s.emit("error",new ae("Video is unplayable",{video:this,error_type:"UNPLAYABLE"}));if(this.playability_status==="LOGIN_REQUIRED")return s.emit("error",new ae("Video is login required",{video:this,error_type:"LOGIN_REQUIRED"}));if(!this.streaming_data)return s.emit("error",new ae("Streaming data not available.",{video:this,error_type:"NO_STREAMING_DATA"}));let r={quality:"360p",type:"videoandaudio",format:"mp4",range:void 0,...e},o=this.chooseFormat(r),h=o.decipher(d(this,Fn));if(r.type==="videoandaudio"&&!e.range){let l=await Cu.get(`${h}&cpn=${d(this,Pt)}`,{responseType:"stream",cancelToken:new Tx(n(function(y){a=y},"executor")),headers:xx.STREAM_HEADERS}).catch(p=>p);if(l instanceof Error)return s.emit("error",new ae(l.message,{type:"REQUEST_FAILED"})),s;s.emit("start");let u=0;if(typeof l.data=="object")l.data.on("data",p=>{u+=p.length;let y=(l.headers["content-length"]/1024/1024).toFixed(2),b=Math.floor(u/l.headers["content-length"]*100);s.emit("progress",{size:y,percentage:b,chunk_size:p.length,downloaded_size:(u/1024/1024).toFixed(2),raw_data:{chunk_size:p.length,downloaded:u,size:l.headers["content-length"]}})}),l.data.on("error",p=>{i&&s.emit("error",new ae("The download was cancelled.",{type:"DOWNLOAD_CANCELLED"}))||s.emit("error",new ae(p.message,{type:"DOWNLOAD_ABORTED"}))}),l.data.pipe(s,{end:!0});else{let p=new vx;p.push(l.data),p.pipe(s,{end:!0})}}else{let u=e.range?e.range.start:0,p=e.range?e.range.end:10485760,y=0,b=!1;s.emit("start");let w=n(async()=>{(p>=o.content_length||e.range)&&(b=!0),e.range&&(o.content_length=e.range.end);let _=await Cu.get(`${h}&cpn=${d(this,Pt)}&range=${u}-${p||""}`,{responseType:"stream",cancelToken:new Tx(n(function(I){a=I},"executor")),headers:xx.STREAM_HEADERS}).catch(v=>v);if(_ instanceof Error)return s.emit("error",{message:_.message,type:"REQUEST_FAILED"}),s;if(typeof _.data=="object")_.data.on("data",v=>{y+=v.length;let I=(_.headers["content-length"]/1024/1024).toFixed(2),L=Math.floor(y/_.headers["content-length"]*100);s.emit("progress",{size:I,percentage:L,chunk_size:v.length,downloaded_size:(y/1024/1024).toFixed(2),raw_data:{chunk_size:v.length,downloaded:y,size:_.headers["content-length"]}})}),_.data.on("error",v=>{i&&s.emit("error",{message:"The download was cancelled.",type:"DOWNLOAD_CANCELLED"})||s.emit("error",{message:v.message,type:"DOWNLOAD_ABORTED"})}),_.data.on("end",()=>{!b&&!e.range&&(u=p+1,p+=10485760,w())}),_.data.pipe(s,{end:b});else{let v=new vx;v.push(_.data),v.pipe(s,{end:b})}},"downloadChunk");w()}})().catch(r=>{s.emit("error",r)}),s.cancel=()=>{i=!0,a&&a()},s}};n(_a,"VideoInfo"),Vn=new WeakMap,Te=new WeakMap,Fn=new WeakMap,Pt=new WeakMap,Nt=new WeakMap;Ex.exports=_a});var ku=g((R1,Rx)=>{"use strict";var{InnertubeError:_0}=B(),y0=rt(),Ot,Ut,Lu=class extends y0{constructor(t,s,a=!1){super(t,s,a);T(this,Ot,void 0);T(this,Ut,void 0);C(this,Ut,t),C(this,Ot,this.page.contents_memo.get("Tab"))}get tabs(){return d(this,Ot).map(t=>t.title.toString())}async getTab(t){let s=d(this,Ot).find(i=>i.title.toLowerCase()===t.toLowerCase());if(!s)throw new _0(`Tab "${t}" not found`);if(s.selected)return this;let a=await s.endpoint.call(d(this,Ut));return new Lu(d(this,Ut),a,!0)}get title(){var t,s;return(s=(t=this.page.contents_memo("Tab"))==null?void 0:t.find(a=>a.selected))==null?void 0:s.title.toString()}},ya=Lu;n(ya,"TabbedFeed"),Ot=new WeakMap,Ut=new WeakMap;Rx.exports=ya});var Sx=g((I1,Ix)=>{"use strict";var w0=ku(),Au,at=class extends w0{constructor(t,s,a=!1){super(t,s,a);T(this,Au,void 0);this.header={author:this.page.header.author,subscribers:this.page.header.subscribers.toString(),banner:this.page.header.banner,tv_banner:this.page.header.tv_banner,mobile_banner:this.page.header.mobile_banner,header_links:this.page.header.header_links},this.metadata={...this.page.metadata,...this.page.microformat},this.sponsor_button=this.page.header.sponsor_button||null,this.subscribe_button=this.page.header.subscribe_button||null;let i=this.page.contents.tabs.get({selected:!0});this.current_tab=i}async getVideos(){let t=await this.getTab("Videos");return new at(this.actions,t.page,!0)}async getPlaylists(){let t=await this.getTab("Playlists");return new at(this.actions,t.page,!0)}async getHome(){let t=await this.getTab("Home");return new at(this.actions,t.page,!0)}async getCommunity(){let t=await this.getTab("Community");return new at(this.actions,t.page,!0)}async getChannels(){let t=await this.getTab("Channels");return new at(this.actions,t.page,!0)}async getAbout(){var s;return(s=(await this.getTab("About")).memo.get("ChannelAboutFullMetadata"))==null?void 0:s[0]}},wa=at;n(wa,"Channel"),Au=new WeakMap;Ix.exports=wa});var Pu=g((S1,Cx)=>{"use strict";var v0=rt(),Dt,ba,va=class extends v0{constructor(t,s,a=!1){super(t,s,a);T(this,Dt);let i=this.page.sidebar.contents.get({type:"PlaylistSidebarPrimaryInfo"}),r=this.page.sidebar.contents.get({type:"PlaylistSidebarSecondaryInfo"});this.info={...this.page.metadata,author:r.owner.author,thumbnails:i.thumbnail_renderer.thumbnail,total_items:A(this,Dt,ba).call(this,0,i),views:A(this,Dt,ba).call(this,1,i),last_updated:A(this,Dt,ba).call(this,2,i),can_share:this.page.header.can_share,can_delete:this.page.header.can_delete,is_editable:this.page.header.is_editable,privacy:this.page.header.privacy},this.menu=i.menu,this.endpoint=i.endpoint}get items(){return this.videos}};n(va,"Playlist"),Dt=new WeakSet,ba=n(function(t,s){var a;return!s||!s.stats?"N/A":((a=s.stats[t])==null?void 0:a.toString())||"N/A"},"#getStat");Cx.exports=va});var Nu=g((C1,Lx)=>{"use strict";var b0=rt(),Bt=class extends b0{constructor(e,t,s=!1){var a;super(e,t,s),this.sections=this.memo.get("ItemSection"),this.feed_actions=((a=this.memo.get("BrowseFeedActions"))==null?void 0:a[0])||[]}async getContinuation(){let e=await this.getContinuationData();return new Bt(this.actions,e,!0)}};n(Bt,"History");Lx.exports=Bt});var Px=g((L1,Ax)=>{"use strict";var x0=R(),T0=Nu(),E0=Pu(),q0=rt(),{observe:R0}=B(),Ve,Fe,Ta,kx,xa=class{constructor(e,t){T(this,Ta);T(this,Ve,void 0);T(this,Fe,void 0);C(this,Ve,t),C(this,Fe,x0.parseResponse(e));let a=d(this,Fe).contents.tabs.get({selected:!0}).content.contents.map(o=>o.contents[0]),i=d(this,Fe).contents.secondary_contents.items.get({type:"ProfileColumnStats"}).items,r=d(this,Fe).contents.secondary_contents.items.get({type:"ProfileColumnUserInfo"});this.profile={stats:i,user_info:r},this.sections=R0(a.map(o=>({type:o.icon_type,title:o.title,contents:o.content.items,getAll:()=>A(this,Ta,kx).call(this,o)})))}get history(){return this.sections.get({type:"WATCH_HISTORY"})}get watch_later(){return this.sections.get({type:"WATCH_LATER"})}get liked_videos(){return this.sections.get({type:"LIKE"})}get playlists(){return this.sections.get({type:"PLAYLISTS"})}get clips(){return this.sections.get({type:"CONTENT_CUT"})}get page(){return d(this,Fe)}};n(xa,"Library"),Ve=new WeakMap,Fe=new WeakMap,Ta=new WeakSet,kx=n(async function(e){var a;if(!((a=e.menu)!=null&&a.top_level_buttons))throw new Error(`The ${e.title.text} section doesn't have more items`);let s=await(await e.menu.top_level_buttons.get({text:"See all"})).endpoint.call(d(this,Ve));switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new E0(d(this,Ve),s,!0);case"WATCH_HISTORY":return new T0(d(this,Ve),s,!0);case"CONTENT_CUT":return new q0(d(this,Ve),s,!0);default:}},"#getAll");Ax.exports=xa});var Ox=g((k1,Nx)=>{"use strict";var I0=R(),{InnertubeError:S0}=B(),lt,Le,Mt,Ou=class{constructor(e,t,s=!1){T(this,lt,void 0);T(this,Le,void 0);T(this,Mt,void 0);C(this,lt,s?t:I0.parseResponse(t)),C(this,Le,e);let a=d(this,lt).on_response_received_endpoints;this.header=a[0].contents.get({type:"CommentsHeader"});let i=a[1].contents.findAll({type:"CommentThread"});this.contents=i.map(r=>(r.comment.setActions(d(this,Le)),r.setActions(d(this,Le)),r)),C(this,Mt,a[1].contents.get({type:"ContinuationItem"}))}async comment(e){let t=this.header.create_renderer.submit_button,s={params:{commentText:e},parse:!1};return await t.endpoint.callTest(d(this,Le),s)}async getContinuation(){if(!d(this,Mt))throw new S0("Continuation not found");let e=await d(this,Mt).endpoint.callTest(d(this,Le)),t=Object.assign({},d(this,lt));return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Ou(d(this,Le),t,!0)}get page(){return d(this,lt)}},Ea=Ou;n(Ea,"Comments"),lt=new WeakMap,Le=new WeakMap,Mt=new WeakMap;Nx.exports=Ea});var Mx=g((A1,Bx)=>{"use strict";var Ux=R(),{observe:C0,InnertubeError:Uu}=B(),Vt,ke,Ye,Ft,Ra,Dx,Ia=class{constructor(e,t,s={}){T(this,Ra);T(this,Vt,void 0);T(this,ke,void 0);T(this,Ye,void 0);T(this,Ft,void 0);C(this,ke,t),C(this,Vt,s.is_continuation&&e||Ux.parseResponse(e.data));let a=d(this,Vt).contents.tabs.get({selected:!0}),i=a.content.contents,r=i.get({type:"ItemSection"});if(C(this,Ft,a.content.header),this.did_you_mean=(r==null?void 0:r.contents.get({type:"DidYouMean"}))||null,this.showing_results_for=(r==null?void 0:r.contents.get({type:"ShowingResultsFor"}))||null,(!!this.did_you_mean||!!this.showing_results_for)&&i.shift(),s.is_continuation||s.is_filtered){let o=i.get({type:"MusicShelf"});this.results=o.contents,C(this,Ye,o.continuation);return}this.sections=C0(i.map(o=>({title:o.title,contents:o.contents,getMore:()=>A(this,Ra,Dx).call(this,o)})))}async getContinuation(){var s,a,i;if(!d(this,Ye))throw new Uu("Looks like you've reached the end");let t=(await d(this,ke).search({ctoken:d(this,Ye),client:"YTMUSIC"})).data.continuationContents.musicShelfContinuation;return this.results=Ux.parse(t.contents),C(this,Ye,(i=(a=(s=t==null?void 0:t.continuations)==null?void 0:s[0])==null?void 0:a.nextContinuationData)==null?void 0:i.continuation),this}async selectFilter(e){if(!this.filters.includes(e))throw new Uu("Invalid filter",{available_filters:this.filters});let t=d(this,Ft).chips.get({text:e});if(t.is_selected)return this;let s=await t.endpoint.call(d(this,ke),"YTMUSIC");return new Ia(s,d(this,ke),{is_continuation:!0})}get has_continuation(){return!!d(this,Ye)}get filters(){return d(this,Ft).chips.map(e=>e.text)}get songs(){return this.sections.get({title:"Songs"})}get videos(){return this.sections.get({title:"Videos"})}get albums(){return this.sections.get({title:"Albums"})}get artists(){return this.sections.get({title:"Artists"})}get playlists(){return this.sections.get({title:"Community playlists"})}get page(){return d(this,Vt)}},qa=Ia;n(qa,"Search"),Vt=new WeakMap,ke=new WeakMap,Ye=new WeakMap,Ft=new WeakMap,Ra=new WeakSet,Dx=n(async function(e){if(!e.endpoint)throw new Uu(`${e.title} doesn't have more items`);let t=await e.endpoint.call(d(this,ke),"YTMUSIC");return new Ia(t,d(this,ke),{is_continuation:!0})},"#getMore");Bx.exports=qa});var Fx=g((P1,Vx)=>{"use strict";var L0=R(),$e,Yt,Yn,Du=class{constructor(e,t){T(this,$e,void 0);T(this,Yt,void 0);T(this,Yn,void 0);var a,i;C(this,Yt,t),C(this,$e,L0.parseResponse(e.data));let s=d(this,$e).contents.tabs.get({title:"Home"});C(this,Yn,((a=s.content)==null?void 0:a.continuation)||d(this,$e).continuation_contents.continuation),this.sections=((i=s.content)==null?void 0:i.contents)||d(this,$e).continuation_contents.contents}async getContinuation(){let e=await d(this,Yt).browse(d(this,Yn),{is_ctoken:!0,client:"YTMUSIC"});return new Du(e,d(this,Yt))}get page(){return d(this,$e)}},Sa=Du;n(Sa,"HomeFeed"),$e=new WeakMap,Yt=new WeakMap,Yn=new WeakMap;Vx.exports=Sa});var $x=g((N1,Yx)=>{"use strict";var k0=R(),$n,Ca=class{constructor(e){T(this,$n,void 0);C(this,$n,k0.parseResponse(e.data));let t=this.page.contents.tabs.get({selected:!0});this.top_buttons=t.content.contents.get({type:"Grid"}).items,this.sections=t.content.contents.findAll({type:"MusicCarouselShelf"})}get page(){return d(this,$n)}};n(Ca,"Explore"),$n=new WeakMap;Yx.exports=Ca});var Wx=g((O1,Gx)=>{"use strict";var A0=R(),Gn,La=class{constructor(e){T(this,Gn,void 0);C(this,Gn,A0.parseResponse(e.data))}get page(){return d(this,Gn)}};n(La,"Library"),Gn=new WeakMap;Gx.exports=La});var zx=g((U1,Hx)=>{"use strict";var P0=R(),{observe:N0}=B(),ut,Wn,ka=class{constructor(e,t){T(this,ut,void 0);T(this,Wn,void 0);C(this,ut,P0.parseResponse(e.data)),C(this,Wn,t),this.header=this.page.header;let s=d(this,ut).contents_memo.get("MusicShelf"),a=d(this,ut).contents_memo.get("MusicCarouselShelf");this.sections=N0([...s,...a])}async getAllSongs(){var s;return((s=(await this.sections.get({type:"MusicShelf"}).endpoint.call(d(this,Wn),"YTMUSIC")).contents_memo.get("MusicPlaylistShelf"))==null?void 0:s[0])||[]}get page(){return d(this,ut)}};n(ka,"Artist"),ut=new WeakMap,Wn=new WeakMap;Hx.exports=ka});var Qx=g((D1,Kx)=>{"use strict";var O0=R(),Ae,Pa,Aa=class{constructor(e,t){T(this,Ae,void 0);T(this,Pa,void 0);var s;C(this,Ae,O0.parseResponse(e.data)),C(this,Pa,t),this.header=d(this,Ae).header,this.url=d(this,Ae).microformat.url_canonical,this.contents=(s=d(this,Ae).contents_memo.get("MusicShelf"))==null?void 0:s[0].contents,this.sections=d(this,Ae).contents_memo.get("MusicCarouselShelf")||[]}get page(){return d(this,Ae)}};n(Aa,"Album"),Ae=new WeakMap,Pa=new WeakMap;Kx.exports=Aa});var Xx=g((B1,Jx)=>{"use strict";var Bu=R(),U0=Mx(),D0=Fx(),B0=$x(),M0=Wx(),V0=zx(),F0=Qx(),{InnertubeError:$t,throwIfMissing:Gt,observe:Y0}=B(),Oa,K,Na=class{constructor(e){T(this,Oa,void 0);T(this,K,void 0);C(this,Oa,e),C(this,K,e.actions)}async search(e,t){Gt({query:e});let s=await d(this,K).search({query:e,filters:t,client:"YTMUSIC"});return new U0(s,d(this,K),{is_filtered:(t==null?void 0:t.hasOwnProperty("type"))&&t.type!=="all"})}async getHomeFeed(){let e=await d(this,K).browse("FEmusic_home",{client:"YTMUSIC"});return new D0(e,d(this,K))}async getExplore(){let e=await d(this,K).browse("FEmusic_explore",{client:"YTMUSIC"});return new B0(e,d(this,K))}async getLibrary(){let e=await d(this,K).browse("FEmusic_liked_albums",{client:"YTMUSIC"});return new M0(e,d(this,K))}async getArtist(e){if(Gt({artist_id:e}),!e.startsWith("UC"))throw new $t("Invalid artist id",e);let t=await d(this,K).browse(e,{client:"YTMUSIC"});return new V0(t,d(this,K))}async getAlbum(e){if(Gt({album_id:e}),!e.startsWith("MPR"))throw new $t("Invalid album id",e);let t=await d(this,K).browse(e,{client:"YTMUSIC"});return new F0(t,d(this,K))}async getLyrics(e){Gt({video_id:e});let t=await d(this,K).next({video_id:e,client:"YTMUSIC"}),i=await Bu.parseResponse(t.data).contents.tabs.get({title:"Lyrics"}).endpoint.call(d(this,K),"YTMUSIC");if(!i)throw new $t("Invalid video id");if(i.contents.constructor.name==="Message")throw new $t(i.contents.text,e);let r=i.contents.contents.get({type:"MusicDescriptionShelf"});return{text:r.description.toString(),footer:r.footer}}async getUpNext(e){Gt({video_id:e});let t=await d(this,K).next({video_id:e,client:"YTMUSIC"}),i=Bu.parseResponse(t.data).contents.tabs.get({title:"Up next"}).content.content;if(!i)throw new $t("Invalid id",e);return{id:i.playlist_id,title:i.title,is_editable:i.is_editable,contents:Y0(i.contents)}}async getRelated(e){Gt({video_id:e});let t=await d(this,K).next({video_id:e,client:"YTMUSIC"}),i=await Bu.parseResponse(t.data).contents.tabs.get({title:"Related"}).endpoint.call(d(this,K),"YTMUSIC");if(!i)throw new $t("Invalid video id");let r=i.contents.contents.findAll({type:"MusicCarouselShelf"}),o=i.contents.contents.get({type:"MusicDescriptionShelf"});return{sections:r,info:(o==null?void 0:o.description.toString())||""}}async getSearchSuggestions(e){var i;let t={parse:!0,input:e,client:"YTMUSIC"},a=(i=(await d(this,K).execute("/music/get_search_suggestions",t)).contents_memo.get("SearchSuggestionsSection"))==null?void 0:i[0];return(a==null?void 0:a.contents)||[]}};n(Na,"Music"),Oa=new WeakMap,K=new WeakMap;Jx.exports=Na});var jx=g((M1,fx)=>{"use strict";var{InnertubeError:Ua}=B(),Zx=rt(),ht,Da=class extends Zx{constructor(t,s,a=!1){super(t,s,a);T(this,ht,void 0)}get filter_chips(){var t,s;if(d(this,ht))return d(this,ht)||[];if(((t=this.memo.get("FeedFilterChipBar"))==null?void 0:t.length)>1)throw new Ua("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((s=this.memo.get("FeedFilterChipBar"))==null?void 0:s.length)===0)throw new Ua("There are no feed filter chipbars");return C(this,ht,this.memo.get("ChipCloudChip")||[]),d(this,ht)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){let s;if(typeof t=="string"){if(!this.filters.includes(t))throw new Ua("Filter not found",{available_filters:this.filters});s=this.filter_chips.find(i=>i.text.toString()===t)}else if(t.type==="ChipCloudChip")s=t;else throw new Ua("Invalid filter");if(s.is_selected)return this;let a=await s.endpoint.call(this.actions);return new Zx(this.actions,a,!0)}};n(Da,"FilterableFeed"),ht=new WeakMap;fx.exports=Da});var iT=g((V1,sT)=>{"use strict";var $0=require("../node_modules/axios/index.js"),Hn=X(),Wt=B(),Ge,le,Ma,eT,Va,tT,Fa,nT,Ba=class{constructor(e){T(this,Ma);T(this,Va);T(this,Fa);T(this,Ge,void 0);T(this,le,void 0);this.config=e,C(this,Ge,$0.create({proxy:e.proxy,httpAgent:e.http_agent,httpsAgent:e.https_agent,params:{prettyPrint:!1},headers:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json","user-agent":Wt.getRandomUserAgent("desktop").userAgent},validateStatus:()=>!0,timeout:15e3})),A(this,Ma,eT).call(this),A(this,Va,tT).call(this)}setSession(e){C(this,le,e)}get instance(){return d(this,Ge)}};n(Ba,"Request"),Ge=new WeakMap,le=new WeakMap,Ma=new WeakSet,eT=n(function(){d(this,Ge).interceptors.request.use(async e=>{if(d(this,le)){let t=`${Hn.URLS.API.PRODUCTION}${d(this,le).version}`;e.baseURL=e.baseURL||t,e.headers["accept-language"]=`en-${d(this,le).config.gl||"US"}`,e.headers["x-goog-visitor-id"]=d(this,le).context.client.visitorData||"",e.headers["x-youtube-client-version"]=d(this,le).context.client.clientVersion,e.headers["x-origin"]=new URL(e.baseURL).origin,e.headers.origin=new URL(e.baseURL).origin,e.params.key=d(this,le).key;let s=e.baseURL==t;if(s&&typeof e.data=="object"&&(e.data={context:JSON.parse(JSON.stringify(d(this,le).context)),...e.data},A(this,Fa,nT).call(this,e.data.context,e.data.client),e.headers["x-youtube-client-version"]=e.data.context.client.clientVersion,delete e.data.client),d(this,le).logged_in&&s){let a=d(this,le).oauth;if(a.validateCredentials()&&(await a.checkAccessTokenValidity(),e.headers.authorization=`Bearer ${a.credentials.access_token}`,delete e.params.key),this.config.cookie){let i=Wt.getStringBetweenStrings(this.config.cookie,"PAPISID=",";");e.headers.authorization=Wt.generateSidAuth(i),e.headers.cookie=this.config.cookie}}}if(this.config.debug){let t=`${e.baseURL?`${e.baseURL}`:""}${e.url}`;console.info(`
`,`[${e.method.toUpperCase()}] > ${t}`,`
`,(e==null?void 0:e.data)||"N/A",`
`)}return e},e=>{throw new Wt.InnertubeError(e.message,e)})},"#setupRequestInterceptor"),Va=new WeakSet,tT=n(function(){d(this,Ge).interceptors.response.use(e=>{let t={success:e.status===200,status_code:e.status,data:e.data};if(e.status!==200)throw new Wt.InnertubeError(`Request to ${e.config.url} failed with status code ${e.status}`,t);return t}),d(this,Ge).interceptors.response.use(void 0,e=>{if(e.info)return Promise.reject(e);throw new Wt.InnertubeError("Could not complete this operation",e.message)})},"#setupResponseInterceptor"),Fa=new WeakSet,nT=n(function(e,t){switch(t){case"YTMUSIC":e.client.clientVersion=Hn.CLIENTS.YTMUSIC.VERSION,e.client.clientName=Hn.CLIENTS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=Hn.CLIENTS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Hn.CLIENTS.ANDROID.NAME;break;default:break}},"#adjustContext");sT.exports=Ba});var oT=g((F1,rT)=>{"use strict";var G0=B(),W0=X(),Ya=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var s,a,i,r,o,h,l,u,p,y,b,w,_,v,I,L,q,S,P,D,U,F;let t=e.videoRenderer||e.compactVideoRenderer;if(t)return{id:t.videoId,url:`https://youtu.be/${t.videoId}`,title:t.title.runs[0].text,description:t!=null&&t.detailedMetadataSnippets?t==null?void 0:t.detailedMetadataSnippets[0].snippetText.runs.map(J=>J.text).join(""):"N/A",channel:{id:(r=(i=(a=(s=t==null?void 0:t.ownerText)==null?void 0:s.runs[0])==null?void 0:a.navigationEndpoint)==null?void 0:i.browseEndpoint)==null?void 0:r.browseId,name:(h=(o=t==null?void 0:t.ownerText)==null?void 0:o.runs[0])==null?void 0:h.text,url:`${W0.URLS.YT_BASE}${(p=(u=(l=t==null?void 0:t.ownerText)==null?void 0:l.runs[0].navigationEndpoint)==null?void 0:u.browseEndpoint)==null?void 0:p.canonicalBaseUrl}`},metadata:{view_count:((y=t==null?void 0:t.viewCountText)==null?void 0:y.simpleText)||"N/A",short_view_count_text:{simple_text:((b=t==null?void 0:t.shortViewCountText)==null?void 0:b.simpleText)||"N/A",accessibility_label:((v=(_=(w=t==null?void 0:t.shortViewCountText)==null?void 0:w.accessibility)==null?void 0:_.accessibilityData)==null?void 0:v.label)||"N/A"},thumbnails:t==null?void 0:t.thumbnail.thumbnails,duration:{seconds:G0.timeToSeconds(((I=t==null?void 0:t.lengthText)==null?void 0:I.simpleText)||"0"),simple_text:((L=t==null?void 0:t.lengthText)==null?void 0:L.simpleText)||"N/A",accessibility_label:((P=(S=(q=t==null?void 0:t.lengthText)==null?void 0:q.accessibility)==null?void 0:S.accessibilityData)==null?void 0:P.label)||"N/A"},published:((D=t==null?void 0:t.publishedTimeText)==null?void 0:D.simpleText)||"N/A",badges:((U=t==null?void 0:t.badges)==null?void 0:U.map(J=>J.metadataBadgeRenderer.label))||[],owner_badges:((F=t==null?void 0:t.ownerBadges)==null?void 0:F.map(J=>J.metadataBadgeRenderer.tooltip))||[]}}}};n(Ya,"VideoResultItem");rT.exports=Ya});var aT=g((Y1,cT)=>{"use strict";var $a=class{static parse(e){return{query:e[0],results:e[1].map(t=>t[0])}}};n($a,"SearchSuggestionItem");cT.exports=$a});var uT=g(($1,lT)=>{"use strict";var H0=B(),Ga=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var t,s,a,i,r,o,h,l,u,p,y,b,w,_,v,I,L;if(e.playlistVideoRenderer)return{id:(t=e==null?void 0:e.playlistVideoRenderer)==null?void 0:t.videoId,title:(i=(a=(s=e==null?void 0:e.playlistVideoRenderer)==null?void 0:s.title)==null?void 0:a.runs[0])==null?void 0:i.text,author:(h=(o=(r=e==null?void 0:e.playlistVideoRenderer)==null?void 0:r.shortBylineText)==null?void 0:o.runs[0])==null?void 0:h.text,duration:{seconds:H0.timeToSeconds(((u=(l=e==null?void 0:e.playlistVideoRenderer)==null?void 0:l.lengthText)==null?void 0:u.simpleText)||"0"),simple_text:((y=(p=e==null?void 0:e.playlistVideoRenderer)==null?void 0:p.lengthText)==null?void 0:y.simpleText)||"N/A",accessibility_label:((v=(_=(w=(b=e==null?void 0:e.playlistVideoRenderer)==null?void 0:b.lengthText)==null?void 0:w.accessibility)==null?void 0:_.accessibilityData)==null?void 0:v.label)||"N/A"},thumbnails:(L=(I=e==null?void 0:e.playlistVideoRenderer)==null?void 0:I.thumbnail)==null?void 0:L.thumbnails}}};n(Ga,"PlaylistItem");lT.exports=Ga});var dT=g((G1,hT)=>{"use strict";var Wa=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var t,s,a,i,r,o,h,l,u,p;if(e.notificationRenderer){let y=e.notificationRenderer;return{title:(t=y==null?void 0:y.shortMessage)==null?void 0:t.simpleText,sent_time:(s=y==null?void 0:y.sentTimeText)==null?void 0:s.simpleText,timestamp:y.notificationId,channel_name:((l=(h=(o=(r=(i=(a=y==null?void 0:y.contextualMenu)==null?void 0:a.menuRenderer)==null?void 0:i.items[1])==null?void 0:r.menuServiceItemRenderer)==null?void 0:o.text)==null?void 0:h.runs[1])==null?void 0:l.text)||"N/A",channel_thumbnail:(u=y==null?void 0:y.thumbnail)==null?void 0:u.thumbnails[0],video_thumbnail:(p=y==null?void 0:y.videoThumbnail)==null?void 0:p.thumbnails[0],video_url:y.navigationEndpoint.watchEndpoint?`https://youtu.be/${y.navigationEndpoint.watchEndpoint.videoId}`:"N/A",read:y.read}}}};n(Wa,"NotificationItem");hT.exports=Wa});var Mu=g((W1,pT)=>{"use strict";var z0=B(),K0=X(),Ha=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var t,s,a,i,r,o,h,l,u,p,y,b,w,_,v,I,L,q,S,P,D,U,F,J,W,Ne,He,zt,Kt,Qt,Jt,Xt,Zt,ft,jt,en,Oe,zu,Ku,Qu,Ju,Xu,Zu,fu;if(e=e.richItemRenderer&&e.richItemRenderer.content.videoRenderer&&e.richItemRenderer.content||e,e.videoRenderer)return{id:e.videoRenderer.videoId,title:e.videoRenderer.title.runs.map(tn=>tn.text).join(" "),description:((a=(s=(t=e==null?void 0:e.videoRenderer)==null?void 0:t.descriptionSnippet)==null?void 0:s.runs[0])==null?void 0:a.text)||"N/A",channel:{id:(l=(h=(o=(r=(i=e==null?void 0:e.videoRenderer)==null?void 0:i.shortBylineText)==null?void 0:r.runs[0])==null?void 0:o.navigationEndpoint)==null?void 0:h.browseEndpoint)==null?void 0:l.browseId,name:((y=(p=(u=e==null?void 0:e.videoRenderer)==null?void 0:u.shortBylineText)==null?void 0:p.runs[0])==null?void 0:y.text)||"N/A",url:`${K0.URLS.YT_BASE}${(I=(v=(_=(w=(b=e==null?void 0:e.videoRenderer)==null?void 0:b.shortBylineText)==null?void 0:w.runs[0])==null?void 0:_.navigationEndpoint)==null?void 0:v.browseEndpoint)==null?void 0:I.canonicalBaseUrl}`},metadata:{view_count:((q=(L=e==null?void 0:e.videoRenderer)==null?void 0:L.viewCountText)==null?void 0:q.simpleText)||"N/A",short_view_count_text:{simple_text:((P=(S=e==null?void 0:e.videoRenderer)==null?void 0:S.shortViewCountText)==null?void 0:P.simpleText)||"N/A",accessibility_label:((J=(F=(U=(D=e==null?void 0:e.videoRenderer)==null?void 0:D.shortViewCountText)==null?void 0:U.accessibility)==null?void 0:F.accessibilityData)==null?void 0:J.label)||"N/A"},thumbnail:((Ne=(W=e==null?void 0:e.videoRenderer)==null?void 0:W.thumbnail)==null?void 0:Ne.thumbnails.slice(-1)[0])||{},moving_thumbnail:((Qt=(Kt=(zt=(He=e==null?void 0:e.videoRenderer)==null?void 0:He.richThumbnail)==null?void 0:zt.movingThumbnailRenderer)==null?void 0:Kt.movingThumbnailDetails)==null?void 0:Qt.thumbnails[0])||{},published:((Xt=(Jt=e==null?void 0:e.videoRenderer)==null?void 0:Jt.publishedTimeText)==null?void 0:Xt.simpleText)||"N/A",duration:{seconds:z0.timeToSeconds(((ft=(Zt=e==null?void 0:e.videoRenderer)==null?void 0:Zt.lengthText)==null?void 0:ft.simpleText)||"0"),simple_text:((en=(jt=e==null?void 0:e.videoRenderer)==null?void 0:jt.lengthText)==null?void 0:en.simpleText)||"N/A",accessibility_label:((Qu=(Ku=(zu=(Oe=e==null?void 0:e.videoRenderer)==null?void 0:Oe.lengthText)==null?void 0:zu.accessibility)==null?void 0:Ku.accessibilityData)==null?void 0:Qu.label)||"N/A"},badges:((Xu=(Ju=e==null?void 0:e.videoRenderer)==null?void 0:Ju.badges)==null?void 0:Xu.map(tn=>tn.metadataBadgeRenderer.label))||[],owner_badges:((fu=(Zu=e==null?void 0:e.videoRenderer)==null?void 0:Zu.ownerBadges)==null?void 0:fu.map(tn=>tn.metadataBadgeRenderer.tooltip))||[]}}}};n(Ha,"VideoItem");pT.exports=Ha});var Vu=g((H1,mT)=>{"use strict";var Q0=X(),za=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var t,s,a,i,r,o,h,l,u,p,y,b,w,_,v,I,L,q,S,P,D,U,F,J,W,Ne,He,zt,Kt,Qt,Jt,Xt,Zt,ft,jt,en;return{id:e.gridVideoRenderer.videoId,title:(a=(s=(t=e==null?void 0:e.gridVideoRenderer)==null?void 0:t.title)==null?void 0:s.runs)==null?void 0:a.map(Oe=>Oe.text).join(" "),channel:{id:(l=(h=(o=(r=(i=e==null?void 0:e.gridVideoRenderer)==null?void 0:i.shortBylineText)==null?void 0:r.runs[0])==null?void 0:o.navigationEndpoint)==null?void 0:h.browseEndpoint)==null?void 0:l.browseId,name:((y=(p=(u=e==null?void 0:e.gridVideoRenderer)==null?void 0:u.shortBylineText)==null?void 0:p.runs[0])==null?void 0:y.text)||"N/A",url:`${Q0.URLS.YT_BASE}${(I=(v=(_=(w=(b=e==null?void 0:e.gridVideoRenderer)==null?void 0:b.shortBylineText)==null?void 0:w.runs[0])==null?void 0:_.navigationEndpoint)==null?void 0:v.browseEndpoint)==null?void 0:I.canonicalBaseUrl}`},metadata:{view_count:((q=(L=e==null?void 0:e.gridVideoRenderer)==null?void 0:L.viewCountText)==null?void 0:q.simpleText)||"N/A",short_view_count_text:{simple_text:((P=(S=e==null?void 0:e.gridVideoRenderer)==null?void 0:S.shortViewCountText)==null?void 0:P.simpleText)||"N/A",accessibility_label:((J=(F=(U=(D=e==null?void 0:e.gridVideoRenderer)==null?void 0:D.shortViewCountText)==null?void 0:U.accessibility)==null?void 0:F.accessibilityData)==null?void 0:J.label)||"N/A"},thumbnail:((Ne=(W=e==null?void 0:e.gridVideoRenderer)==null?void 0:W.thumbnail)==null?void 0:Ne.thumbnails.slice(-1)[0])||[],moving_thumbnail:((Qt=(Kt=(zt=(He=e==null?void 0:e.gridVideoRenderer)==null?void 0:He.richThumbnail)==null?void 0:zt.movingThumbnailRenderer)==null?void 0:Kt.movingThumbnailDetails)==null?void 0:Qt.thumbnails[0])||{},published:((Xt=(Jt=e==null?void 0:e.gridVideoRenderer)==null?void 0:Jt.publishedTimeText)==null?void 0:Xt.simpleText)||"N/A",badges:((ft=(Zt=e==null?void 0:e.gridVideoRenderer)==null?void 0:Zt.badges)==null?void 0:ft.map(Oe=>Oe.metadataBadgeRenderer.label))||[],owner_badges:((en=(jt=e==null?void 0:e.gridVideoRenderer)==null?void 0:jt.ownerBadges)==null?void 0:en.map(Oe=>Oe.metadataBadgeRenderer.tooltip))||[]}}}};n(za,"GridVideoItem");mT.exports=za});var _T=g((z1,gT)=>{"use strict";var Ka=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var t,s,a,i,r;return{id:e==null?void 0:e.gridPlaylistRenderer.playlistId,title:(s=(t=e==null?void 0:e.gridPlaylistRenderer.title)==null?void 0:t.runs)==null?void 0:s.map(o=>o.text).join(""),metadata:{thumbnail:((i=(a=e==null?void 0:e.gridPlaylistRenderer.thumbnail)==null?void 0:a.thumbnails)==null?void 0:i.slice(-1)[0])||{},video_count:((r=e==null?void 0:e.gridPlaylistRenderer.videoCountShortText)==null?void 0:r.simpleText)||"N/A"}}}};n(Ka,"GridPlaylistItem");gT.exports=Ka});var wT=g((K1,yT)=>{"use strict";var Qa=class{static parse(e){var t,s,a,i,r,o;return{title:e.channelMetadataRenderer.title,description:e.channelMetadataRenderer.description,metadata:{url:(t=e.channelMetadataRenderer)==null?void 0:t.channelUrl,rss_urls:(s=e.channelMetadataRenderer)==null?void 0:s.rssUrl,vanity_channel_url:(a=e.channelMetadataRenderer)==null?void 0:a.vanityChannelUrl,external_id:(i=e.channelMetadataRenderer)==null?void 0:i.externalId,is_family_safe:(r=e.channelMetadataRenderer)==null?void 0:r.isFamilySafe,keywords:(o=e.channelMetadataRenderer)==null?void 0:o.keywords}}}};n(Qa,"ChannelMetadata");yT.exports=Qa});var bT=g((Q1,vT)=>{"use strict";var J0=Mu(),X0=Vu(),Ja=class{static parse(e){return{title:this.getTitle(e.title),videos:this.parseItems(e.content)}}static getTitle(e){return"runs"in(e||{})?e.runs.map(t=>t.text).join(""):"simpleText"in(e||{})?e.simpleText:"Others"}static parseItems(e){let t;return"expandedShelfContentsRenderer"in e?t=e.expandedShelfContentsRenderer.items:"horizontalListRenderer"in e&&(t=e.horizontalListRenderer.items),"gridVideoRenderer"in t[0]&&X0.parse(t)||J0.parse(t)}};n(Ja,"ShelfRenderer");vT.exports=Ja});var TT=g((J1,xT)=>{"use strict";var Z0=X(),Xa=class{static parseItem(e){var t,s,a,i,r,o,h;if(e.commentThreadRenderer||e.commentRenderer){let l=((t=e==null?void 0:e.commentThreadRenderer)==null?void 0:t.comment)||e,u=(a=(s=l.commentRenderer)==null?void 0:s.actionButtons)==null?void 0:a.commentActionButtonsRenderer.likeButton,p=(r=(i=l.commentRenderer)==null?void 0:i.actionButtons)==null?void 0:r.commentActionButtonsRenderer.dislikeButton;return{text:l.commentRenderer.contentText.runs.map(y=>y.text).join(""),author:{name:l.commentRenderer.authorText.simpleText,thumbnails:l.commentRenderer.authorThumbnail.thumbnails,channel_id:l.commentRenderer.authorEndpoint.browseEndpoint.browseId,channel_url:Z0.URLS.YT_BASE+l.commentRenderer.authorEndpoint.browseEndpoint.canonicalBaseUrl},metadata:{published:l.commentRenderer.publishedTimeText.runs[0].text,is_reply:!!e.commentRenderer,is_liked:u.toggleButtonRenderer.isToggled,is_disliked:p.toggleButtonRenderer.isToggled,is_pinned:!!l.commentRenderer.pinnedCommentBadge,is_channel_owner:l.commentRenderer.authorIsChannelOwner,like_count:parseInt((h=(o=u==null?void 0:u.toggleButtonRenderer)==null?void 0:o.accessibilityData)==null?void 0:h.accessibilityData.label.replace(/\D/g,"")),reply_count:l.commentRenderer.replyCount||0,id:l.commentRenderer.commentId}}}}};n(Xa,"CommentThread");xT.exports=Xa});var qT=g((X1,ET)=>{"use strict";var f0=oT(),j0=aT(),eL=uT(),tL=dT(),nL=Mu(),sL=Vu(),iL=_T(),rL=wT(),oL=bT(),cL=TT();ET.exports={VideoResultItem:f0,SearchSuggestionItem:j0,PlaylistItem:eL,NotificationItem:tL,VideoItem:nL,GridVideoItem:sL,GridPlaylistItem:iL,ChannelMetadata:rL,ShelfRenderer:oL,CommentThread:cL}});var Fu=g((Z1,RT)=>{"use strict";var Za=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var s,a,i,r,o;let t=e.musicResponsiveListItemRenderer;if(t.playlistItemData){let h=(s=t.flexColumns[1])==null?void 0:s.musicResponsiveListItemFlexColumnRenderer.text.runs;h.splice(0,2);let l=h.splice(h.length-4,4);return h=h.filter((u,p)=>!(p%2)),{id:t.playlistItemData.videoId,title:(i=(a=t.flexColumns[0])==null?void 0:a.musicResponsiveListItemFlexColumnRenderer.text.runs[0])==null?void 0:i.text,artist:h.map(u=>u.text),album:(r=l[1])==null?void 0:r.text,duration:(o=l[3])==null?void 0:o.text,thumbnails:t.thumbnail.musicThumbnailRenderer.thumbnail.thumbnails}}}};n(Za,"SongResultItem");RT.exports=Za});var Yu=g((f1,IT)=>{"use strict";var fa=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t)}static parseItem(e){var s,a,i,r,o;let t=e.musicResponsiveListItemRenderer;if(t.playlistItemData){let h=(s=t.flexColumns[1])==null?void 0:s.musicResponsiveListItemFlexColumnRenderer.text.runs;h.splice(0,2);let l=h.splice(h.length-4,4);return h=h.filter((u,p)=>!(p%2)),{id:t.playlistItemData.videoId,title:(i=(a=t.flexColumns[0])==null?void 0:a.musicResponsiveListItemFlexColumnRenderer.text.runs[0])==null?void 0:i.text,author:h.map(u=>u.text),views:(r=l[1])==null?void 0:r.text,duration:(o=l[3])==null?void 0:o.text,thumbnails:t==null?void 0:t.thumbnail.musicThumbnailRenderer.thumbnail.thumbnails}}}};n(fa,"VideoResultItem");IT.exports=fa});var $u=g((j1,ST)=>{"use strict";var ja=class{static parse(e){return e.map(t=>this.parseItem(t))}static parseItem(e){var s,a,i,r,o;let t=e.musicResponsiveListItemRenderer;return{id:t.navigationEndpoint.browseEndpoint.browseId,title:(a=(s=t.flexColumns[0])==null?void 0:s.musicResponsiveListItemFlexColumnRenderer.text.runs[0])==null?void 0:a.text,author:(r=(i=t.flexColumns[1])==null?void 0:i.musicResponsiveListItemFlexColumnRenderer.text.runs[2])==null?void 0:r.text,year:(o=t.flexColumns[1])==null?void 0:o.musicResponsiveListItemFlexColumnRenderer.text.runs.find(h=>/^[12][0-9]{3}$/.test(h.text)).text,thumbnails:t==null?void 0:t.thumbnail.musicThumbnailRenderer.thumbnail.thumbnails,playlistId:t==null?void 0:t.overlay.musicItemThumbnailOverlayRenderer.content.musicPlayButtonRenderer.playNavigationEndpoint.watchPlaylistEndpoint.playlistId}}};n(ja,"AlbumResultItem");ST.exports=ja});var Gu=g((eO,CT)=>{"use strict";var el=class{static parse(e){return e.map(t=>this.parseItem(t))}static parseItem(e){var s,a,i,r;let t=e.musicResponsiveListItemRenderer;return{id:t.navigationEndpoint.browseEndpoint.browseId,name:(a=(s=t.flexColumns[0])==null?void 0:s.musicResponsiveListItemFlexColumnRenderer.text.runs[0])==null?void 0:a.text,subscribers:(r=(i=t.flexColumns[1])==null?void 0:i.musicResponsiveListItemFlexColumnRenderer.text.runs[2])==null?void 0:r.text,thumbnails:t==null?void 0:t.thumbnail.musicThumbnailRenderer.thumbnail.thumbnails}}};n(el,"ArtistResultItem");CT.exports=el});var Wu=g((tO,LT)=>{"use strict";var tl=class{static parse(e){return e.map(t=>this.parseItem(t))}static parseItem(e){var a,i,r,o,h,l,u,p,y,b,w,_,v,I;let t=e.musicResponsiveListItemRenderer,s=(h=(o=(r=(i=(a=t==null?void 0:t.overlay)==null?void 0:a.musicItemThumbnailOverlayRenderer)==null?void 0:i.content)==null?void 0:r.musicPlayButtonRenderer)==null?void 0:o.playNavigationEndpoint)==null?void 0:h.watchPlaylistEndpoint;return{id:s==null?void 0:s.playlistId,title:(u=(l=t.flexColumns[0])==null?void 0:l.musicResponsiveListItemFlexColumnRenderer.text.runs[0])==null?void 0:u.text,author:(y=(p=t.flexColumns[1])==null?void 0:p.musicResponsiveListItemFlexColumnRenderer.text.runs[2])==null?void 0:y.text,channel_id:((_=(w=(b=t.flexColumns[1])==null?void 0:b.musicResponsiveListItemFlexColumnRenderer.text.runs[2])==null?void 0:w.navigationEndpoint)==null?void 0:_.browseEndpoint.browseId)||"0",total_items:parseInt((I=(v=t.flexColumns[1])==null?void 0:v.musicResponsiveListItemFlexColumnRenderer.text.runs[4])==null?void 0:I.text.match(/\d+/g))}}};n(tl,"PlaylistResultItem");LT.exports=tl});var AT=g((nO,kT)=>{"use strict";var nl=class{static parse(e){return{query:this.parseItem(e[0]).runs[0].text.trim(),results:e.map(t=>this.parseItem(t).runs.map(s=>s.text).join("").trim())}}static parseItem(e){let t;return e.historySuggestionRenderer?t=e.historySuggestionRenderer.suggestion:t=e.searchSuggestionRenderer.suggestion,t}};n(nl,"MusicSearchSuggestionItem");kT.exports=nl});var OT=g((sO,NT)=>{"use strict";var aL=Fu(),lL=Yu(),PT=$u(),uL=Gu(),hL=Wu(),sl=class{static parse(e){return e.map(t=>{var o;let i=((o=t.musicResponsiveListItemRenderer.flexColumns[1])==null?void 0:o.musicResponsiveListItemFlexColumnRenderer.text.runs)[0].text.toLowerCase(),r=(()=>{switch(i){case"playlist":return hL.parseItem(t);case"song":return aL.parseItem(t);case"video":return lL.parseItem(t);case"artist":return uL.parseItem(t);case"album":return PT.parseItem(t);case"single":return PT.parseItem(t);default:return}})();return r&&(r.type=i),r}).filter(t=>t)}};n(sl,"TopResultItem");NT.exports=sl});var DT=g((iO,UT)=>{"use strict";var dL=B(),il=class{static parse(e){return e.map(t=>this.parseItem(t)).filter(t=>t.id)}static parseItem(e){let t=e.musicResponsiveListItemRenderer,s=t.fixedColumns,a=t.flexColumns;return{id:t.playlistItemData&&t.playlistItemData.videoId,title:a[0].musicResponsiveListItemFlexColumnRenderer.text.runs[0].text,author:a[1].musicResponsiveListItemFlexColumnRenderer.text.runs[0].text,duration:{seconds:dL.timeToSeconds(s[0].musicResponsiveListItemFixedColumnRenderer.text.runs[0].text||"0"),simple_text:s[0].musicResponsiveListItemFixedColumnRenderer.text.runs[0].text},thumbnails:t.thumbnail.musicThumbnailRenderer.thumbnail.thumbnails}}};n(il,"PlaylistItem");UT.exports=il});var MT=g((rO,BT)=>{"use strict";var pL=Fu(),mL=Yu(),gL=$u(),_L=Gu(),yL=Wu(),wL=AT(),vL=OT(),bL=DT();BT.exports={SongResultItem:pL,VideoResultItem:mL,AlbumResultItem:gL,ArtistResultItem:_L,PlaylistResultItem:yL,MusicSearchSuggestionItem:wL,TopResultItem:vL,PlaylistItem:bL}});var tE=g((oO,eE)=>{"use strict";var G=B(),Hu=X(),ue=qT(),Pe=MT(),xL=ze(),ol,VT,cl,FT,al,YT,ll,$T,ul,GT,hl,WT,dl,HT,pl,zT,ml,KT,gl,QT,_l,JT,yl,XT,wl,ZT,vl,fT,bl,jT,rl=class{constructor(e,t,s={}){T(this,ol);T(this,cl);T(this,al);T(this,ll);T(this,ul);T(this,hl);T(this,dl);T(this,pl);T(this,ml);T(this,gl);T(this,_l);T(this,yl);T(this,wl);T(this,vl);T(this,bl);this.data=t,this.session=e,this.args=s}parse(){let e=this.args.client,t=this.args.data_type,s;switch(e){case"YOUTUBE":s=(()=>{switch(t){case"SEARCH":return A(this,ol,VT).call(this);case"CHANNEL":return A(this,yl,XT).call(this);case"PLAYLIST":return A(this,ul,GT).call(this);case"SUBSFEED":return A(this,_l,JT).call(this);case"HOMEFEED":return A(this,ml,KT).call(this);case"LIBRARY":return A(this,gl,QT).call(this);case"TRENDING":return A(this,vl,fT).call(this);case"HISTORY":return A(this,bl,jT).call(this);case"COMMENTS":return A(this,pl,zT).call(this);case"VIDEO_INFO":return A(this,dl,HT).call(this);case"NOTIFICATIONS":return A(this,wl,ZT).call(this);case"SEARCH_SUGGESTIONS":return A(this,al,YT).call(this);default:throw new TypeError("undefined is not a function")}})();break;case"YTMUSIC":s=(()=>{switch(t){case"SEARCH":return A(this,cl,FT).call(this);case"PLAYLIST":return A(this,hl,WT).call(this);case"SEARCH_SUGGESTIONS":return A(this,ll,$T).call(this);default:throw new TypeError("undefined is not a function")}})();break;default:throw new G.InnertubeError("Invalid client")}return s}};n(rl,"Parser"),ol=new WeakSet,VT=n(function(){let e=G.findNode(this.data,"contents","contents",5),t={},s=n(a=>{var r,o,h,l,u,p,y;let i=a[0].itemSectionRenderer.contents;return t.query=((h=(o=(r=i[0])==null?void 0:r.showingResultsForRenderer)==null?void 0:o.originalQuery)==null?void 0:h.simpleText)||this.args.query,t.corrected_query=((y=(p=(u=(l=i[0])==null?void 0:l.showingResultsForRenderer)==null?void 0:u.correctedQueryEndpoint)==null?void 0:p.searchEndpoint)==null?void 0:y.query)||"N/A",t.estimated_results=parseInt(this.data.estimatedResults),t.videos=ue.VideoResultItem.parse(i),t.getContinuation=async()=>{let w=a.find(I=>I.continuationItemRenderer).continuationItemRenderer.continuationEndpoint.continuationCommand.token,_=await this.session.actions.search({ctoken:w}),v=G.findNode(_.data,"onResponseReceivedCommands","itemSectionRenderer",4,!1);return s(v)},t},"parseItems");return s(e)},"#processSearch"),cl=new WeakSet,FT=n(function(){let e=G.findNode(this.data,"contents","tabs").tabs,t=G.findNode(e,"0","contents",5),s=t.find(r=>r.itemSectionRenderer),a=s==null?void 0:s.itemSectionRenderer.contents[0].didYouMeanRenderer,i={query:"",corrected_query:"",results:{}};return i.query=this.args.query,i.corrected_query=(a==null?void 0:a.correctedQuery.runs.map(r=>r.text).join(""))||"N/A",t.forEach(r=>{let o=r==null?void 0:r.musicShelfRenderer;if(o){let h=o.title.runs[0].text,l=({["Top result"]:()=>Pe.TopResultItem.parse(o.contents),Songs:()=>Pe.SongResultItem.parse(o.contents),Videos:()=>Pe.VideoResultItem.parse(o.contents),["Featured playlists"]:()=>Pe.PlaylistResultItem.parse(o.contents),["Community playlists"]:()=>Pe.PlaylistResultItem.parse(o.contents),Artists:()=>Pe.ArtistResultItem.parse(o.contents),Albums:()=>Pe.AlbumResultItem.parse(o.contents)}[h]||(()=>{}))();i.results[h.replace(/ /g,"_").toLowerCase()]=l}}),i},"#processMusicSearch"),al=new WeakSet,YT=n(function(){return ue.SearchSuggestionItem.parse(JSON.parse(this.data.replace(")]}'","")))},"#processSearchSuggestions"),ll=new WeakSet,$T=n(function(){let e=this.data.contents[0].searchSuggestionsSectionRenderer.contents;return Pe.MusicSearchSuggestionItem.parse(e)},"#processMusicSearchSuggestions"),ul=new WeakSet,GT=n(function(){var i,r,o,h;let e=this.data.sidebar.playlistSidebarRenderer.items[0],t={title:this.data.metadata.playlistMetadataRenderer.title,description:((r=(i=e.playlistSidebarPrimaryInfoRenderer)==null?void 0:i.description)==null?void 0:r.simpleText)||"N/A",total_items:((o=e.playlistSidebarPrimaryInfoRenderer.stats[0].runs[0])==null?void 0:o.text)||"N/A",last_updated:((h=e.playlistSidebarPrimaryInfoRenderer.stats[2].runs[1])==null?void 0:h.text)||"N/A",views:e.playlistSidebarPrimaryInfoRenderer.stats[1].simpleText},s=G.findNode(this.data,"contents","contents",13,!1),a=ue.PlaylistItem.parse(s.contents);return{...t,items:a}},"#processPlaylist"),hl=new WeakSet,WT=n(function(){var r,o,h,l,u,p;let e=this.data.header.musicDetailHeaderRenderer,t={title:(r=e==null?void 0:e.title)==null?void 0:r.runs[0].text,description:((h=(o=e==null?void 0:e.description)==null?void 0:o.runs)==null?void 0:h.map(y=>y.text).join(""))||"N/A",total_items:parseInt((l=e==null?void 0:e.secondSubtitle)==null?void 0:l.runs[0].text.match(/\d+/g)),duration:(u=e==null?void 0:e.secondSubtitle)==null?void 0:u.runs[2].text,year:(p=e==null?void 0:e.subtitle)==null?void 0:p.runs[4].text},a=this.data.contents.singleColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.sectionListRenderer.contents[0].musicPlaylistShelfRenderer.contents,i=Pe.PlaylistItem.parse(a);return{...t,items:i}},"#processMusicPlaylist"),dl=new WeakSet,HT=n(function(){var h,l,u,p,y,b,w;let e=this.data.playabilityStatus;if(e.status=="ERROR")throw new Error(`Could not retrieve video details: ${e.status} - ${e.reason}`);let t=this.data.videoDetails,s=this.data.microformat.playerMicroformatRenderer,a=this.data.streamingData,i=Object.entries(s),r=Object.entries(t),o={id:"",title:"",description:"",thumbnail:[],metadata:{}};if(i.forEach(_=>{let v=G.camelToSnake(_[0]);Hu.METADATA_KEYS.includes(v)?v=="view_count"?o.metadata[v]=parseInt(_[1]):v=="owner_profile_url"?o.metadata.channel_url=_[1]:v=="owner_channel_name"?o.metadata.channel_name=_[1]:o.metadata[v]=_[1]:o[v]=_[1]}),r.forEach(_=>{let v=G.camelToSnake(_[0]);Hu.BLACKLISTED_KEYS.includes(v)||(Hu.METADATA_KEYS.includes(v)?v=="view_count"?o.metadata[v]=parseInt(_[1]):o.metadata[v]=_[1]:v=="short_description"?o.description=_[1]:v=="thumbnail"?o.thumbnail=_[1].thumbnails.slice(-1)[0]:v=="video_id"?o.id=_[1]:o[v]=_[1])}),this.data.continuation){let _=this.data.continuation.contents.twoColumnWatchNextResults.results.results.contents.find(S=>S.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer,v=this.data.continuation.contents.twoColumnWatchNextResults.results.results.contents.find(S=>S.videoSecondaryInfoRenderer).videoSecondaryInfoRenderer,I=_.videoActions.menuRenderer.topLevelButtons.find(S=>S.toggleButtonRenderer.defaultIcon.iconType=="LIKE"),L=_.videoActions.menuRenderer.topLevelButtons.find(S=>S.toggleButtonRenderer.defaultIcon.iconType=="DISLIKE"),q=(l=(h=v.subscribeButton.subscribeButtonRenderer)==null?void 0:h.notificationPreferenceButton)==null?void 0:l.subscriptionNotificationToggleButtonRenderer;o.metadata.is_liked=I.toggleButtonRenderer.isToggled,o.metadata.is_disliked=L.toggleButtonRenderer.isToggled,o.metadata.is_subscribed=((u=v.subscribeButton.subscribeButtonRenderer)==null?void 0:u.subscribed)||!1,o.metadata.subscriber_count=((y=(p=v.owner.videoOwnerRenderer)==null?void 0:p.subscriberCountText)==null?void 0:y.simpleText)||"N/A",o.metadata.current_notification_preference=(q==null?void 0:q.states.find(S=>S.stateId==q.currentStateId).state.buttonRenderer.icon.iconType)||"N/A",o.metadata.publish_date_text=_.dateText.simpleText,o.metadata.allow_ratings&&(o.metadata.likes={count:parseInt(I.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D/g,"")),short_count_text:I.toggleButtonRenderer.defaultText.simpleText}),o.metadata.owner_badges=((w=(b=v.owner.videoOwnerRenderer)==null?void 0:b.badges)==null?void 0:w.map(S=>S.metadataBadgeRenderer.tooltip))||[]}return a&&a.adaptiveFormats?o.metadata.available_qualities=[...new Set(a.adaptiveFormats.filter(_=>_.qualityLabel).map(_=>_.qualityLabel).sort((_,v)=>+_.replace(/\D/gi,"")-+v.replace(/\D/gi,"")))]:o.metadata.available_qualities=[],o},"#processVideoInfo"),pl=new WeakSet,zT=n(function(){if(!this.data.onResponseReceivedEndpoints)throw new G.UnavailableContentError("Comments section not available",this.args);let e=G.findNode(this.data,"onResponseReceivedEndpoints","commentsHeaderRenderer",5,!1),t=parseInt(e.commentsHeaderRenderer.countText.runs[0].text.replace(/,/g,"")),s=parseInt(t/20),a=n(i=>{let r=G.findNode(i,"onResponseReceivedEndpoints","commentRenderer",4,!1),o={page_count:s,comment_count:t,items:[]};return o.items=r.map(h=>{let l=ue.CommentThread.parseItem(h);if(l)return l.like=()=>this.session.actions.engage("comment/perform_comment_action",{comment_action:"like",comment_id:l.metadata.id,video_id:this.args.video_id}),l.dislike=()=>this.session.actions.engage("comment/perform_comment_action",{comment_action:"dislike",comment_id:l.metadata.id,video_id:this.args.video_id}),l.reply=u=>this.session.actions.engage("comment/create_comment_reply",{text:u,comment_id:l.metadata.id,video_id:this.args.video_id}),l.report=async()=>{let u=G.findNode(h,"commentThreadRenderer","params",10,!1),p=await this.session.actions.flag("flag/get_form",{params:u.params}),y=G.findNode(p,"actions","flagAction",13,!1);return await this.session.actions.flag("flag/flag",{action:y.flagAction})},l.getReplies=async()=>{if(l.metadata.reply_count===0)throw new G.InnertubeError("This comment has no replies",l);let u=xL.encodeCommentRepliesParams(this.args.video_id,l.metadata.id),p=await this.session.actions.next({ctoken:u});return a(p.data)},l.translate=async u=>{let p=await this.session.actions.engage("comment/perform_comment_action",{text:l.text,comment_action:"translate",comment_id:l.metadata.id,video_id:this.args.video_id,target_language:u}),y=G.findNode(p.data,"frameworkUpdates","content",7,!1);return{success:p.success,status_code:p.status_code,translated_content:y.content}},l}).filter(h=>h),o.comment=h=>this.session.actions.engage("comment/create_comment",{video_id:this.args.video_id,text:h}),o.getContinuation=async()=>{let h=r.find(y=>y.continuationItemRenderer);if(!h)throw new G.InnertubeError("You've reached the end");let l=!!h.continuationItemRenderer.button,u=G.findNode(h,"continuationItemRenderer","token",l?5:3),p=await this.session.actions.next({ctoken:u.token});return a(p.data)},o},"parseComments");return a(this.data)},"#processComments"),ml=new WeakSet,KT=n(function(){let e=G.findNode(this.data,"contents","videoRenderer",9,!1),t=n(s=>({videos:ue.VideoItem.parse(s),getContinuation:n(async()=>{let o=s.find(l=>l.continuationItemRenderer).continuationItemRenderer.continuationEndpoint.continuationCommand.token,h=await this.session.actions.browse(o,{is_ctoken:!0});return t(h.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems)},"getContinuation")}),"parseItems");return t(e)},"#processHomeFeed"),gl=new WeakSet,QT=n(function(){var o,h,l;let e=G.findNode(this.data,"contents","profileColumnRenderer",3),s=e.profileColumnRenderer.items.find(u=>u.profileColumnStatsRenderer).profileColumnStatsRenderer.items,a=e.profileColumnRenderer.items.find(u=>u.profileColumnUserInfoRenderer),i={};return s.forEach(u=>{let p=u.profileColumnStatsEntryRenderer.label.runs.map(y=>y.text).join("");i[p.toLowerCase()]=parseInt(u.profileColumnStatsEntryRenderer.value.simpleText)}),{profile:{name:(h=(o=a.profileColumnUserInfoRenderer)==null?void 0:o.title)==null?void 0:h.simpleText,thumbnails:(l=a.profileColumnUserInfoRenderer)==null?void 0:l.thumbnail.thumbnails,stats:i}}},"#processLibrary"),_l=new WeakSet,JT=n(function(){let e=G.findNode(this.data,"contents","contents",9,!1),t={items:[]},s=n(a=>(a.forEach(i=>{if(!i.itemSectionRenderer)return;let r=i.itemSectionRenderer.contents[0],o=r.shelfRenderer.title.runs[0].text,h=r.shelfRenderer.content.gridRenderer.items,l=ue.GridVideoItem.parse(h);t.items.push({date:o,videos:l})}),t.getContinuation=async()=>{let r=a.find(l=>l.continuationItemRenderer).continuationItemRenderer.continuationEndpoint.continuationCommand.token,o=await this.session.actions.browse(r,{is_ctoken:!0}),h=G.findNode(o.data,"onResponseReceivedActions","itemSectionRenderer",4,!1);return t.items=[],s(h)},t),"parseItems");return s(e)},"#processSubscriptionFeed"),yl=new WeakSet,XT=n(function(){let e=this.data.contents.twoColumnBrowseResultsRenderer.tabs,t=this.data.metadata,a=e.find(o=>o.tabRenderer.title=="Home").tabRenderer.content.sectionListRenderer.contents,i=[];return a.forEach(o=>{var h;if(o.itemSectionRenderer){let l=o.itemSectionRenderer.contents[0],u=(h=l==null?void 0:l.shelfRenderer)==null?void 0:h.content.horizontalListRenderer;if(!u)return;let p={title:l.shelfRenderer.title.runs[0].text,content:[]};p.content=u.items.map(y=>{if(y.gridVideoRenderer)return ue.GridVideoItem.parseItem(y);if(y.gridPlaylistRenderer)return ue.GridPlaylistItem.parseItem(y)}),i.push(p)}}),{...ue.ChannelMetadata.parse(t),content:{home_page:i,getVideos:()=>{},getPlaylists:()=>{},getCommunity:()=>{},getChannels:()=>{},getAbout:()=>{}}}},"#processChannel"),wl=new WeakSet,ZT=n(function(){let e=this.data.actions[0].openPopupAction.popup.multiPageMenuRenderer.sections[0];if(!e.multiPageMenuNotificationSectionRenderer)throw new G.InnertubeError("No notifications");let t=n(s=>({items:ue.NotificationItem.parse(s),getContinuation:n(async()=>{var l,u,p;let r=s.find(y=>y.continuationItemRenderer),o=(p=(u=(l=r==null?void 0:r.continuationItemRenderer)==null?void 0:l.continuationEndpoint)==null?void 0:u.getNotificationMenuEndpoint)==null?void 0:p.ctoken,h=await this.session.actions.notifications("get_notification_menu",{ctoken:o});return t(h.data.actions[0].appendContinuationItemsAction.continuationItems)},"getContinuation")}),"parseItems");return t(e.multiPageMenuNotificationSectionRenderer.items)},"#processNotifications"),vl=new WeakSet,fT=n(function(){let e=G.findNode(this.data,"contents","tabRenderer",4,!1),t={};return e.forEach(s=>{let a=s.tabRenderer,i=a==null?void 0:a.content,r=a.title.toLowerCase();if(t[r]={},i){let o=i.sectionListRenderer.contents;t[r].content=o.map(h=>{let l=h.itemSectionRenderer.contents[0].shelfRenderer;return ue.ShelfRenderer.parse(l)})}else{let o=a.endpoint.browseEndpoint.params;t[r].getVideos=async()=>{let h=await this.session.actions.browse("FEtrending",{params:o}),p=G.findNode(h,"contents","tabRenderer",4,!1).find(b=>b.tabRenderer.title===a.title).tabRenderer.content.sectionListRenderer.contents,y=G.findNode(p,"itemSectionRenderer","items",8,!1);return ue.VideoItem.parse(y)}}}),t},"#processTrending"),bl=new WeakSet,jT=n(function(){let e=G.findNode(this.data,"contents","videoRenderer",9,!1),t={items:[]},s=n(a=>(a.forEach(i=>{if(!i.itemSectionRenderer)return;let r=i.itemSectionRenderer.header.itemSectionHeaderRenderer.title,o=(r==null?void 0:r.simpleText)||(r==null?void 0:r.runs.map(u=>u.text).join("")),h=i.itemSectionRenderer.contents,l=ue.VideoItem.parse(h);t.items.push({date:o,videos:l})}),t.getContinuation=async()=>{let r=a.find(h=>h.continuationItemRenderer).continuationItemRenderer.continuationEndpoint.continuationCommand.token,o=await this.session.actions.browse(r,{is_ctoken:!0});return t.items=[],s(o.data.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems)},t),"parseItems");return s(e)},"#processHistory");eE.exports=rl});var TL=ah(),EL=Bb(),qL=tx(),RL=rx(),IL=cx(),SL=lx(),CL=mx(),nE=qx(),LL=Sx(),kL=Pu(),AL=Px(),PL=Nu(),NL=Ox(),OL=Xx(),UL=jx(),DL=ku(),BL=require("events"),{PassThrough:ML}=require("stream"),VL=iT(),FL=X(),{InnertubeError:YL,throwIfMissing:We,generateRandomString:sE}=B(),iE=tE(),$L=ze(),dt,Ht,Tl,rE,xl=class{constructor(e){T(this,Tl);T(this,dt,void 0);T(this,Ht,void 0);return this.config=e||{},A(this,Tl,rE).call(this)}signIn(e={}){return new Promise(async t=>{this.oauth.init(e),this.oauth.validateCredentials()&&(await this.oauth.checkAccessTokenValidity(),this.logged_in=!0,t()),this.ev.on("auth",s=>{this.logged_in=!0,s.status==="SUCCESS"&&t()})})}async signOut(){if(!this.logged_in)throw new YL("You are not signed in");let e=await this.oauth.revokeAccessToken();return this.logged_in=!1,e}async getInfo(e){We({video_id:e});let t=sE(16),s=this.actions.getVideoInfo(e,t),a=this.actions.next({video_id:e}),i=await Promise.all([s,a]);return new nE(i,this.actions,d(this,dt),t)}async getBasicInfo(e){We({video_id:e});let t=sE(16),s=await this.actions.getVideoInfo(e,t);return new nE([s,{}],this.actions,d(this,dt),t)}async search(e,t={}){We({query:e});let s=await this.actions.search({query:e,filters:t});return new CL(this.actions,s.data)}async getSearchSuggestions(e){We({query:e});let t=await d(this,Ht).call(this,{url:"search",baseURL:FL.URLS.YT_SUGGESTIONS,params:{q:e,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:this.context.client.gl,hl:this.context.client.hl}});return JSON.parse(t.data.replace(")]}'",""))[1].map(i=>i[0])}async getComments(e,t){We({video_id:e});let s=$L.encodeCommentsSectionParams(e,{sort_by:t||"TOP_COMMENTS"}),a=await this.actions.next({ctoken:s});return new NL(this.actions,a.data)}async getHomeFeed(){let e=await this.actions.browse("FEwhat_to_watch");return new UL(this.actions,e.data)}async getLibrary(){let e=await this.actions.browse("FElibrary");return new AL(e.data,this.actions)}async getHistory(){let e=await this.actions.browse("FEhistory");return new PL(this.actions,e.data)}async getTrending(){let e=await this.actions.browse("FEtrending");return new DL(this.actions,e.data)}async getSubscriptionsFeed(){let e=await this.actions.browse("FEsubscriptions");return new iE(this,e,{client:"YOUTUBE",data_type:"SUBSFEED"}).parse()}async getChannel(e){We({id:e});let t=await this.actions.browse(e);return new LL(this.actions,t.data)}async getNotifications(){let e=await this.actions.notifications("get_notification_menu");return new iE(this,e.data,{client:"YOUTUBE",data_type:"NOTIFICATIONS"}).parse()}async getUnseenNotificationsCount(){return(await this.actions.notifications("get_unseen_count")).data.unseenCount}async getPlaylist(e){We({playlist_id:e});let t=await this.actions.browse(`VL${e.replace(/VL/g,"")}`);return new kL(this.actions,t.data)}async getStreamingData(e,t={}){return(await this.getBasicInfo(e)).chooseFormat(t)}download(e,t={}){We({video_id:e});let s=new ML;return(async()=>{let a=await this.getBasicInfo(e);s.emit("info",a),a.download(t,s)})(),s}getPlayer(){return d(this,dt)}get request(){return d(this,Ht)}};n(xl,"Innertube"),dt=new WeakMap,Ht=new WeakMap,Tl=new WeakSet,rE=n(async function(){let e=new VL(this.config),t=await new qL(this.config,e.instance).build();return this.key=t.key,this.version=t.api_version,this.context=t.context,this.logged_in=!!this.config.cookie,this.sts=t.player.sts,this.player_url=t.player.url,C(this,dt,t.player),e.setSession(this),C(this,Ht,e.instance),this.ev=new BL,this.oauth=new TL(this.ev,e.instance),this.actions=new EL(this),this.account=new RL(this.actions),this.playlist=new IL(this.actions),this.interact=new SL(this.actions),this.music=new OL(this),this},"#init");module.exports=xl;
//# sourceMappingURL=node.js.map
